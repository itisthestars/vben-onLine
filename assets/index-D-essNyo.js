var Y=Object.defineProperty,H=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var T=(n,e,s)=>e in n?Y(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s,x=(n,e)=>{for(var s in e||(e={}))Q.call(e,s)&&T(n,s,e[s]);if(P)for(var s of P(e))X.call(e,s)&&T(n,s,e[s]);return n},L=(n,e)=>H(n,J(e));var w=(n,e,s)=>new Promise((c,p)=>{var h=l=>{try{u(s.next(l))}catch(_){p(_)}},m=l=>{try{u(s.throw(l))}catch(_){p(_)}},u=l=>l.done?c(l.value):Promise.resolve(l.value).then(h,m);u((s=s.apply(n,e)).next())});import{p as $,Y as q,w as K,a as Z}from"./entry/index-Be056_tE.js";import{_ as tt}from"./BasicForm.vue_vue_type_script_setup_true_lang-BU12mo26.js";import"./BasicForm.vue_vue_type_style_index_0_lang-DPVDUe8e.js";import"./componentMap-B6KkKZ1q.js";import{u as et}from"./useForm-BQP96BuX.js";import{f as g,d as E,c as z,o as at,ai as V,U as ot,V as B,X as b,k as a,u as t,a6 as o,G as M,$ as st,Y as nt,a0 as rt,a8 as it,H as lt,a3 as pt}from"./vue-CZYcLuVH.js";import{ah as I,V as O,b9 as ut,h as dt,a3 as ct,ba as mt,bb as ft,aE as gt,T as D,bc as ht,aw as _t,aU as vt}from"./antd-BA4tRdrP.js";import{P as bt}from"./index-D4crmGeM.js";import{d as Ct}from"./table-AFWkemHj.js";import"./FormItem.vue_vue_type_script_lang-q8KGAMLR.js";import"./helper-D46bqAPs.js";import"./index-Cu9m3Ahs.js";import"./useWindowSizeFn-DzNNC3Qx.js";import"./useFormItem-CEoeBkec.js";import"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-CJgKo72p.js";import"./index-DVe6ygqc.js";import"./uuid-D0SLUWHI.js";import"./useSortable-D7YRm_9I.js";import"./download-Du6vLd8B.js";import"./base64Conver-sUr-KUg7.js";import"./index-CSRBlFSn.js";import"./IconPicker.vue_vue_type_script_setup_true_lang-0dSb6THa.js";import"./copyTextToClipboard-EhsKC1py.js";import"./index-sH4Ip0Xa.js";import"./index-SIJwhUpc.js";import"./useContentViewHeight-DT9lRWta.js";import"./onMountedOrActivated-DahpobXO.js";const C=g(12),yt=(n=6,e=12)=>({min:n,max:e,marks:(()=>{const c={};for(let p=n;p<e+1;p++)c[p]={style:{color:"#fff"},label:p};return c})(),step:1}),wt={class:"p-2"},Mt={class:"p-4 mb-2 bg-white"},St={class:"p-2 bg-white"},xt={class:"flex justify-end space-x-2"},kt=E({__name:"CardList",props:{params:$.object.def({}),api:$.func},emits:["getMethod","delete"],setup(n,{emit:e}){const s=I.Item,c=O.Meta,p=ut.Paragraph,h=z(()=>yt(4)),m=n,u=e,l=g([]),_=z(()=>`h-${120-C.value*6}`),[F,{validate:R}]=et({schemas:[{field:"type",component:"Input",label:"类型"}],labelWidth:80,baseColProps:{span:6},actionColOptions:{span:24},autoSubmitOnEnter:!0,submitFunc:N});function N(){return w(this,null,function*(){const i=yield R();yield f(i)})}function U(i){v.value=i*4,f()}at(()=>{f(),u("getMethod",f)});function f(){return w(this,arguments,function*(i={}){const{api:r,params:y}=m;if(r&&dt(r)){const d=yield r(x(L(x({},y),{page:S.value,pageSize:v.value}),i));l.value=d.items,k.value=d.total}})}const S=g(1),v=g(36),k=g(0),j=g({showSizeChanger:!1,showQuickJumper:!0,pageSize:v,current:S,total:k,showTotal:i=>`总 ${i} 条`,onChange:A,onShowSizeChange:G});function A(i,r){S.value=i,v.value=r,f()}function G(i,r){v.value=r,f()}function W(i){return w(this,null,function*(){u("delete",i)})}return(i,r)=>{const y=V("a-button");return B(),ot("div",wt,[b("div",Mt,[a(t(tt),{onRegister:t(F)},null,8,["onRegister"])]),b("div",St,[a(t(I),{grid:{gutter:5,xs:1,sm:2,md:4,lg:4,xl:6,xxl:t(C)},"data-source":l.value,pagination:j.value},{header:o(()=>[b("div",xt,[rt(i.$slots,"header"),a(t(D),null,{title:o(()=>[r[1]||(r[1]=b("div",{class:"w-50"},"每行显示数量",-1)),a(t(_t),it({id:"slider"},h.value,{value:t(C),"onUpdate:value":r[0]||(r[0]=d=>lt(C)?C.value=d:null),onChange:U}),null,16,["value"])]),default:o(()=>[a(y,null,{default:o(()=>[a(t(ht))]),_:1})]),_:1}),a(t(D),{onClick:f},{title:o(()=>[...r[2]||(r[2]=[M("刷新",-1)])]),default:o(()=>[a(y,null,{default:o(()=>[a(t(vt))]),_:1})]),_:1})])]),renderItem:o(({item:d})=>[a(t(s),null,{default:o(()=>[a(t(O),null,{title:o(()=>[...r[3]||(r[3]=[])]),cover:o(()=>[b("div",{class:nt(_.value)},[a(t(gt),{src:d.imgs[0]},null,8,["src"])],2)]),actions:o(()=>[a(t(mt)),a(t(q),{trigger:["hover"],dropMenuList:[{text:"删除",event:"1",popConfirm:{title:"是否确认删除",confirm:W.bind(null,d.id)}}],popconfirm:""},{default:o(()=>[a(t(ft))]),_:2},1032,["dropMenuList"])]),default:o(()=>[a(t(c),null,{title:o(()=>[a(t(p),{content:d.name,ellipsis:{tooltip:d.address}},null,8,["content","ellipsis"])]),avatar:o(()=>[a(t(ct),{src:d.avatar},null,8,["src"])]),description:o(()=>[M(st(d.time),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:3},8,["grid","data-source","pagination"])])])}}}),Pt=K(kt),ae=E({__name:"index",setup(n){const{notification:e}=Z(),s={};let c=()=>{};function p(m){c=m}function h(m){e.success({message:`成功删除${m}`}),c()}return(m,u)=>{const l=V("a-button");return B(),pt(t(bt),{title:"卡片列表示例",content:"基础封装"},{default:o(()=>[a(t(Pt),{params:s,api:t(Ct),onGetMethod:p,onDelete:h},{header:o(()=>[a(l,{type:"primary",color:"error"},{default:o(()=>[...u[0]||(u[0]=[M(" 按钮1 ",-1)])]),_:1}),a(l,{type:"primary",color:"success"},{default:o(()=>[...u[1]||(u[1]=[M(" 按钮2 ",-1)])]),_:1})]),_:1},8,["api"])]),_:1})}}});export{ae as default};
