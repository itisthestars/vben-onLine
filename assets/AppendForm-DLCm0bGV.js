var I=(y,m,t)=>new Promise((v,a)=>{var C=e=>{try{s(t.next(e))}catch(d){a(d)}},$=e=>{try{s(t.throw(e))}catch(d){a(d)}},s=e=>e.done?v(e.value):Promise.resolve(e.value).then(C,$);s((t=t.apply(y,m)).next())});import{_}from"./BasicForm.vue_vue_type_script_setup_true_lang-DsotBgMo.js";import"./BasicForm.vue_vue_type_style_index_0_lang-CCGaOPP2.js";import"./componentMap-BfomYzjV.js";import{u as g}from"./useForm-DdFvvX9h.js";import{C as F,a as w}from"./entry/index-DAHXR0BT.js";import{P as A}from"./index-X8e0NcGH.js";import{d as M,f as S,ai as O,a3 as c,V as b,a6 as l,k as n,u as i,W as k,G as p}from"./vue-DdhQyU-d.js";import"./FormItem.vue_vue_type_script_lang-Bh6CdOaz.js";import"./helper-dtqtwqJr.js";import"./antd-Bp8JzQqk.js";import"./index-4RrtIrO2.js";import"./useWindowSizeFn-CmfjHW1W.js";import"./useFormItem-qiFQow_c.js";import"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-BGaBoiLt.js";import"./index-CpPkdiC-.js";import"./uuid-D0SLUWHI.js";import"./useSortable-BqxTRq3n.js";import"./download-8Siqj5dn.js";import"./base64Conver-sUr-KUg7.js";import"./index-DrJtsPVY.js";import"./IconPicker.vue_vue_type_script_setup_true_lang-mqQ3N-Op.js";import"./copyTextToClipboard-Cz3oY3iE.js";import"./index-DLxhcpHN.js";import"./index-_U9yz__m.js";import"./useContentViewHeight-DxET5L8Y.js";import"./onMountedOrActivated-wek5WTBG.js";const ce=M({__name:"AppendForm",setup(y){const{createMessage:m}=w(),t=S(0),[v,{appendSchemaByField:a,removeSchemaByField:C,validate:$}]=g({schemas:[{field:"field0a",component:"Input",label:"字段0",required:!0},{field:"field0b",component:"Input",label:"字段0",required:!0},{field:"0",label:" ",slot:"add"}],labelWidth:100,actionColOptions:{span:24},baseColProps:{span:8}});function s(){return I(this,null,function*(){try{const r=yield $();m.success("请前往控制台查看输出")}catch(r){}})}const e=S(1);function d(){a({field:`field${e.value}a`,component:"Input",label:"字段"+e.value,required:!0},""),a({field:`field${e.value}b`,component:"Input",label:"字段"+e.value,required:!0},""),a({field:`${e.value}`,component:"Input",label:" ",slot:"add"},""),e.value++}function G(){a([{field:`field${e.value}a`,component:"Input",label:"字段"+e.value,required:!0},{field:`field${e.value}b`,component:"Input",label:"字段"+e.value,required:!0},{field:`${e.value}`,component:"Input",label:" ",slot:"add"}],""),e.value++}function B(r){C([`field${r}a`,`field${r}b`,`${r}`]),e.value--}const[P,{appendSchemaByField:V,removeSchemaByField:q,getFieldsValue:T,setFieldsValue:N}]=g({schemas:[{field:`field[${t.value}].a`,component:"Input",label:"字段a",colProps:{span:9}},{field:`field[${t.value}].b`,colProps:{span:9},component:"Input",label:"字段b"}],labelWidth:100,actionColOptions:{span:24},baseColProps:{span:8}});function h(){t.value++,V([{field:`field[${t.value}].a`,component:"Input",colProps:{span:9},label:"字段a"},{field:`field[${t.value}].b`,component:"Input",colProps:{span:9},label:"字段b"}],"")}function x(){q([`field[${t.value}].a`,`field[${t.value}].b`]),t.value--}function R(){N({field:[{a:"默认a",b:"默认b"}]})}function W(){m.success("请前往控制台查看输出")}return(r,o)=>{const u=O("a-button");return b(),c(i(A),{title:"表单增删示例"},{default:l(()=>[n(i(F),{title:"表单项增删"},{default:l(()=>[n(i(_),{onRegister:i(v),onSubmit:s},{add:l(({field:f})=>[Number(f)===0?(b(),c(u,{key:0,onClick:d},{default:l(()=>[...o[0]||(o[0]=[p("+",-1)])]),_:1})):k("",!0),Number(f)===0?(b(),c(u,{key:1,class:"ml-2",onClick:G},{default:l(()=>[...o[1]||(o[1]=[p(" 批量添加表单配置 ",-1)])]),_:1})):k("",!0),Number(f)>0?(b(),c(u,{key:2,onClick:()=>B(f)},{default:l(()=>[...o[2]||(o[2]=[p("-",-1)])]),_:1},8,["onClick"])):k("",!0)]),_:1},8,["onRegister"])]),_:1}),n(i(F),{title:"表单组增删",class:"my-3"},{default:l(()=>[n(u,{onClick:R},{default:l(()=>[...o[3]||(o[3]=[p("设置初始值",-1)])]),_:1}),n(u,{class:"m-2",onClick:h},{default:l(()=>[...o[4]||(o[4]=[p(" 批量添加表单 ",-1)])]),_:1}),n(u,{onClick:x},{default:l(()=>[...o[5]||(o[5]=[p("批量减少表单",-1)])]),_:1}),n(i(_),{onRegister:i(P),onSubmit:W},null,8,["onRegister"])]),_:1})]),_:1})}}});export{ce as default};
