var d=(f,n,e)=>new Promise((l,i)=>{var m=o=>{try{r(e.next(o))}catch(u){i(u)}},t=o=>{try{r(e.throw(o))}catch(u){i(u)}},r=o=>o.done?l(o.value):Promise.resolve(o.value).then(m,t);r((e=e.apply(f,n)).next())});import{P as x}from"./index-BJIJfNvs.js";import{l as y}from"./entry/index-BmFZXaSM.js";import{t as k}from"./account-u6VeAnKy.js";import{V as c}from"./antd-BA4tRdrP.js";import{d as C,ai as T,a3 as S,V,a6 as a,k as s,u as p,G as _,X as w}from"./vue-CZYcLuVH.js";import"./useContentViewHeight-C1bdbeOg.js";import"./useWindowSizeFn-BCz0jO_a.js";import"./onMountedOrActivated-DahpobXO.js";const H=C({name:"TestSessionTimeout",__name:"index",setup(f){const n=c.Grid,e=y();function l(){return d(this,null,function*(){e.setToken(void 0),e.setSessionTimeout(!0)})}function i(){return d(this,null,function*(){try{yield k()}catch(m){}})}return(m,t)=>{const r=T("a-button");return V(),S(p(x),{title:"登录过期示例",content:"用户登录过期示例，不再跳转登录页，直接生成页面覆盖当前页面，方便保持过期前的用户状态！"},{default:a(()=>[s(p(c),{title:"请点击下面的按钮访问测试接口",extra:"所访问的接口会返回Token过期响应"},{default:a(()=>[s(p(n),{style:{width:"50%","text-align":"center"}},{default:a(()=>[s(r,{type:"primary",onClick:l},{default:a(()=>[...t[0]||(t[0]=[_("HttpStatus == 401",-1)])]),_:1})]),_:1}),s(p(n),{style:{width:"50%","text-align":"center"}},{default:a(()=>[t[2]||(t[2]=w("span",null,null,-1)),s(r,{class:"ml-4",type:"primary",onClick:i},{default:a(()=>[...t[1]||(t[1]=[_("Response.code == 401",-1)])]),_:1})]),_:1})]),_:1})]),_:1})}}});export{H as default};
