var fe=Object.defineProperty,de=Object.defineProperties;var ge=Object.getOwnPropertyDescriptors;var Z=Object.getOwnPropertySymbols;var me=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable;var G=(a,l,s)=>l in a?fe(a,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[l]=s,y=(a,l)=>{for(var s in l||(l={}))me.call(l,s)&&G(a,s,l[s]);if(Z)for(var s of Z(l))he.call(l,s)&&G(a,s,l[s]);return a},V=(a,l)=>de(a,ge(l));var J=(a,l,s)=>new Promise((i,c)=>{var u=n=>{try{r(s.next(n))}catch(p){c(p)}},e=n=>{try{r(s.throw(n))}catch(p){c(p)}},r=n=>n.done?i(n.value):Promise.resolve(n.value).then(u,e);r((s=s.apply(a,l)).next())});import{h as x,f as q,p as j,O as we,r as ye,d as K,V as De,t as ee,v as ke,K as te,w as Be}from"./entry/index-Be056_tE.js";import{d as z,c as h,ai as ve,U as b,W as P,V as d,a0 as g,F as $e,a3 as O,a8 as F,a6 as w,G as I,$ as H,a1 as oe,Y as k,u as o,X as W,k as _,f as D,g as L,w as X,q as Ce,aj as Y,n as be,a4 as Pe,Z as Oe,_ as Te,y as se,r as ne,h as Se,J as S}from"./vue-CZYcLuVH.js";import{b5 as Fe,ac as He,Z as Le,h as ae,c as Ne}from"./antd-BA4tRdrP.js";const{t:Q}=x(),re={confirmLoading:{type:Boolean},showCancelBtn:{type:Boolean,default:!0},cancelButtonProps:Object,cancelText:{type:String,default:Q("common.cancelText")},showOkBtn:{type:Boolean,default:!0},okButtonProps:Object,okText:{type:String,default:Q("common.okText")},okType:{type:String,default:"primary"},showFooter:{type:Boolean},footerHeight:{type:[String,Number],default:60}},Re=y({isDetail:{type:Boolean},title:{type:String,default:""},loadingText:{type:String},showDetailBack:{type:Boolean,default:!0},open:{type:Boolean},loading:{type:Boolean},maskClosable:{type:Boolean,default:!0},getContainer:{type:[Object,String]},closeFunc:{type:[Function,Object],default:null},destroyOnClose:{type:Boolean}},re),Ve=z({name:"BasicDrawerFooter",__name:"DrawerFooter",props:V(y({},re),{height:{type:String,default:"60px"}}),emits:["ok","close"],setup(a,{emit:l}){const s=a,i=l,{prefixCls:c}=q("basic-drawer-footer"),u=h(()=>{const n=`${s.height}`;return{height:n,lineHeight:`calc(${n} - 1px)`}});function e(){i("ok")}function r(){i("close")}return(n,p)=>{const m=ve("a-button");return n.showFooter||n.$slots.footer?(d(),b("div",{key:0,class:k(o(c)),style:oe(u.value)},[n.$slots.footer?g(n.$slots,"footer",{key:1}):(d(),b($e,{key:0},[g(n.$slots,"insertFooter"),n.showCancelBtn?(d(),O(m,F({key:0},n.cancelButtonProps,{onClick:r,class:"mr-2"}),{default:w(()=>[I(H(n.cancelText),1)]),_:1},16)):P("",!0),g(n.$slots,"centerFooter"),n.showOkBtn?(d(),O(m,F({key:1,type:n.okType,onClick:e},n.okButtonProps,{class:"mr-2",loading:n.confirmLoading}),{default:w(()=>[I(H(n.okText),1)]),_:1},16,["type","loading"])):P("",!0),g(n.$slots,"appendFooter")],64))],6)):P("",!0)}}}),je={key:1},Ie=z({name:"BasicDrawerHeader",__name:"DrawerHeader",props:{isDetail:j.bool,showDetailBack:j.bool,title:j.string},emits:["close"],setup(a,{emit:l}){const s=l,{prefixCls:i}=q("basic-drawer-header");function c(){s("close")}return(u,e)=>a.isDetail?(d(),b("div",{key:1,class:k([o(i),`${o(i)}--detail`])},[W("span",{class:k(`${o(i)}__twrap`)},[a.showDetailBack?(d(),b("span",{key:0,onClick:c},[_(o(Fe),{class:k(`${o(i)}__back`)},null,8,["class"])])):P("",!0),a.title?(d(),b("span",je,H(a.title),1)):P("",!0)],2),W("span",{class:k(`${o(i)}__toolbar`)},[g(u.$slots,"titleToolbar")],2)],2)):(d(),O(o(we),{key:0,class:k(o(i))},{default:w(()=>[g(u.$slots,"title"),I(" "+H(u.$slots.title?"":a.title),1)]),_:3},8,["class"]))}}),_e=z({inheritAttrs:!1,__name:"BasicDrawer",props:Re,emits:["open-change","ok","close","register"],setup(a,{emit:l}){const s=a,i=l,c=D(!1),u=ye(),e=D({}),{t:r}=x(),{prefixVar:n,prefixCls:p}=q("basic-drawer"),m={setDrawerProps:ue,emitOpen:void 0},T=L();T&&i("register",m,T.uid);const A=h(()=>K(s,o(e))),v=h(()=>{const t=V(y(y({placement:"right"},o(u)),o(A)),{open:o(c)});t.title=void 0;const{isDetail:f,width:$,wrapClassName:C,getContainer:R}=t;if(f){$||(t.width="100%");const U=`${p}__detail`;t.rootClassName=C?`${C} ${U}`:U,R||(t.getContainer=`.${n}-layout-content`)}return t}),le=h(()=>y(y({},u),o(v))),M=h(()=>{const{footerHeight:t,showFooter:f}=o(v);return f&&t?He(t)?`${t}px`:`${t.replace("px","")}px`:"0px"}),ie=h(()=>({position:"relative",height:`calc(100% - ${o(M)})`})),ce=h(()=>{var t;return!!((t=o(v))!=null&&t.loading)});X(()=>s.open,(t,f)=>{t!==f&&(c.value=t)},{deep:!0}),X(()=>c.value,t=>{se(()=>{i("open-change",t),T&&m.emitOpen&&m.emitOpen(t,T.uid)})});function N(t){return J(this,null,function*(){const{closeFunc:f}=o(v);if(i("close",t),f&&ae(f)){const $=yield f();c.value=!$;return}c.value=!1})}function ue(t){e.value=K(o(e),t),Reflect.has(t,"open")&&(c.value=!!t.open)}function pe(){i("ok")}return(t,f)=>{const $=Ce("loading");return d(),O(o(Le),F(le.value,{class:o(p),onClose:N}),Y({default:w(()=>[be((d(),O(o(De),{style:oe(ie.value),"loading-tip":t.loadingText||o(r)("common.loadingText")},{default:w(()=>[g(t.$slots,"default")]),_:3},8,["style","loading-tip"])),[[$,ce.value]]),_(Ve,F(v.value,{onClose:N,onOk:pe,height:M.value}),Y({_:2},[Pe(Object.keys(t.$slots),C=>({name:C,fn:w(R=>[g(t.$slots,C,Oe(Te(R||{})))])}))]),1040,["height"])]),_:2},[t.$slots.title?{name:"title",fn:w(()=>[g(t.$slots,"title")]),key:"1"}:{name:"title",fn:w(()=>[_(Ie,{title:A.value.title,isDetail:t.isDetail,showDetailBack:t.showDetailBack,onClose:N},{titleToolbar:w(()=>[g(t.$slots,"titleToolbar")]),_:3},8,["title","isDetail","showDetailBack"])]),key:"0"}]),1040,["class"])}}}),B=ne({}),E=ne({});function Me(){if(!L())throw new Error("useDrawer() can only be used inside setup() or functional components!");const a=D(null),l=D(!1),s=D(0);function i(e,r){ee(()=>{a.value=null,l.value=null,B[o(s)]=null}),!(o(l)&&ke()&&e===o(a))&&(s.value=r,a.value=e,l.value=!0,e.emitOpen=(n,p)=>{E[p]=n})}const c=()=>{const e=o(a);return e||te("useDrawer instance is undefined!"),e},u={setDrawerProps:e=>{var r;(r=c())==null||r.setDrawerProps(e)},getOpen:h(()=>E[~~o(s)]),openDrawer:(e=!0,r,n=!0)=>{var m;if((m=c())==null||m.setDrawerProps({open:e}),!r)return;if(n){B[o(s)]=null,B[o(s)]=S(r);return}Ne(S(B[o(s)]),S(r))||(B[o(s)]=S(r))},closeDrawer:()=>{var e;(e=c())==null||e.setDrawerProps({open:!1})}};return[i,u]}const Ue=a=>{const l=D(null),s=L(),i=D(0);if(!L())throw new Error("useDrawerInner() can only be used inside setup() or functional components!");const c=()=>{const e=o(l);if(!e){te("useDrawerInner instance is undefined!");return}return e},u=(e,r)=>{ee(()=>{l.value=null}),i.value=r,l.value=e,s==null||s.emit("register",e,r)};return Se(()=>{const e=B[o(i)];e&&(!a||!ae(a)||se(()=>{a(e)}))}),[u,{changeLoading:(e=!0)=>{var r;(r=c())==null||r.setDrawerProps({loading:e})},changeOkLoading:(e=!0)=>{var r;(r=c())==null||r.setDrawerProps({confirmLoading:e})},getOpen:h(()=>E[~~o(i)]),closeDrawer:()=>{var e;(e=c())==null||e.setDrawerProps({open:!1})},setDrawerProps:e=>{var r;(r=c())==null||r.setDrawerProps(e)}}]},Ze=Be(_e);export{Ze as B,Ue as a,Me as u};
