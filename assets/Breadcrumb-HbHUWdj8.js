var j=Object.defineProperty,J=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var S=(u,s,a)=>s in u?j(u,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):u[s]=a,$=(u,s)=>{for(var a in s||(s={}))W.call(s,a)&&S(u,a,s[a]);if(N)for(var a of N(s))Y.call(s,a)&&S(u,a,s[a]);return u},x=(u,s)=>J(u,U(s));var w=(u,s,a)=>new Promise((y,b)=>{var C=f=>{try{p(a.next(f))}catch(v){b(v)}},h=f=>{try{p(a.throw(f))}catch(v){b(v)}},p=f=>f.done?y(f.value):Promise.resolve(f.value).then(C,h);p((a=a.apply(u,s)).next())});import{d as q,f as H,ae as K,h as Q,ai as X,U as g,V as i,k as V,a6 as d,F as z,a4 as L,a3 as k,u as o,aj as Z,W as T,$ as M,G as F,Y as I}from"./vue-CZYcLuVH.js";import{p as ee,f as ae,D as ne,aN as te,h as se,be as re,bn as ce,bc as le,aD as ue,z as G}from"./entry/index-VJM-_B3m.js";import{bI as oe,z as ie,b1 as fe,bJ as me,n as de}from"./antd-BA4tRdrP.js";const he={key:1},pe={key:1},ge=q({name:"LayoutBreadcrumb",__name:"Breadcrumb",props:{theme:ee.oneOf(["dark","light"])},setup(u){const s=H([]),{currentRoute:a}=K(),{prefixCls:y}=ae("layout-breadcrumb"),{getShowBreadCrumbIcon:b}=ne(),C=te(),{t:h}=se();Q(()=>w(this,null,function*(){var P,R,A,D;if(a.value.name===re)return;const l=yield ce(),t=a.value.matched,n=t==null?void 0:t[t.length-1];let e=a.value.path;n&&((P=n==null?void 0:n.meta)!=null&&P.currentActiveMenu)&&(e=n.meta.currentActiveMenu);const r=le(l,e),c=l.filter(O=>O.path===r[0]),m=p(c,r);if(!m||m.length===0){s.value=[];return}const _=f(m);(R=a.value.meta)!=null&&R.currentActiveMenu&&!((A=a.value.meta)!=null&&A.hideBreadcrumb)&&_.push(x($({},a.value),{name:((D=a.value.meta)==null?void 0:D.title)||a.value.name})),s.value=_}));function p(l,t){const n=[];return l.forEach(e=>{var r,c;t.includes(e.path)&&n.push(x($({},e),{name:((r=e.meta)==null?void 0:r.title)||e.name})),(c=e.children)!=null&&c.length&&n.push(...p(e.children,t))}),n}function f(l){return ue(l,t=>{const{meta:n,name:e}=t;if(!n)return!!e;const{title:r,hideBreadcrumb:c,hideMenu:m}=n;return!(!r||c||m)}).filter(t=>{var n;return!((n=t.meta)!=null&&n.hideBreadcrumb)})}function v(l){const{children:t,redirect:n,meta:e}=l;if(!(t!=null&&t.length&&!n)&&!(e!=null&&e.carryParam))if(n&&de(n))C(n);else{let r="";l.path?r=l.path:r="",r=/^\//.test(r)?r:`/${r}`,C(r)}}function E(l,t){return l.indexOf(t)!==l.length-1}function B(l){var t;return l.icon||((t=l.meta)==null?void 0:t.icon)}return(l,t)=>{const n=X("router-link");return i(),g("div",{class:I([o(y),`${o(y)}--${u.theme}`])},[V(o(me),null,{default:d(()=>[(i(!0),g(z,null,L(s.value,e=>{var r;return i(),k(o(oe),{key:e.name},Z({default:d(()=>[o(b)&&B(e)?(i(),k(G,{key:0,icon:B(e)},null,8,["icon"])):T("",!0),E(s.value,e)?(i(),k(n,{key:2,to:"",onClick:c=>v(e)},{default:d(()=>[F(M(o(h)(e.meta.title||e.name)),1)]),_:2},1032,["onClick"])):(i(),g("span",he,M(o(h)(e.meta.title||e.name)),1))]),_:2},[e.children&&!((r=e.meta)!=null&&r.hideChildrenInMenu)?{name:"overlay",fn:d(()=>[V(o(ie),null,{default:d(()=>[(i(!0),g(z,null,L(e.children,c=>(i(),k(o(fe),{key:c.name},{default:d(()=>{var m;return[o(b)&&B(c)?(i(),k(G,{key:0,icon:B(c)},null,8,["icon"])):T("",!0),E(s.value,c)?(i(),k(n,{key:2,to:"",onClick:_=>v(c)},{default:d(()=>{var _;return[F(M(o(h)(((_=c.meta)==null?void 0:_.title)||c.name)),1)]}),_:2},1032,["onClick"])):(i(),g("span",pe,M(o(h)(((m=c.meta)==null?void 0:m.title)||c.name)),1))]}),_:2},1024))),128))]),_:2},1024)]),key:"0"}:void 0]),1024)}),128))]),_:1})],2)}}});export{ge as default};
