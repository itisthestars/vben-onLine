var P=Object.defineProperty,F=Object.defineProperties;var V=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var O=(n,e,t)=>e in n?P(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,C=(n,e)=>{for(var t in e||(e={}))h.call(e,t)&&O(n,t,e[t]);if(k)for(var t of k(e))w.call(e,t)&&O(n,t,e[t]);return n},_=(n,e)=>F(n,V(e));import{u as B}from"./useFormDesignState-BaojFfQB.js";import{c as G}from"./index-DSMT95c_.js";import{a as N,z as D,c as M}from"./entry/index-BmFZXaSM.js";import{G as S}from"./antd-BA4tRdrP.js";import{d as T,r as j,I as z,ai as $,U as l,V as i,X as d,F as b,a4 as U,k as u,G as y}from"./vue-CZYcLuVH.js";const{createMessage:c}=N(),E=Object.assign({success:n=>{c.success(n)},error:n=>{c.error(n)},warning:n=>{c.warning(n)},info:n=>{c.info(n)}}),L=T({name:"FormOptions",components:{Input:S,Icon:D},setup(){var r;const n=j({}),{formConfig:e}=B(),t=((r=e.value.currentItem)==null?void 0:r.component)==="TreeSelect"?"treeData":"options",m=()=>{var s,a,I,g;(a=(s=e.value.currentItem)==null?void 0:s.componentProps)!=null&&a[t]||(e.value.currentItem.componentProps[t]=[]);const o=((g=(I=e.value.currentItem)==null?void 0:I.componentProps)==null?void 0:g[t].length)+1;e.value.currentItem.componentProps[t].push({label:`选项${o}`,value:""+o})},v=o=>{var s,a;G((a=(s=e.value.currentItem)==null?void 0:s.componentProps)==null?void 0:a[t],o)},f=()=>{var o,s;(s=(o=e.value.currentItem)==null?void 0:o.columns)==null||s.push({span:12,children:[]})},p=o=>{if(o===0)return E.warning("请至少保留一个栅格");G(e.value.currentItem.columns,o)};return _(C({},z(n)),{formConfig:e,addOptions:m,deleteOptions:v,key:t,deleteGridOptions:p,addGridOptions:f})}}),R={key:0},X={class:"options-box"},q=["onClick"],A={key:1},H={class:"options-box"},J=["onClick"];function K(n,e,t,m,v,f){const p=$("Input"),r=$("Icon");return i(),l("div",null,[["Grid"].includes(n.formConfig.currentItem.component)?(i(),l("div",R,[(i(!0),l(b,null,U(n.formConfig.currentItem.columns,(o,s)=>(i(),l("div",{key:s},[d("div",X,[u(p,{value:o.span,"onUpdate:value":a=>o.span=a,class:"options-value"},null,8,["value","onUpdate:value"]),d("a",{class:"options-delete",onClick:a=>n.deleteGridOptions(s)},[u(r,{icon:"ant-design:delete-outlined"})],8,q)])]))),128)),d("a",{onClick:e[0]||(e[0]=(...o)=>n.addGridOptions&&n.addGridOptions(...o))},[u(r,{icon:"ant-design:file-add-outlined"}),e[2]||(e[2]=y(" 添加栅格 ",-1))])])):(i(),l("div",A,[(i(!0),l(b,null,U(n.formConfig.currentItem.componentProps[n.key],(o,s)=>(i(),l("div",{key:s},[d("div",H,[u(p,{value:o.label,"onUpdate:value":a=>o.label=a},null,8,["value","onUpdate:value"]),u(p,{value:o.value,"onUpdate:value":a=>o.value=a,class:"options-value"},null,8,["value","onUpdate:value"]),d("a",{class:"options-delete",onClick:a=>n.deleteOptions(s)},[u(r,{icon:"ant-design:delete-outlined"})],8,J)])]))),128)),d("a",{onClick:e[1]||(e[1]=(...o)=>n.addOptions&&n.addOptions(...o))},[u(r,{icon:"ant-design:file-add-outlined"}),e[3]||(e[3]=y(" 添加选项 ",-1))])]))])}const ne=M(L,[["render",K],["__scopeId","data-v-a999f6b7"]]);export{ne as default};
