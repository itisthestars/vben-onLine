import{P as C}from"./index-D4crmGeM.js";import{p,h as M,ay as x,az as I,a3 as S,J as D,H as Y,w as k,C as w}from"./entry/index-Be056_tE.js";import{ac as H,n as U}from"./antd-BA4tRdrP.js";import{d as N,f as h,w as R,U as V,V as E,$ as j,r as P,a3 as $,a6 as T,k as o,u as a,X as _}from"./vue-CZYcLuVH.js";import"./useContentViewHeight-DT9lRWta.js";import"./useWindowSizeFn-DzNNC3Qx.js";import"./onMountedOrActivated-DahpobXO.js";const g=1e3,q=N({name:"Time",__name:"Time",props:{value:p.oneOfType([p.number,p.instanceOf(Date),p.string]).isRequired,step:p.number.def(60),mode:p.oneOf(["date","datetime","relative"]).def("relative")},setup(O){const n=O,r=g*60,c=r*60,l=c*24,d=h(""),{t:m}=M();x(b,n.step*g),R(()=>n.value,()=>{b()},{immediate:!0});function y(){const{value:e}=n;let s=0;if(H(e)){const u=e.toString().length>10?e:e*1e3;s=new Date(u).getTime()}else U(e)?s=new Date(e).getTime():Y(e)&&(s=e.getTime());return s}function b(){const{mode:e,value:s}=n,u=y();e==="relative"?d.value=B(u):e==="datetime"?d.value=I(s):e==="date"&&(d.value=S(s))}function B(e){const s=new Date().getTime(),u=D(e).isBefore(s);let t=s-e;u||(t=-t);let i="",v=m(u?"component.time.before":"component.time.after");return t<g?i=m("component.time.just"):t<r?i=parseInt(t/g)+m("component.time.seconds")+v:t>=r&&t<c?i=Math.floor(t/r)+m("component.time.minutes")+v:t>=c&&t<l?i=Math.floor(t/c)+m("component.time.hours")+v:t>=l&&t<262386e4?i=Math.floor(t/l)+m("component.time.days")+v:t>=262386e4&&t<=3156786e4&&u?i=D(e).format("MM-DD-HH-mm"):i=D(e).format("YYYY"),i}return(e,s)=>(E(),V("span",null,j(d.value),1))}}),f=k(q),K=N({__name:"index",setup(O){const n=new Date().getTime(),r=P({time1:n-60*3*1e3,time2:n-86400*3*1e3});return(c,l)=>(E(),$(a(C),{title:"时间组件示例"},{default:T(()=>[o(a(w),{title:"基础示例"},{default:T(()=>[o(a(f),{value:r.time1},null,8,["value"]),l[0]||(l[0]=_("br",null,null,-1)),o(a(f),{value:r.time2},null,8,["value"])]),_:1}),o(a(w),{title:"定时更新",class:"my-4"},{default:T(()=>[o(a(f),{value:a(n),step:1},null,8,["value"]),l[1]||(l[1]=_("br",null,null,-1)),o(a(f),{value:a(n),step:5},null,8,["value"])]),_:1}),o(a(w),{title:"定时更新"},{default:T(()=>[o(a(f),{value:a(n),mode:"date"},null,8,["value"]),l[2]||(l[2]=_("br",null,null,-1)),o(a(f),{value:a(n),mode:"datetime"},null,8,["value"]),l[3]||(l[3]=_("br",null,null,-1)),o(a(f),{value:a(n)},null,8,["value"])]),_:1})]),_:1}))}});export{K as default};
