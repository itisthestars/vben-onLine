import{_ as k}from"./CurrentPermissionMode.vue_vue_type_script_setup_true_lang-Br56WPRO.js";import{X as _,l as g,aY as o,c as C}from"./entry/index-DAHXR0BT.js";import{A as d}from"./index-DpvDONxT.js";import{P as B}from"./index-X8e0NcGH.js";import{aG as V,$,a6 as f}from"./antd-Bp8JzQqk.js";import{d as D,c as x,ai as N,q as b,a3 as u,V as n,a6 as s,k as l,X as S,W as T,n as y,G as r,$ as E,u as e}from"./vue-DdhQyU-d.js";import"./useContentViewHeight-DxET5L8Y.js";import"./useWindowSizeFn-CmfjHW1W.js";import"./onMountedOrActivated-wek5WTBG.js";const w={class:"mt-4"},A=D({__name:"Btn",setup(L){const{changeRole:v,hasPermission:i}=_(),p=g(),R=x(()=>p.getRoleList.includes(o.SUPER)),P=x(()=>p.getRoleList.includes(o.TEST));return(c,t)=>{const a=N("a-button"),m=b("auth");return n(),u(e(B),{title:"前端权限按钮示例",contentBackground:"",contentClass:"p-4",content:"由于刷新的时候会请求用户信息接口，会根据接口重置角色信息，所以刷新后界面会恢复原样，如果不需要，可以注释 src/layout/default/index内的获取用户信息接口"},{default:s(()=>[l(k),S("p",null,[t[2]||(t[2]=r(" 当前角色: ",-1)),S("a",null,E(e(p).getRoleList),1)]),l(e(V),{class:"mt-4",type:"info",message:"点击后请查看按钮变化","show-icon":""}),S("div",w,[t[3]||(t[3]=r(" 权限切换(请先切换权限模式为前端角色权限模式): ",-1)),l(e($),null,{default:s(()=>[l(a,{onClick:t[0]||(t[0]=U=>e(v)(e(o).SUPER)),type:R.value?"primary":"default"},{default:s(()=>[r(E(e(o).SUPER),1)]),_:1},8,["type"]),l(a,{onClick:t[1]||(t[1]=U=>e(v)(e(o).TEST)),type:P.value?"primary":"default"},{default:s(()=>[r(E(e(o).TEST),1)]),_:1},8,["type"])]),_:1})]),l(e(f),null,{default:s(()=>[...t[4]||(t[4]=[r("组件方式判断权限(有需要可以自行全局注册)",-1)])]),_:1}),l(e(d),{value:e(o).SUPER},{default:s(()=>[l(a,{type:"primary",class:"mx-4"},{default:s(()=>[...t[5]||(t[5]=[r(" 拥有super角色权限可见 ",-1)])]),_:1})]),_:1},8,["value"]),l(e(d),{value:e(o).TEST},{default:s(()=>[l(a,{color:"success",class:"mx-4"},{default:s(()=>[...t[6]||(t[6]=[r(" 拥有test角色权限可见 ",-1)])]),_:1})]),_:1},8,["value"]),l(e(d),{value:[e(o).TEST,e(o).SUPER]},{default:s(()=>[l(a,{color:"error",class:"mx-4"},{default:s(()=>[...t[7]||(t[7]=[r(" 拥有[test,super]角色权限可见 ",-1)])]),_:1})]),_:1},8,["value"]),l(e(f),null,{default:s(()=>[...t[8]||(t[8]=[r("函数方式方式判断权限(适用于函数内部过滤)",-1)])]),_:1}),e(i)(e(o).SUPER)?(n(),u(a,{key:0,type:"primary",class:"mx-4"},{default:s(()=>[...t[9]||(t[9]=[r(" 拥有super角色权限可见 ",-1)])]),_:1})):T("",!0),e(i)(e(o).TEST)?(n(),u(a,{key:1,color:"success",class:"mx-4"},{default:s(()=>[...t[10]||(t[10]=[r(" 拥有test角色权限可见 ",-1)])]),_:1})):T("",!0),e(i)([e(o).TEST,e(o).SUPER])?(n(),u(a,{key:2,color:"error",class:"mx-4"},{default:s(()=>[...t[11]||(t[11]=[r(" 拥有[test,super]角色权限可见 ",-1)])]),_:1})):T("",!0),l(e(f),null,{default:s(()=>[...t[12]||(t[12]=[r("指令方式方式判断权限(该方式不能动态修改权限.)",-1)])]),_:1}),y((n(),u(a,{type:"primary",class:"mx-4"},{default:s(()=>[...t[13]||(t[13]=[r(" 拥有super角色权限可见 ",-1)])]),_:1})),[[m,e(o).SUPER]]),y((n(),u(a,{color:"success",class:"mx-4"},{default:s(()=>[...t[14]||(t[14]=[r(" 拥有test角色权限可见 ",-1)])]),_:1})),[[m,e(o).TEST]]),y((n(),u(a,{color:"error",class:"mx-4"},{default:s(()=>[...t[15]||(t[15]=[r(" 拥有[test,super]角色权限可见 ",-1)])]),_:1})),[[m,[e(o).TEST,e(o).SUPER]]])]),_:1})}}}),H=C(A,[["__scopeId","data-v-303c9f2b"]]);export{H as default};
