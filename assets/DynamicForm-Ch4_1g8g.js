var P=(h,c,a)=>new Promise((f,p)=>{var u=o=>{try{r(a.next(o))}catch(s){p(s)}},b=o=>{try{r(a.throw(o))}catch(s){p(s)}},r=o=>o.done?f(o.value):Promise.resolve(o.value).then(u,b);r((a=a.apply(h,c)).next())});import{_}from"./BasicForm.vue_vue_type_script_setup_true_lang-DmypFFru.js";import"./BasicForm.vue_vue_type_style_index_0_lang-kubr1TwR.js";import"./componentMap-BqMMtjxg.js";import{u as C}from"./useForm-BEG0enR_.js";import{C as g}from"./entry/index-CddLxZ9C.js";import{P as W}from"./index-c2RKJlaq.js";import{d as F,ai as S,a3 as y,V as v,a6 as n,X as I,k as t,G as m,u as i}from"./vue-DdhQyU-d.js";import"./FormItem.vue_vue_type_script_lang-BXefzS8D.js";import"./helper-BXtwleRm.js";import"./antd-Bp8JzQqk.js";import"./index-_XVVCG2H.js";import"./useWindowSizeFn-C_4ozRGU.js";import"./useFormItem-qiFQow_c.js";import"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-G7ExXIJS.js";import"./index-BVz8FaKs.js";import"./uuid-D0SLUWHI.js";import"./useSortable-DUIR7J_n.js";import"./download-CbWKDpuc.js";import"./base64Conver-sUr-KUg7.js";import"./index-DoGZn44D.js";import"./IconPicker.vue_vue_type_script_setup_true_lang-DZaB83mq.js";import"./copyTextToClipboard-Cz3oY3iE.js";import"./index-k2hfhSzg.js";import"./index-CK8Fd-Md.js";import"./useContentViewHeight-BpwAUSdy.js";import"./onMountedOrActivated-wek5WTBG.js";const N={class:"mb-4"},te=F({__name:"DynamicForm",setup(h){const c=[{field:"field1",component:"Input",label:"字段1",colProps:{span:8},show:({values:e})=>!!e.field5},{field:"field2",component:"Input",label:"字段2",colProps:{span:8},ifShow:({values:e})=>!!e.field6},{field:"field3",component:"DatePicker",label:"字段3",colProps:{span:8},dynamicDisabled:({values:e})=>!!e.field7},{field:"field4",component:"Select",label:"字段4",colProps:{span:8},dynamicRules:({values:e})=>e.field8?[{required:!0,message:"字段4必填"}]:[],componentProps:{options:[{label:"选项1",value:"1",key:"1"},{label:"选项2",value:"2",key:"2"}]}},{field:"field11",component:"DatePicker",label:"字段11",colProps:{span:8}},{field:"field5",component:"Switch",label:"是否显示字段1(css控制)",colProps:{span:8},labelWidth:200},{field:"field6",component:"Switch",label:"是否显示字段2(dom控制)",colProps:{span:8},labelWidth:200},{field:"field7",component:"Switch",label:"是否禁用字段3",colProps:{span:8},labelWidth:200},{field:"field8",component:"Switch",label:"字段4是否必填",colProps:{span:8},labelWidth:200}],a=[{field:"f1",component:"Input",label:"F1",colProps:{span:12},labelWidth:200,componentProps:({formModel:e})=>({placeholder:"同步f2的值为f1",onChange:l=>{e.f2=l.target.value}})},{field:"f2",component:"Input",label:"F2",colProps:{span:12},labelWidth:200,componentProps:{disabled:!0}},{field:"f3",component:"Input",label:"F3",colProps:{span:12},labelWidth:200,componentProps:({formActionType:e})=>({placeholder:"值改变时执行查询,查看控制台",onChange:()=>P(this,null,function*(){const{validate:l}=e;yield l()})})}],[f,{updateSchema:p,appendSchemaByField:u,removeSchemaByField:b}]=C({labelWidth:120,schemas:c,actionColOptions:{span:24}}),[r]=C({labelWidth:120,schemas:a,actionColOptions:{span:24}});function o(){p({field:"field3",label:"字段3 New"})}function s(){p([{field:"field3",label:"字段3 New++"},{field:"field4",label:"字段4 New++"}])}function k(){u({field:"field10",label:"字段10",component:"Input",colProps:{span:8}},"field3")}function w(){b("field11")}return(e,l)=>{const d=S("a-button");return v(),y(i(W),{title:"动态表单示例"},{default:n(()=>[I("div",N,[t(d,{onClick:o,class:"mr-2"},{default:n(()=>[...l[0]||(l[0]=[m(" 更改字段3label ",-1)])]),_:1}),t(d,{onClick:s,class:"mr-2"},{default:n(()=>[...l[1]||(l[1]=[m(" 同时更改字段3,4label ",-1)])]),_:1}),t(d,{onClick:k,class:"mr-2"},{default:n(()=>[...l[2]||(l[2]=[m(" 往字段3后面插入字段10 ",-1)])]),_:1}),t(d,{onClick:w,class:"mr-2"},{default:n(()=>[...l[3]||(l[3]=[m(" 删除字段11 ",-1)])]),_:1})]),t(i(g),{title:"动态表单示例,动态根据表单内其他值改变"},{default:n(()=>[t(i(_),{onRegister:i(f)},null,8,["onRegister"])]),_:1}),t(i(g),{class:"mt-5",title:"componentProps动态改变"},{default:n(()=>[t(i(_),{onRegister:i(r)},null,8,["onRegister"])]),_:1})]),_:1})}}});export{te as default};
