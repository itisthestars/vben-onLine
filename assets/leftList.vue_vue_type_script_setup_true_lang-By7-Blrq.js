import{V as g}from"./antd-Bp8JzQqk.js";import{d as S,f as _,o as M,w as I,a3 as p,V as u,u as f,a6 as d,X as r,U as v,a4 as x,F as m,$ as N}from"./vue-DdhQyU-d.js";const C="/assets/tuoren-logo-2wF9XiN_.png",J={class:"space-y-1"},O={style:{display:"-webkit-box","max-height":"100px",overflow:"hidden","text-overflow":"ellipsis","-webkit-box-orient":"vertical","line-clamp":"3"}},F=S({__name:"leftList",props:{currentMsg:{type:Array,default:()=>[]}},emits:["selectMsg"],setup(b,{emit:h}){const c=h,y=l=>{c("selectMsg",l)},w=b,t=_([]);M(()=>{const l=localStorage.getItem("allmsgs");if(l){const e=JSON.parse(l);t.value=e}}),I(()=>w.currentMsg,l=>{var a;if(!l||!Array.isArray(l)||l.length===0)return;const e=JSON.parse(JSON.stringify(l));if((t.value.length===0||t.value.findIndex(n=>{var o,s;return((o=n[1])==null?void 0:o.id)===((s=e[1])==null?void 0:s.id)})===-1)&&((a=e[1])==null?void 0:a.id)!==null)t.value.unshift(e),localStorage.setItem("allmsgs",JSON.stringify(t.value));else if(t.value.findIndex(n=>{var o,s;return((o=n[1])==null?void 0:o.id)===((s=e[1])==null?void 0:s.id)})!==-1){const n=t.value.findIndex(o=>{var s,i;return((s=o[1])==null?void 0:s.id)===((i=e[1])==null?void 0:i.id)});t.value[n]=e,localStorage.setItem("allmsgs",JSON.stringify(t.value))}},{deep:!0});const k=()=>{try{localStorage.removeItem("allmsgs"),t.value=[],c("selectMsg",[],!0)}catch(l){}};return(l,e)=>(u(),p(f(g),{style:{height:"100%",overflow:"auto","overflow-x":"hidden","border-radius":"8px 0 0 8px","box-shadow":"-4px 2px 8px 4px rgb(0 0 0 / 20%)"}},{title:d(()=>[...e[0]||(e[0]=[r("img",{style:{width:"auto",height:"30px"},src:C,alt:""},null,-1)])]),default:d(()=>[r("div",J,[r("div",null,[(u(),v(m,null,x(8,a=>r("button",{class:"first:text-blue last:text-white",key:a},"333")),64))]),e[1]||(e[1]=r("button",{class:"first:b-rd-full last:text-white w-full bg-violet-500 hover:bg-violet-600 active:bg-violet-700 focus:outline-none focus:ring focus:ring-pink-300 ..."}," Save changes ",-1)),e[2]||(e[2]=r("button",null,"123",-1)),r("button",{class:"w-full bg-blue-300 hover:bg-blue-800 h-8 rounded-md text-left pl-8px pt-[3px]",onClick:k},"清除所有对话")]),(u(!0),v(m,null,x(t.value,(a,n)=>{var o,s;return u(),p(f(g),{key:((o=a[1])==null?void 0:o.id)||n,hoverable:!0,title:((s=a[0])==null?void 0:s.content)||"对话",style:{"margin-top":"10px"},onClick:i=>y(a)},{default:d(()=>{var i;return[r("div",O,N(((i=a[1])==null?void 0:i.content)||""),1)]}),_:2},1032,["title","onClick"])}),128))]),_:1}))}});export{F as _};
