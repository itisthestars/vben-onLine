var E=Object.defineProperty,J=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var m=(e,t,o)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,f=(e,t)=>{for(var o in t||(t={}))k.call(t,o)&&m(e,o,t[o]);if(p)for(var o of p(t))h.call(t,o)&&m(e,o,t[o]);return e},u=(e,t)=>J(e,x(t));import{C as g,M as w}from"./index-qKNocfd8.js";import{c as M}from"./copyTextToClipboard-Cz3oY3iE.js";import{a as $,c as N}from"./entry/index-DAHXR0BT.js";import{d as V,r as B,I as D,ai as C,U as I,V as O,X as v,k as r,a6 as y,G as b}from"./vue-DdhQyU-d.js";import"./antd-Bp8JzQqk.js";import"./useWindowSizeFn-CmfjHW1W.js";const S=V({name:"PreviewCode",components:{CodeEditor:g},props:{fileFormat:{type:String,default:"json"},editorJson:{type:String,default:""}},setup(e){const t=B({visible:!1}),o=(a,n=`file.${e.fileFormat}`)=>{let l="data:text/csv;charset=utf-8,";l+=a;const _=encodeURI(l),s=document.createElement("a");s.setAttribute("href",_),s.setAttribute("download",n),s.click()},d=()=>{o(e.editorJson)},{createMessage:i}=$(),c=()=>{const a=e.editorJson;if(!a){i.warning("代码为空！");return}M(a)};return u(f({},D(t)),{exportData:o,handleCopyJson:c,handleExportJson:d,MODE:w})}}),U={class:"v-json-box"},j={class:"copy-btn-box"};function A(e,t,o,d,i,c){const a=C("CodeEditor"),n=C("a-button");return O(),I("div",null,[v("div",U,[r(a,{value:e.editorJson,ref:"myEditor",mode:e.MODE.JSON},null,8,["value","mode"])]),v("div",j,[r(n,{onClick:e.handleCopyJson,type:"primary",class:"copy-btn","data-clipboard-action":"copy","data-clipboard-text":e.editorJson},{default:y(()=>[...t[0]||(t[0]=[b(" 复制数据 ",-1)])]),_:1},8,["onClick","data-clipboard-text"]),r(n,{onClick:e.handleExportJson,type:"primary"},{default:y(()=>[...t[1]||(t[1]=[b("导出代码",-1)])]),_:1},8,["onClick"])])])}const z=N(S,[["render",A],["__scopeId","data-v-a69efe87"]]);export{z as default};
