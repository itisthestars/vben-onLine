var Fe=Object.defineProperty,be=Object.defineProperties;var Ae=Object.getOwnPropertyDescriptors;var ie=Object.getOwnPropertySymbols;var Se=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable;var le=(c,d,e)=>d in c?Fe(c,d,{enumerable:!0,configurable:!0,writable:!0,value:e}):c[d]=e,K=(c,d)=>{for(var e in d||(d={}))Se.call(d,e)&&le(c,e,d[e]);if(ie)for(var e of ie(d))we.call(d,e)&&le(c,e,d[e]);return c},E=(c,d)=>be(c,Ae(d));var I=(c,d,e)=>new Promise((_,f)=>{var y=F=>{try{w(e.next(F))}catch(k){f(k)}},g=F=>{try{w(e.throw(F))}catch(k){f(k)}},w=F=>F.done?_(F.value):Promise.resolve(F.value).then(y,g);w((e=e.apply(c,d)).next())});import{u as H}from"./useFormItem-CEoeBkec.js";import{p as m,r as Ce,h as ue,u as ke,I as Te,O as _e}from"./entry/index-Be056_tE.js";import{o as X,c as ee,h as S,af as L,am as q,x as Pe,an as Re,Y as ce,ao as U,ap as $e,aq as de,ar as fe,as as pe,G as V,at as Ie,au as Be,av as De,a5 as me,aw as Ke,ax as Le,ay as Y,az as he,a6 as je}from"./antd-BA4tRdrP.js";import{d as N,f as C,c as O,u,w as $,a3 as j,V as D,a6 as B,U as se,F as oe,a4 as Z,G as z,$ as W,a8 as J,H as Q,aj as x,k as M,X as ye,a0 as ae,Z as te,_ as ne,K as ve,o as ge,h as Ge}from"./vue-CZYcLuVH.js";import{_ as Oe}from"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-CJgKo72p.js";import{I as Ne,B as Ue}from"./index-DVe6ygqc.js";import{S as Me}from"./index-CSRBlFSn.js";import{_ as Ve}from"./IconPicker.vue_vue_type_script_setup_true_lang-0dSb6THa.js";import{C as Ee}from"./index-sH4Ip0Xa.js";import{C as qe}from"./index-SIJwhUpc.js";const ze=N({name:"ApiRadioGroup",__name:"ApiRadioGroup",props:{api:{type:Function,default:null},params:{type:[Object,String],default:()=>({})},value:{type:[String,Number,Boolean]},isBtn:{type:[Boolean],default:!1},numberToString:m.bool,resultField:m.string.def(""),labelField:m.string.def("label"),valueField:m.string.def("value"),immediate:m.bool.def(!0),beforeFetch:{type:Function,default:null},afterFetch:{type:Function,default:null}},emits:["options-change","change","update:value"],setup(c,{emit:d}){const e=c,_=d,f=C([]),y=C(!1),g=C([]),w=Ce(),[F]=H(e,"value","change",g),k=O(()=>{const{labelField:n,valueField:r,numberToString:s}=e;return u(f).reduce((i,t)=>{if(t){const a=t[r];i.push(K({label:t[n],value:s?`${a}`:a},X(t,[n,r])))}return i},[])});$(()=>e.params,(n,r)=>{ee(n,r)||P()},{deep:!0,immediate:e.immediate});function P(){return I(this,null,function*(){let{api:n,beforeFetch:r,afterFetch:s,params:i,resultField:t}=e;if(!(!n||!S(n))){f.value=[];try{y.value=!0,r&&S(r)&&(i=(yield r(i))||i);let a=yield n(i);if(s&&S(s)&&(a=(yield s(a))||a),Array.isArray(a)){f.value=a,h();return}t&&(f.value=L(a,t)||[]),h()}catch(a){}finally{y.value=!1}}})}function h(){_("options-change",u(k))}function o(...n){g.value=n}return(n,r)=>(D(),j(u(q).Group,J(u(w),{value:u(F),"onUpdate:value":r[0]||(r[0]=s=>Q(F)?F.value=s:null),"button-style":"solid"}),{default:B(()=>[(D(!0),se(oe,null,Z(k.value,s=>(D(),se(oe,{key:`${s.value}`},[e.isBtn?(D(),j(u(q).Button,{key:0,value:s.value,disabled:s.disabled,onClick:i=>o(s)},{default:B(()=>[z(W(s.label),1)]),_:2},1032,["value","disabled","onClick"])):(D(),j(u(q),{key:1,value:s.value,disabled:s.disabled,onClick:i=>o(s)},{default:B(()=>[z(W(s.label),1)]),_:2},1032,["value","disabled","onClick"]))],64))),128))]),_:1},16,["value"]))}}),We=N({name:"ApiSelect",inheritAttrs:!1,__name:"ApiSelect",props:{value:{type:[Array,Object,String,Number]},numberToString:m.bool,api:{type:Function,default:null},params:m.any.def({}),resultField:m.string.def(""),labelField:m.string.def("label"),valueField:m.string.def("value"),immediate:m.bool.def(!0),alwaysLoad:m.bool.def(!1),options:{type:Array,default:[]},apiSearch:{type:Object,default:()=>null},beforeFetch:{type:Function,default:null},afterFetch:{type:Function,default:null}},emits:["options-change","change","update:value"],setup(c,{emit:d}){const e=c,_=d,f=C([]),y=C(!1),g=C(!1),w=C([]),F=C({}),{t:k}=ue(),[P]=H(e,"value","change",w),h=O(()=>{const{labelField:a,valueField:p,numberToString:b}=e;let v=u(f).reduce((R,A)=>{if(A){const T=L(A,p);R.push(E(K({},X(A,[a,p])),{label:L(A,a),value:b?`${T}`:T}))}return R},[]);return v.length>0?v:e.options});$(()=>P.value,a=>{_("update:value",a)}),$(()=>e.params,(a,p)=>{ee(a,p)||o()},{deep:!0,immediate:e.immediate}),$(()=>F.value,(a,p)=>{Pe(a)||ee(a,p)||I(this,null,function*(){yield o(),F.value={}})},{deep:!0,immediate:e.immediate});function o(){return I(this,null,function*(){let{api:a,beforeFetch:p,afterFetch:b,params:v,resultField:R}=e;if(!(!a||!S(a)||y.value)){f.value=[];try{y.value=!0;let A=Re({},v,F.value);p&&S(p)&&(A=(yield p(A))||A);let T=yield a(A);if(b&&S(b)&&(T=(yield b(T))||T),g.value=!0,Array.isArray(T)){f.value=T,i();return}R&&(f.value=L(T,R)||[]),i()}catch(A){g.value=!1}finally{y.value=!1}}})}function n(a){return I(this,null,function*(){a&&(e.alwaysLoad?yield o():!e.immediate&&!u(g)&&(e.apiSearch&&e.apiSearch.show&&!e.apiSearch.emptySearch?(f.value=[],i()):yield o()))})}let r=ke(s,500);function s(a){return I(this,null,function*(){if(!e.apiSearch)return;const{show:p,searchName:b,beforeFetch:v,interceptFetch:R}=e.apiSearch;!p||!b||(a=a||void 0,v&&S(v)&&(a=(yield v(a))||a),!(R&&S(R)&&!(yield R(a)))&&(F.value={[b]:a}))})}function i(){_("options-change",u(h))}function t(a,...p){w.value=p}return(a,p)=>(D(),j(u(ce),J({onDropdownVisibleChange:n},a.$attrs,{onChange:t,onSearch:u(r),options:h.value,value:u(P),"onUpdate:value":p[0]||(p[0]=b=>Q(P)?P.value=b:null)}),x({_:2},[Z(Object.keys(a.$slots),b=>({name:b,fn:B(v=>[ae(a.$slots,b,te(ne(v||{})))])})),y.value?{name:"suffixIcon",fn:B(()=>[M(u(U),{spin:""})]),key:"0"}:void 0,y.value?{name:"notFoundContent",fn:B(()=>[ye("span",null,[M(u(U),{spin:"",class:"mr-1"}),z(" "+W(u(k)("component.form.apiSelectNotFound")),1)])]),key:"1"}:void 0]),1040,["onSearch","options","value"]))}}),He=N({name:"ApiTree",__name:"ApiTree",props:{api:{type:Function},params:{type:Object},immediate:{type:Boolean,default:!0},resultField:{type:String,default:""},beforeFetch:{type:Function,default:null},afterFetch:{type:Function,default:null},value:{type:Array}},emits:["options-change","change","update:value"],setup(c,{emit:d}){const e=c,_=d,f=ve(),y=C([]),g=C(!1),w=C(!1),F=C([]),[k]=H(e,"value","change",F),P=O(()=>K(K({},e.api?{treeData:u(y)}:{}),f));$(()=>k.value,o=>{_("update:value",o)}),$(()=>e.params,()=>{!u(g)&&h()},{deep:!0}),$(()=>e.immediate,o=>{o&&!g.value&&h()}),ge(()=>{e.immediate&&h()});function h(){return I(this,null,function*(){let{api:o,beforeFetch:n,afterFetch:r,params:s,resultField:i}=e;if(!o||!S(o))return;w.value=!0,y.value=[];let t;try{n&&S(n)&&(s=(yield n(s))||s),t=yield o(s),r&&S(r)&&(t=(yield r(t))||t)}catch(a){}w.value=!1,t&&(i&&(t=L(t,i)||[]),y.value=t||[],g.value=!0,_("options-change",y.value))})}return(o,n)=>(D(),j(u($e),J(P.value,{selectedKeys:u(k),"onUpdate:selectedKeys":n[0]||(n[0]=r=>Q(k)?k.value=r:null)}),x({_:2},[Z(Object.keys(o.$slots),r=>({name:r,fn:B(s=>[ae(o.$slots,r,te(ne(s||{})))])}))]),1040,["selectedKeys"]))}}),Xe=N({name:"ApiTreeSelect",__name:"ApiTreeSelect",props:{api:{type:Function},params:{type:Object},immediate:{type:Boolean,default:!0},async:{type:Boolean,default:!1},resultField:m.string.def(""),labelField:m.string.def("title"),valueField:m.string.def("value"),childrenField:m.string.def("children"),beforeFetch:{type:Function,default:null},afterFetch:{type:Function,default:null}},emits:["options-change","change","load-data"],setup(c,{emit:d}){const e=c,_=d,f=ve(),y=C([]),g=C(!1),w=C(!1),F=O(()=>K(K({},e.api?{treeData:u(y)}:{}),f)),k={children:e.childrenField,value:e.valueField,label:e.labelField};function P(...n){_("change",...n)}$(()=>e.params,()=>{!u(g)&&o()},{deep:!0}),$(()=>e.immediate,n=>{n&&!g.value&&o()}),ge(()=>{e.immediate&&o()});function h(n){return new Promise(r=>{if(Te(n.children)&&n.children.length>0){r();return}_("load-data",{treeData:y,treeNode:n,resolve:r})})}function o(){return I(this,null,function*(){let{api:n,beforeFetch:r,afterFetch:s,params:i,resultField:t}=e;if(!n||!S(n)||w.value)return;w.value=!0,y.value=[];let a;try{r&&S(r)&&(i=(yield r(i))||i),a=yield n(i),s&&S(s)&&(a=(yield s(a))||a)}catch(p){}w.value=!1,a&&(t&&(a=L(a,t)||[]),y.value=a||[],g.value=!0,_("options-change",y.value))})}return(n,r)=>(D(),j(u(de),J(F.value,{onChange:P,"field-names":k,"load-data":c.async?h:void 0}),x({_:2},[Z(Object.keys(n.$slots),s=>({name:s,fn:B(i=>[ae(n.$slots,s,te(ne(i||{})))])})),w.value?{name:"suffixIcon",fn:B(()=>[M(u(U),{spin:""})]),key:"0"}:void 0]),1040,["load-data"]))}}),Ye=N({name:"ApiCascader",__name:"ApiCascader",props:{value:{type:Array},api:{type:Function,default:null},numberToString:m.bool,resultField:m.string.def(""),labelField:m.string.def("label"),valueField:m.string.def("value"),childrenField:m.string.def("children"),apiParamKey:m.string.def("parentCode"),immediate:m.bool.def(!0),initFetchParams:{type:Object,default:()=>({})},isLeaf:{type:Function,default:null},displayRenderArray:{type:Array},beforeFetch:{type:Function,default:null},afterFetch:{type:Function,default:null}},emits:["change","defaultChange"],setup(c,{emit:d}){const e=c,_=d,f=C([]),y=C([]),g=C(!1),w=C([]),F=C(!0),{t:k}=ue(),[P]=H(e,"value","change",w);$(f,i=>{const t=h(i);y.value=t},{deep:!0});function h(i){const{labelField:t,valueField:a,numberToString:p,childrenField:b,isLeaf:v}=e;return i.reduce((R,A)=>{if(A){const T=A[a],G=E(K({},X(A,[t,a])),{label:A[t],value:p?`${T}`:T,isLeaf:v&&typeof v=="function"?v(A):!1}),re=Reflect.get(A,b);re&&Reflect.set(G,b,h(re)),R.push(G)}return R},[])}function o(){return I(this,null,function*(){let{api:i,beforeFetch:t,initFetchParams:a,afterFetch:p,resultField:b}=e;if(!(!i||!S(i))){f.value=[],g.value=!0;try{t&&S(t)&&(a=(yield t(a))||a);let v=yield i(a);if(p&&S(p)&&(v=(yield p(v))||v),Array.isArray(v)){f.value=v;return}b&&(f.value=L(v,b)||[])}catch(v){}finally{g.value=!1}}})}const n=i=>I(this,null,function*(){const t=i[i.length-1];t.loading=!0;let{api:a,beforeFetch:p,afterFetch:b,resultField:v,apiParamKey:R}=e;if(!(!a||!S(a)))try{let A={[R]:Reflect.get(t,"value")};p&&S(p)&&(A=(yield p(A))||A);let T=yield a(A);if(b&&S(b)&&(T=(yield b(T))||T),Array.isArray(T)){const G=h(T);t.children=G;return}if(v){const G=h(L(T,v)||[]);t.children=G}}catch(A){}finally{t.loading=!1}});$(()=>e.immediate,()=>{e.immediate&&o()},{immediate:!0}),$(()=>e.initFetchParams,()=>{!u(F)&&o()},{deep:!0});function r(i,t){w.value=t,_("defaultChange",i,t)}const s=({labels:i,selectedOptions:t})=>u(w).length===(t==null?void 0:t.length)?i.join(" / "):e.displayRenderArray?e.displayRenderArray.join(" / "):"";return(i,t)=>(D(),j(u(fe),{value:u(P),"onUpdate:value":t[0]||(t[0]=a=>Q(P)?P.value=a:null),options:y.value,"load-data":n,"change-on-select":"",onChange:r,displayRender:s},x({_:2},[g.value?{name:"suffixIcon",fn:B(()=>[M(u(U),{spin:""})]),key:"0"}:void 0,g.value?{name:"notFoundContent",fn:B(()=>[ye("span",null,[M(u(U),{spin:"",class:"mr-1"}),z(" "+W(u(k)("component.form.apiSelectNotFound")),1)])]),key:"1"}:void 0]),1032,["value","options"]))}}),Ze=N({name:"ApiTransfer",__name:"ApiTransfer",props:{value:{type:Array},api:{type:Function,default:null},params:{type:Object},dataSource:{type:Array},immediate:m.bool.def(!0),alwaysLoad:m.bool.def(!1),beforeFetch:{type:Function,default:null},afterFetch:{type:Function,default:null},resultField:m.string.def(""),labelField:m.string.def("title"),valueField:m.string.def("key"),showSearch:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},filterOption:{type:Function},selectedKeys:{type:Array},showSelectAll:{type:Boolean,default:!1},targetKeys:{type:Array}},emits:["options-change","change"],setup(c,{emit:d}){const e=c,_=d,f=C([]),y=C([]),g=O(()=>{const{labelField:h,valueField:o}=e;return u(f).reduce((n,r)=>(r&&n.push(E(K({},X(r,[h,o])),{title:r[h],key:r[o]})),n),[])}),w=O(()=>Array.isArray(e.value)?e.value:Array.isArray(e.targetKeys)?e.targetKeys:[]);function F(h,o,n){y.value=h,_("change",h)}Ge(()=>{e.immediate&&!e.alwaysLoad&&k()}),$(()=>e.params,()=>{k()},{deep:!0});function k(){return I(this,null,function*(){let{api:h,beforeFetch:o,afterFetch:n,params:r,resultField:s,dataSource:i}=e;if(!h||!S(h)){Array.isArray(i)&&(f.value=i);return}f.value=[];try{o&&S(o)&&(r=(yield o(r))||r);let t=yield h(r);if(n&&S(n)&&(t=(yield n(t))||t),Array.isArray(t)){f.value=t,P();return}s&&(f.value=L(t,s)||[]),P()}catch(t){}})}function P(){_("options-change",u(g))}return(h,o)=>(D(),j(u(pe),{"data-source":g.value,"filter-option":c.filterOption,render:n=>n.title,showSelectAll:c.showSelectAll,selectedKeys:c.selectedKeys,targetKeys:w.value,showSearch:c.showSearch,disabled:c.disabled,onChange:F},null,8,["data-source","filter-option","render","showSelectAll","selectedKeys","targetKeys","showSearch","disabled"]))}}),l=new Map;l.set("Input",V);l.set("InputGroup",V.Group);l.set("InputPassword",V.Password);l.set("InputSearch",V.Search);l.set("InputTextArea",V.TextArea);l.set("InputNumber",Ie);l.set("AutoComplete",Be);l.set("ImageUpload",Ne);l.set("Select",ce);l.set("ApiSelect",We);l.set("ApiTree",He);l.set("TreeSelect",de);l.set("ApiTreeSelect",Xe);l.set("ApiRadioGroup",ze);l.set("Switch",De);l.set("RadioButtonGroup",Oe);l.set("RadioGroup",q.Group);l.set("Checkbox",me);l.set("CheckboxGroup",me.Group);l.set("ApiCascader",Ye);l.set("Cascader",fe);l.set("Slider",Ke);l.set("Rate",Le);l.set("Transfer",pe);l.set("ApiTransfer",Ze);l.set("DatePicker",Y);l.set("MonthPicker",Y.MonthPicker);l.set("RangePicker",Y.RangePicker);l.set("WeekPicker",Y.WeekPicker);l.set("TimePicker",he);l.set("TimeRangePicker",he.TimeRangePicker);l.set("StrengthMeter",Me);l.set("IconPicker",Ve);l.set("InputCountDown",Ee);l.set("Upload",Ue);l.set("Divider",je);l.set("CropperAvatar",qe);l.set("BasicTitle",_e);function oa(c,d){l.set(c,d)}export{We as _,Xe as a,ze as b,l as c,oa as d};
