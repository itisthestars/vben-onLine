var w=Object.defineProperty,A=Object.defineProperties;var V=Object.getOwnPropertyDescriptors;var u=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var M=(e,o,t)=>o in e?w(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,C=(e,o)=>{for(var t in o||(o={}))k.call(o,t)&&M(e,t,o[t]);if(u)for(var t of u(o))g.call(o,t)&&M(e,t,o[t]);return e},v=(e,o)=>A(e,V(o));var b=(e,o,t)=>new Promise((l,i)=>{var f=n=>{try{r(t.next(n))}catch(m){i(m)}},p=n=>{try{r(t.throw(n))}catch(m){i(m)}},r=n=>n.done?l(n.value):Promise.resolve(n.value).then(f,p);r((t=t.apply(e,o)).next())});import F from"./index-D5TmPgmV.js";import{a as S}from"./index-BTc5V_Az.js";import U from"./JsonModal-GNXcW0xk.js";import{M as $}from"./antd-Bp8JzQqk.js";import{d as y,f as J,r as O,I as B,ai as d,a3 as G,V as N,a6 as _,k as c}from"./vue-DdhQyU-d.js";import{c as P}from"./entry/index-DAHXR0BT.js";import"./FormRender-PTfXbTpI.js";import"./index-Zdl_M1rl.js";import"./formItemConfig-DOf3G3hm.js";import"./componentMap-BfomYzjV.js";import"./useFormItem-qiFQow_c.js";import"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-BGaBoiLt.js";import"./index-CpPkdiC-.js";import"./index-4RrtIrO2.js";import"./useWindowSizeFn-CmfjHW1W.js";import"./uuid-D0SLUWHI.js";import"./useSortable-BqxTRq3n.js";import"./download-8Siqj5dn.js";import"./base64Conver-sUr-KUg7.js";import"./index-DrJtsPVY.js";import"./IconPicker.vue_vue_type_script_setup_true_lang-mqQ3N-Op.js";import"./copyTextToClipboard-Cz3oY3iE.js";import"./index-DLxhcpHN.js";import"./index-_U9yz__m.js";import"./useFormDesignState-DYJ_lylh.js";import"./PreviewCode-LsQQiLDK.js";import"./index-qKNocfd8.js";const R=y({name:"VFormPreview",components:{JsonModal:U,VFormCreate:F,Modal:$},setup(){const e=J(null),o=O({formModel:{},formConfig:{},visible:!1,fApi:{}}),t=r=>{S(r.schemas),o.formConfig=r,o.visible=!0},l=()=>{o.visible=!1,o.formModel={}},i=()=>b(this,null,function*(){var n,m,a,s;const r=yield(m=(n=o.fApi).submit)==null?void 0:m.call(n);(s=(a=e.value)==null?void 0:a.showModal)==null||s.call(a,r)}),f=r=>{},p=()=>{o.formModel={}};return v(C({handleGetData:i,handleCancel:l},B(o)),{showModal:t,jsonModal:e,onSubmit:f,onCancel:p})}});function T(e,o,t,l,i,f){const p=d("a-input"),r=d("VFormCreate"),n=d("JsonModal"),m=d("Modal");return N(),G(m,{title:"预览(支持布局)",open:e.visible,onOk:e.handleGetData,onCancel:e.handleCancel,okText:"获取数据",cancelText:"关闭",style:{top:"20px"},destroyOnClose:!0,width:900},{default:_(()=>[c(r,{"form-config":e.formConfig,fApi:e.fApi,"onUpdate:fApi":o[0]||(o[0]=a=>e.fApi=a),formModel:e.formModel,"onUpdate:formModel":o[1]||(o[1]=a=>e.formModel=a),onSubmit:e.onSubmit},{slotName:_(({formModel:a,field:s})=>[c(p,{value:a[s],"onUpdate:value":h=>a[s]=h,placeholder:"我是插槽传递的输入框"},null,8,["value","onUpdate:value"])]),_:1},8,["form-config","fApi","formModel","onSubmit"]),c(n,{ref:"jsonModal"},null,512)]),_:1},8,["open","onOk","onCancel"])}const uo=P(R,[["render",T]]);export{uo as default};
