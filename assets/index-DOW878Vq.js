var f=(l,m,s)=>new Promise((p,t)=>{var r=o=>{try{e(s.next(o))}catch(n){t(n)}},i=o=>{try{e(s.throw(o))}catch(n){t(n)}},e=o=>o.done?p(o.value):Promise.resolve(o.value).then(r,i);e((s=s.apply(l,m)).next())});import{X as k,l as _,aF as C,aZ as v,c as x}from"./entry/index-Be056_tE.js";import{P as b}from"./index-D4crmGeM.js";import{_ as g}from"./CurrentPermissionMode.vue_vue_type_script_setup_true_lang-JlcuQUSU.js";import{aG as B,$ as P}from"./antd-BA4tRdrP.js";import{d as S,c as A,ai as M,a3 as T,V,a6 as d,k as a,X as $,u as c,G as u}from"./vue-CZYcLuVH.js";import"./useContentViewHeight-DT9lRWta.js";import"./useWindowSizeFn-DzNNC3Qx.js";import"./onMountedOrActivated-DahpobXO.js";const w={class:"mt-4"},y=S({__name:"index",setup(l){const{refreshMenu:m}=k(),s=_(),p=C(),t=A(()=>p.getProjectConfig.permissionMode===v.BACK);function r(i){return f(this,null,function*(){const e="fakeToken"+i;s.setToken(e),s.getUserInfoAction(),m()})}return(i,e)=>{const o=M("a-button");return V(),T(c(b),{title:"后台权限示例",contentBackground:"",contentClass:"p-4",content:"目前mock了两组数据， id为1 和 2 具体返回的菜单可以在mock/sys/menu.ts内查看"},{default:d(()=>[a(g),a(c(B),{class:"mt-4",type:"info",message:"点击后请查看左侧菜单变化","show-icon":""}),$("div",w,[e[4]||(e[4]=u(" 权限切换(请先切换权限模式为后台权限模式): ",-1)),a(c(P),null,{default:d(()=>[a(o,{onClick:e[0]||(e[0]=n=>r(1)),disabled:!t.value},{default:d(()=>[...e[2]||(e[2]=[u(" 获取用户id为1的菜单 ",-1)])]),_:1},8,["disabled"]),a(o,{onClick:e[1]||(e[1]=n=>r(2)),disabled:!t.value},{default:d(()=>[...e[3]||(e[3]=[u(" 获取用户id为2的菜单 ",-1)])]),_:1},8,["disabled"])]),_:1})])]),_:1})}}}),W=x(y,[["__scopeId","data-v-176e63cc"]]);export{W as default};
