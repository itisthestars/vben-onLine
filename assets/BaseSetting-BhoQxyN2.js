var f=(d,m,o)=>new Promise((u,i)=>{var c=t=>{try{r(o.next(t))}catch(a){i(a)}},l=t=>{try{r(o.throw(t))}catch(a){i(a)}},r=t=>t.done?u(t.value):Promise.resolve(t.value).then(c,l);r((o=o.apply(d,m)).next())});import{l as v,C,a as b,c as h}from"./entry/index-D1R5ealb.js";import{C as x}from"./index-DaEHBofd.js";import{_ as A}from"./BasicForm.vue_vue_type_script_setup_true_lang-CkMQGU5R.js";import"./BasicForm.vue_vue_type_style_index_0_lang-Dkq0xDme.js";import"./componentMap-Dx0-ykY0.js";import{u as I}from"./useForm-Dka-BLuY.js";import{a as B}from"./account-D-6ab7eO.js";import{u as S}from"./upload-5rnbLIBW.js";import{h as w}from"./header-EfHiFo5B.js";import{b as V}from"./data-CMLH8mPi.js";import{d as k,o as U,c as y,ai as M,a3 as N,V as R,u as e,a6 as n,k as s,X as _,G as F}from"./vue-CZYcLuVH.js";import{X as g,W as G}from"./antd-BA4tRdrP.js";import"./index-CyawGd3i.js";import"./useWindowSizeFn-Dr2N6HA_.js";import"./base64Conver-sUr-KUg7.js";import"./FormItem.vue_vue_type_script_lang-BIG81rrZ.js";import"./helper-WuhOTZAd.js";import"./useFormItem-CEoeBkec.js";import"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-CpDGByoJ.js";import"./index-B3QqxTHi.js";import"./uuid-D0SLUWHI.js";import"./useSortable-BhZe--oJ.js";import"./download-i8FiAY3w.js";import"./index-CZnVNp6n.js";import"./IconPicker.vue_vue_type_script_setup_true_lang-lCP7WTux.js";import"./copyTextToClipboard-EhsKC1py.js";import"./index-C8oigSXZ.js";const T={class:"change-avatar"},W=k({__name:"BaseSetting",setup(d){const{createMessage:m}=b(),o=v(),[u,{setFieldsValue:i}]=I({labelWidth:120,schemas:V,showActionButtonGroup:!1});U(()=>f(this,null,function*(){const t=yield B();i(t)}));const c=y(()=>{const{avatar:t}=o.getUserInfo;return t||w});function l({src:t,data:a}){const p=o.getUserInfo;p.avatar=t,o.setUserInfo(p)}function r(){m.success("更新成功！")}return(t,a)=>{const p=M("a-button");return R(),N(e(C),{title:"基本设置",canExpand:!1},{default:n(()=>[s(e(G),{gutter:24},{default:n(()=>[s(e(g),{span:14},{default:n(()=>[s(e(A),{onRegister:e(u)},null,8,["onRegister"])]),_:1}),s(e(g),{span:10},{default:n(()=>[_("div",T,[a[0]||(a[0]=_("div",{class:"mb-2"},"头像",-1)),s(e(x),{uploadApi:e(S),value:c.value,btnText:"更换头像",btnProps:{preIcon:"ant-design:cloud-upload-outlined"},onChange:l,width:"150"},null,8,["uploadApi","value"])])]),_:1})]),_:1}),s(p,{type:"primary",onClick:r},{default:n(()=>[...a[1]||(a[1]=[F(" 更新基本信息 ",-1)])]),_:1})]),_:1})}}}),lt=h(W,[["__scopeId","data-v-54663cbe"]]);export{lt as default};
