var M0=Object.defineProperty,B0=Object.defineProperties;var D0=Object.getOwnPropertyDescriptors;var si=Object.getOwnPropertySymbols,k0=Object.getPrototypeOf,Yc=Object.prototype.hasOwnProperty,Vc=Object.prototype.propertyIsEnumerable,N0=Reflect.get;var io=(a,r)=>(r=Symbol[a])?r:Symbol.for("Symbol."+a);var Kc=(a,r,n)=>r in a?M0(a,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[r]=n,p=(a,r)=>{for(var n in r||(r={}))Yc.call(r,n)&&Kc(a,n,r[n]);if(si)for(var n of si(r))Vc.call(r,n)&&Kc(a,n,r[n]);return a},b=(a,r)=>B0(a,D0(r));var ze=(a,r)=>{var n={};for(var s in a)Yc.call(a,s)&&r.indexOf(s)<0&&(n[s]=a[s]);if(a!=null&&si)for(var s of si(a))r.indexOf(s)<0&&Vc.call(a,s)&&(n[s]=a[s]);return n};var Qc=(a,r,n)=>N0(k0(a),n,r);var F=(a,r,n)=>new Promise((s,u)=>{var c=A=>{try{w(n.next(A))}catch(E){u(E)}},g=A=>{try{w(n.throw(A))}catch(E){u(E)}},w=A=>A.done?s(A.value):Promise.resolve(A.value).then(c,g);w((n=n.apply(a,r)).next())}),He=function(a,r){this[0]=a,this[1]=r},cn=(a,r,n)=>{var s=(g,w,A,E)=>{try{var I=n[g](w),x=(w=I.value)instanceof He,O=I.done;Promise.resolve(x?w[0]:w).then(T=>x?s(g==="return"?g:"next",w[1]?{done:T.done,value:T.value}:T,A,E):A({value:T,done:O})).catch(T=>s("throw",T,A,E))}catch(T){E(T)}},u=g=>c[g]=w=>new Promise((A,E)=>s(g,w,A,E)),c={};return n=n.apply(a,r),c[io("asyncIterator")]=()=>c,u("next"),u("throw"),u("return"),c};var Ke=(a,r,n)=>(r=a[io("asyncIterator")])?r.call(a):(a=a[io("iterator")](),r={},n=(s,u)=>(u=a[s])&&(r[s]=c=>new Promise((g,w,A)=>(c=u.call(a,c),A=c.done,Promise.resolve(c.value).then(E=>g({value:E,done:A}),w)))),n("next"),n("return"),r);import{d as Sr,I as Ri,f as Fe,r as W0,k as ae,n as $f,A as Ff,ai as Kt,c as Tn,e as U0,a5 as Zc,l as H0,x as Lf,a8 as ao,o as q0,b as G0,a3 as dr,V as En,a6 as $t,u as Xn,X as wt,G as oo,$ as uo,U as jc,F as ef,a4 as J0,Y as tf,W as X0,y as z0}from"./vue-DdhQyU-d.js";import{z as nf,b1 as K0,c as Y0}from"./entry/index-DAHXR0BT.js";import{_ as V0}from"./leftList.vue_vue_type_script_setup_true_lang-BJumif8k.js";import{X as lo,Y as Q0,W as Z0,l as j0}from"./antd-Bp8JzQqk.js";const ey="icon",ty={name:{type:String,default:""},size:{type:[Number,String],default:"inherit"},color:{type:String,default:"inherit"},component:{type:Object,default:null},classPrefix:{type:String,default:ey},operable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rotate:{type:[Number,String]}},ny={name:{type:String,default:"",required:!0},color:{type:String,default:"inherit"},size:{type:[Number,String],default:"inherit"}};function ii(a,r,n){let s=a;return r&&(s+=`__${r}`),n&&(s+=`--${n}`),s}function is(a,r=!1){const n=r?`.devui-${a}`:`devui-${a}`;return{b:()=>ii(n),e:w=>w?ii(n,w):"",m:w=>w?ii(n,"",w):"",em:(w,A)=>w&&A?ii(n,w,A):""}}var ry=Sr({name:"DSvgIcon",props:ny,setup(a){const{name:r,color:n,size:s}=Ri(a),u=is("svg-icon"),c=Tn(()=>`#icon-${r.value}`),g=Tn(()=>typeof s.value=="number"?`${s.value}px`:s.value),w={width:g.value,height:g.value};return()=>ae("svg",{class:u.b(),style:w},[ae("use",{"xlink:href":c.value,fill:n.value},null)])}});function sy(a){return/^((http|https):)?\/\//.test(a)}function iy(a,r){const{component:n,name:s,size:u,color:c,classPrefix:g,rotate:w}=Ri(a),A=is("icon"),E=Tn(()=>typeof u.value=="number"?`${u.value}px`:u.value),I=n.value?Zc(n.value):Zc(ry),x=()=>ae("img",ao({src:s.value,alt:s.value.split("/")[s.value.split("/").length-1],class:[(w==null?void 0:w.value)==="infinite"&&A.m("spin")],style:{width:E.value||"",transform:`rotate(${w==null?void 0:w.value}deg)`,verticalAlign:"middle"}},r.attrs),null),O=()=>ae(I,ao({name:s.value,color:c.value,size:E.value,class:[(w==null?void 0:w.value)==="infinite"&&A.m("spin")],style:{transform:`rotate(${w==null?void 0:w.value}deg)`}},r.attrs),null),T=()=>{const ce=/^icon-/.test(s.value)?s.value:`${g.value}-${s.value}`;return ae("i",ao({class:[g.value,ce,(w==null?void 0:w.value)==="infinite"&&A.m("spin")],style:{fontSize:E.value,color:c.value,transform:`rotate(${w==null?void 0:w.value}deg)`}},r.attrs),null)};return{iconDom:()=>n.value?O():sy(s.value)?x():T()}}var ay=Sr({name:"DIcon",props:ty,emits:["click"],setup(a,r){const{disabled:n,operable:s}=Ri(a),{iconDom:u}=iy(a,r),c=is("icon"),g=Tn(()=>({[c.e("container")]:!0,[c.m("disabled")]:n.value,[c.m("operable")]:s.value,[c.m("no-slots")]:!Object.keys(r.slots).length})),w=A=>{n.value||r.emit("click",A)};return()=>{var A,E,I,x;return ae("div",{class:g.value,onClick:w},[(E=(A=r.slots).prefix)==null?void 0:E.call(A),u(),(x=(I=r.slots).suffix)==null?void 0:x.call(I)])}}});class Mf{constructor(){this.top="50%",this.left="50%"}}const oy={message:String,backdrop:Boolean,view:{type:Object,default:()=>new Mf},zIndex:Number,isFull:{type:Boolean,default:!1}};class uy{constructor(){this.backdrop=!0,this.positionType="relative",this.view=new Mf}}var ly=Sr({name:"Loading",inheritAttrs:!1,props:oy,setup(a){const r={top:a.view.top,left:a.view.left,zIndex:a.zIndex};a.message||(r.background="none");const n=Fe(!1);return{style:r,isShow:n,open:()=>{n.value=!0},close:()=>{n.value=!1}}},render(){var a;const{isShow:r,isFull:n,backdrop:s,style:u,message:c,$slots:g}=this,w=is("loading");return r&&ae("div",{class:[w.b(),n?w.m("full"):""]},[((a=g.default)==null?void 0:a.call(g))||ae("div",{class:w.e("wrapper")},[s?ae("div",{class:w.e("mask")},null):null,ae("div",{style:u,class:w.e("area")},[ae("div",{class:w.e("busy-default-spinner")},[ae("div",{class:w.e("bar1")},null),ae("div",{class:w.e("bar2")},null),ae("div",{class:w.e("bar3")},null),ae("div",{class:w.e("bar4")},null)]),c?ae("span",{class:w.e("text")},[c]):null])])])}});const Bf=Symbol("dev_component_container");function cy(a,r,n=null){const s=H0(a,p({},r),n),u=document.createElement("div");return s[Bf]=u,Lf(s,u),s.component}function fy(a){Lf(null,a==null?void 0:a.vnode[Bf])}const hy=Sr(ly),ts=new WeakSet,co=a=>{if(!a)return!0;if(Array.isArray(a))return a.length===0;if(a instanceof Set||a instanceof Map)return a.size===0;if(a instanceof Promise)return!1;if(typeof a=="object")try{return Object.keys(a).length===0}catch(r){return!1}return!1},rf=a=>Object.prototype.toString.call(a).slice(8,-1).toLowerCase(),dy=a=>{switch(rf(a)){case"promise":return[a];case"array":return a.some(n=>rf(n)!=="promise")?"error":a;default:return!1}},sf=a=>{ts.delete(a),a.instance.proxy.close(),fy(a.instance)},af=(a,r)=>{var n,s,u;if(r.value){const c=dy(r.value);if(c==="error")return;(u=(s=(n=a==null?void 0:a.instance)==null?void 0:n.proxy)==null?void 0:s.open)==null||u.call(s),a.appendChild(a.mask),ts.add(a),c&&Promise.all(c).catch(g=>{}).finally(()=>{sf(a)})}else sf(a)},of=a=>{a.removeAttribute("zindex"),a.removeAttribute("positiontype"),a.removeAttribute("backdrop"),a.removeAttribute("message"),a.removeAttribute("view"),a.removeAttribute("loadingtemplateref")},uf=(a,r)=>{var n;const s=p(p({},new uy),r),u=s.loadingTemplateRef,c=cy(hy,p({},s),u?()=>u:null);a.style.position=s.positionType||"relative",a.options=s,a.instance=c,a.mask=(n=c==null?void 0:c.proxy)==null?void 0:n.$el},py={mounted:function(a,r,n){uf(a,n.props),of(a),!co(r.value)&&af(a,r)},updated:function(a,r,n){!co(r.value)&&ts.has(a)||co(r.value)&&!ts.has(a)||(!ts.has(a)&&uf(a,n.props),of(a),af(a,r))}},gy={variant:{type:String,default:"outline"},size:{type:String,default:"md"},color:{type:String},icon:{type:String,default:""},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},shape:{type:String},nativeType:{type:String,default:"button"}},_y=Symbol("d-button-group");var Kr=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},xo={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(a,r){(function(){var n,s="4.17.21",u=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",g="Expected a function",w="Invalid `variable` option passed into `_.template`",A="__lodash_hash_undefined__",E=500,I="__lodash_placeholder__",x=1,O=2,T=4,L=1,ce=2,j=1,B=2,W=4,Y=8,H=16,de=32,pe=64,ne=128,ee=256,Q=512,re=30,ge="...",D=800,Ge=16,xt=1,tt=2,Ht=3,Qe=1/0,fe=9007199254740991,N=17976931348623157e292,we=NaN,Ae=4294967295,Le=Ae-1,Zt=Ae>>>1,We=[["ary",ne],["bind",j],["bindKey",B],["curry",Y],["curryRight",H],["flip",Q],["partial",de],["partialRight",pe],["rearg",ee]],Lt="[object Arguments]",jt="[object Array]",Qn="[object AsyncFunction]",qt="[object Boolean]",be="[object Date]",Zn="[object DOMException]",dn="[object Error]",Mn="[object Function]",Pr="[object GeneratorFunction]",it="[object Map]",pn="[object Number]",ds="[object Null]",At="[object Object]",Or="[object Promise]",ps="[object Proxy]",gn="[object RegExp]",at="[object Set]",_n="[object String]",gs="[object Symbol]",ed="[object Undefined]",Tr="[object WeakMap]",td="[object WeakSet]",Pe="[object ArrayBuffer]",mn="[object DataView]",$r="[object Float32Array]",Bn="[object Float64Array]",Wi="[object Int8Array]",Ui="[object Int16Array]",Hi="[object Int32Array]",qi="[object Uint8Array]",Gi="[object Uint8ClampedArray]",Ji="[object Uint16Array]",Xi="[object Uint32Array]",nd=/\b__p \+= '';/g,rd=/\b(__p \+=) '' \+/g,sd=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vu=/&(?:amp|lt|gt|quot|#39);/g,yu=/[&<>"']/g,id=RegExp(vu.source),ad=RegExp(yu.source),od=/<%-([\s\S]+?)%>/g,ud=/<%([\s\S]+?)%>/g,bu=/<%=([\s\S]+?)%>/g,ld=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cd=/^\w*$/,fd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zi=/[\\^$.*+?()[\]{}|]/g,hd=RegExp(zi.source),Ki=/^\s+/,dd=/\s/,pd=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,gd=/\{\n\/\* \[wrapped with (.+)\] \*/,_d=/,? & /,md=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,wd=/[()=,{}\[\]\/\s]/,vd=/\\(\\)?/g,yd=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xu=/\w*$/,bd=/^[-+]0x[0-9a-f]+$/i,xd=/^0b[01]+$/i,Ad=/^\[object .+?Constructor\]$/,Cd=/^0o[0-7]+$/i,Sd=/^(?:0|[1-9]\d*)$/,Rd=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_s=/($^)/,Ed=/['\n\r\u2028\u2029\\]/g,ms="\\ud800-\\udfff",Id="\\u0300-\\u036f",Pd="\\ufe20-\\ufe2f",Od="\\u20d0-\\u20ff",Au=Id+Pd+Od,Cu="\\u2700-\\u27bf",Su="a-z\\xdf-\\xf6\\xf8-\\xff",Td="\\xac\\xb1\\xd7\\xf7",$d="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Fd="\\u2000-\\u206f",Ld=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ru="A-Z\\xc0-\\xd6\\xd8-\\xde",Eu="\\ufe0e\\ufe0f",Iu=Td+$d+Fd+Ld,Yi="['’]",Md="["+ms+"]",Pu="["+Iu+"]",ws="["+Au+"]",Ou="\\d+",Bd="["+Cu+"]",Tu="["+Su+"]",$u="[^"+ms+Iu+Ou+Cu+Su+Ru+"]",Vi="\\ud83c[\\udffb-\\udfff]",Dd="(?:"+ws+"|"+Vi+")",Fu="[^"+ms+"]",Qi="(?:\\ud83c[\\udde6-\\uddff]){2}",Zi="[\\ud800-\\udbff][\\udc00-\\udfff]",jn="["+Ru+"]",Lu="\\u200d",Mu="(?:"+Tu+"|"+$u+")",kd="(?:"+jn+"|"+$u+")",Bu="(?:"+Yi+"(?:d|ll|m|re|s|t|ve))?",Du="(?:"+Yi+"(?:D|LL|M|RE|S|T|VE))?",ku=Dd+"?",Nu="["+Eu+"]?",Nd="(?:"+Lu+"(?:"+[Fu,Qi,Zi].join("|")+")"+Nu+ku+")*",Wd="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ud="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Wu=Nu+ku+Nd,Hd="(?:"+[Bd,Qi,Zi].join("|")+")"+Wu,qd="(?:"+[Fu+ws+"?",ws,Qi,Zi,Md].join("|")+")",Gd=RegExp(Yi,"g"),Jd=RegExp(ws,"g"),ji=RegExp(Vi+"(?="+Vi+")|"+qd+Wu,"g"),Xd=RegExp([jn+"?"+Tu+"+"+Bu+"(?="+[Pu,jn,"$"].join("|")+")",kd+"+"+Du+"(?="+[Pu,jn+Mu,"$"].join("|")+")",jn+"?"+Mu+"+"+Bu,jn+"+"+Du,Ud,Wd,Ou,Hd].join("|"),"g"),zd=RegExp("["+Lu+ms+Au+Eu+"]"),Kd=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yd=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vd=-1,Ce={};Ce[$r]=Ce[Bn]=Ce[Wi]=Ce[Ui]=Ce[Hi]=Ce[qi]=Ce[Gi]=Ce[Ji]=Ce[Xi]=!0,Ce[Lt]=Ce[jt]=Ce[Pe]=Ce[qt]=Ce[mn]=Ce[be]=Ce[dn]=Ce[Mn]=Ce[it]=Ce[pn]=Ce[At]=Ce[gn]=Ce[at]=Ce[_n]=Ce[Tr]=!1;var xe={};xe[Lt]=xe[jt]=xe[Pe]=xe[mn]=xe[qt]=xe[be]=xe[$r]=xe[Bn]=xe[Wi]=xe[Ui]=xe[Hi]=xe[it]=xe[pn]=xe[At]=xe[gn]=xe[at]=xe[_n]=xe[gs]=xe[qi]=xe[Gi]=xe[Ji]=xe[Xi]=!0,xe[dn]=xe[Mn]=xe[Tr]=!1;var Qd={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Zd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},jd={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ep={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tp=parseFloat,np=parseInt,Uu=typeof Kr=="object"&&Kr&&Kr.Object===Object&&Kr,rp=typeof self=="object"&&self&&self.Object===Object&&self,Je=Uu||rp||Function("return this")(),ea=r&&!r.nodeType&&r,Dn=ea&&!0&&a&&!a.nodeType&&a,Hu=Dn&&Dn.exports===ea,ta=Hu&&Uu.process,Ct=function(){try{var m=Dn&&Dn.require&&Dn.require("util").types;return m||ta&&ta.binding&&ta.binding("util")}catch(C){}}(),qu=Ct&&Ct.isArrayBuffer,Gu=Ct&&Ct.isDate,Ju=Ct&&Ct.isMap,Xu=Ct&&Ct.isRegExp,zu=Ct&&Ct.isSet,Ku=Ct&&Ct.isTypedArray;function ht(m,C,y){switch(y.length){case 0:return m.call(C);case 1:return m.call(C,y[0]);case 2:return m.call(C,y[0],y[1]);case 3:return m.call(C,y[0],y[1],y[2])}return m.apply(C,y)}function sp(m,C,y,M){for(var V=-1,he=m==null?0:m.length;++V<he;){var Me=m[V];C(M,Me,y(Me),m)}return M}function St(m,C){for(var y=-1,M=m==null?0:m.length;++y<M&&C(m[y],y,m)!==!1;);return m}function ip(m,C){for(var y=m==null?0:m.length;y--&&C(m[y],y,m)!==!1;);return m}function Yu(m,C){for(var y=-1,M=m==null?0:m.length;++y<M;)if(!C(m[y],y,m))return!1;return!0}function wn(m,C){for(var y=-1,M=m==null?0:m.length,V=0,he=[];++y<M;){var Me=m[y];C(Me,y,m)&&(he[V++]=Me)}return he}function vs(m,C){var y=m==null?0:m.length;return!!y&&er(m,C,0)>-1}function na(m,C,y){for(var M=-1,V=m==null?0:m.length;++M<V;)if(y(C,m[M]))return!0;return!1}function Se(m,C){for(var y=-1,M=m==null?0:m.length,V=Array(M);++y<M;)V[y]=C(m[y],y,m);return V}function vn(m,C){for(var y=-1,M=C.length,V=m.length;++y<M;)m[V+y]=C[y];return m}function ra(m,C,y,M){var V=-1,he=m==null?0:m.length;for(M&&he&&(y=m[++V]);++V<he;)y=C(y,m[V],V,m);return y}function ap(m,C,y,M){var V=m==null?0:m.length;for(M&&V&&(y=m[--V]);V--;)y=C(y,m[V],V,m);return y}function sa(m,C){for(var y=-1,M=m==null?0:m.length;++y<M;)if(C(m[y],y,m))return!0;return!1}var op=ia("length");function up(m){return m.split("")}function lp(m){return m.match(md)||[]}function Vu(m,C,y){var M;return y(m,function(V,he,Me){if(C(V,he,Me))return M=he,!1}),M}function ys(m,C,y,M){for(var V=m.length,he=y+(M?1:-1);M?he--:++he<V;)if(C(m[he],he,m))return he;return-1}function er(m,C,y){return C===C?bp(m,C,y):ys(m,Qu,y)}function cp(m,C,y,M){for(var V=y-1,he=m.length;++V<he;)if(M(m[V],C))return V;return-1}function Qu(m){return m!==m}function Zu(m,C){var y=m==null?0:m.length;return y?oa(m,C)/y:we}function ia(m){return function(C){return C==null?n:C[m]}}function aa(m){return function(C){return m==null?n:m[C]}}function ju(m,C,y,M,V){return V(m,function(he,Me,ye){y=M?(M=!1,he):C(y,he,Me,ye)}),y}function fp(m,C){var y=m.length;for(m.sort(C);y--;)m[y]=m[y].value;return m}function oa(m,C){for(var y,M=-1,V=m.length;++M<V;){var he=C(m[M]);he!==n&&(y=y===n?he:y+he)}return y}function ua(m,C){for(var y=-1,M=Array(m);++y<m;)M[y]=C(y);return M}function hp(m,C){return Se(C,function(y){return[y,m[y]]})}function el(m){return m&&m.slice(0,sl(m)+1).replace(Ki,"")}function dt(m){return function(C){return m(C)}}function la(m,C){return Se(C,function(y){return m[y]})}function Fr(m,C){return m.has(C)}function tl(m,C){for(var y=-1,M=m.length;++y<M&&er(C,m[y],0)>-1;);return y}function nl(m,C){for(var y=m.length;y--&&er(C,m[y],0)>-1;);return y}function dp(m,C){for(var y=m.length,M=0;y--;)m[y]===C&&++M;return M}var pp=aa(Qd),gp=aa(Zd);function _p(m){return"\\"+ep[m]}function mp(m,C){return m==null?n:m[C]}function tr(m){return zd.test(m)}function wp(m){return Kd.test(m)}function vp(m){for(var C,y=[];!(C=m.next()).done;)y.push(C.value);return y}function ca(m){var C=-1,y=Array(m.size);return m.forEach(function(M,V){y[++C]=[V,M]}),y}function rl(m,C){return function(y){return m(C(y))}}function yn(m,C){for(var y=-1,M=m.length,V=0,he=[];++y<M;){var Me=m[y];(Me===C||Me===I)&&(m[y]=I,he[V++]=y)}return he}function bs(m){var C=-1,y=Array(m.size);return m.forEach(function(M){y[++C]=M}),y}function yp(m){var C=-1,y=Array(m.size);return m.forEach(function(M){y[++C]=[M,M]}),y}function bp(m,C,y){for(var M=y-1,V=m.length;++M<V;)if(m[M]===C)return M;return-1}function xp(m,C,y){for(var M=y+1;M--;)if(m[M]===C)return M;return M}function nr(m){return tr(m)?Cp(m):op(m)}function Mt(m){return tr(m)?Sp(m):up(m)}function sl(m){for(var C=m.length;C--&&dd.test(m.charAt(C)););return C}var Ap=aa(jd);function Cp(m){for(var C=ji.lastIndex=0;ji.test(m);)++C;return C}function Sp(m){return m.match(ji)||[]}function Rp(m){return m.match(Xd)||[]}var Ep=function m(C){C=C==null?Je:rr.defaults(Je.Object(),C,rr.pick(Je,Yd));var y=C.Array,M=C.Date,V=C.Error,he=C.Function,Me=C.Math,ye=C.Object,fa=C.RegExp,Ip=C.String,Rt=C.TypeError,xs=y.prototype,Pp=he.prototype,sr=ye.prototype,As=C["__core-js_shared__"],Cs=Pp.toString,me=sr.hasOwnProperty,Op=0,il=function(){var e=/[^.]+$/.exec(As&&As.keys&&As.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ss=sr.toString,Tp=Cs.call(ye),$p=Je._,Fp=fa("^"+Cs.call(me).replace(zi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rs=Hu?C.Buffer:n,bn=C.Symbol,Es=C.Uint8Array,al=Rs?Rs.allocUnsafe:n,Is=rl(ye.getPrototypeOf,ye),ol=ye.create,ul=sr.propertyIsEnumerable,Ps=xs.splice,ll=bn?bn.isConcatSpreadable:n,Lr=bn?bn.iterator:n,kn=bn?bn.toStringTag:n,Os=function(){try{var e=qn(ye,"defineProperty");return e({},"",{}),e}catch(t){}}(),Lp=C.clearTimeout!==Je.clearTimeout&&C.clearTimeout,Mp=M&&M.now!==Je.Date.now&&M.now,Bp=C.setTimeout!==Je.setTimeout&&C.setTimeout,Ts=Me.ceil,$s=Me.floor,ha=ye.getOwnPropertySymbols,Dp=Rs?Rs.isBuffer:n,cl=C.isFinite,kp=xs.join,Np=rl(ye.keys,ye),Be=Me.max,Ze=Me.min,Wp=M.now,Up=C.parseInt,fl=Me.random,Hp=xs.reverse,da=qn(C,"DataView"),Mr=qn(C,"Map"),pa=qn(C,"Promise"),ir=qn(C,"Set"),Br=qn(C,"WeakMap"),Dr=qn(ye,"create"),Fs=Br&&new Br,ar={},qp=Gn(da),Gp=Gn(Mr),Jp=Gn(pa),Xp=Gn(ir),zp=Gn(Br),Ls=bn?bn.prototype:n,kr=Ls?Ls.valueOf:n,hl=Ls?Ls.toString:n;function f(e){if(Oe(e)&&!Z(e)&&!(e instanceof ue)){if(e instanceof Et)return e;if(me.call(e,"__wrapped__"))return dc(e)}return new Et(e)}var or=function(){function e(){}return function(t){if(!Re(t))return{};if(ol)return ol(t);e.prototype=t;var i=new e;return e.prototype=n,i}}();function Ms(){}function Et(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}f.templateSettings={escape:od,evaluate:ud,interpolate:bu,variable:"",imports:{_:f}},f.prototype=Ms.prototype,f.prototype.constructor=f,Et.prototype=or(Ms.prototype),Et.prototype.constructor=Et;function ue(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ae,this.__views__=[]}function Kp(){var e=new ue(this.__wrapped__);return e.__actions__=ot(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ot(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ot(this.__views__),e}function Yp(){if(this.__filtered__){var e=new ue(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Vp(){var e=this.__wrapped__.value(),t=this.__dir__,i=Z(e),o=t<0,l=i?e.length:0,h=u_(0,l,this.__views__),d=h.start,_=h.end,v=_-d,S=o?_:d-1,R=this.__iteratees__,P=R.length,$=0,k=Ze(v,this.__takeCount__);if(!i||!o&&l==v&&k==v)return Bl(e,this.__actions__);var G=[];e:for(;v--&&$<k;){S+=t;for(var se=-1,J=e[S];++se<P;){var oe=R[se],le=oe.iteratee,_t=oe.type,st=le(J);if(_t==tt)J=st;else if(!st){if(_t==xt)continue e;break e}}G[$++]=J}return G}ue.prototype=or(Ms.prototype),ue.prototype.constructor=ue;function Nn(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var o=e[t];this.set(o[0],o[1])}}function Qp(){this.__data__=Dr?Dr(null):{},this.size=0}function Zp(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function jp(e){var t=this.__data__;if(Dr){var i=t[e];return i===A?n:i}return me.call(t,e)?t[e]:n}function eg(e){var t=this.__data__;return Dr?t[e]!==n:me.call(t,e)}function tg(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=Dr&&t===n?A:t,this}Nn.prototype.clear=Qp,Nn.prototype.delete=Zp,Nn.prototype.get=jp,Nn.prototype.has=eg,Nn.prototype.set=tg;function en(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var o=e[t];this.set(o[0],o[1])}}function ng(){this.__data__=[],this.size=0}function rg(e){var t=this.__data__,i=Bs(t,e);if(i<0)return!1;var o=t.length-1;return i==o?t.pop():Ps.call(t,i,1),--this.size,!0}function sg(e){var t=this.__data__,i=Bs(t,e);return i<0?n:t[i][1]}function ig(e){return Bs(this.__data__,e)>-1}function ag(e,t){var i=this.__data__,o=Bs(i,e);return o<0?(++this.size,i.push([e,t])):i[o][1]=t,this}en.prototype.clear=ng,en.prototype.delete=rg,en.prototype.get=sg,en.prototype.has=ig,en.prototype.set=ag;function tn(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var o=e[t];this.set(o[0],o[1])}}function og(){this.size=0,this.__data__={hash:new Nn,map:new(Mr||en),string:new Nn}}function ug(e){var t=Ks(this,e).delete(e);return this.size-=t?1:0,t}function lg(e){return Ks(this,e).get(e)}function cg(e){return Ks(this,e).has(e)}function fg(e,t){var i=Ks(this,e),o=i.size;return i.set(e,t),this.size+=i.size==o?0:1,this}tn.prototype.clear=og,tn.prototype.delete=ug,tn.prototype.get=lg,tn.prototype.has=cg,tn.prototype.set=fg;function Wn(e){var t=-1,i=e==null?0:e.length;for(this.__data__=new tn;++t<i;)this.add(e[t])}function hg(e){return this.__data__.set(e,A),this}function dg(e){return this.__data__.has(e)}Wn.prototype.add=Wn.prototype.push=hg,Wn.prototype.has=dg;function Bt(e){var t=this.__data__=new en(e);this.size=t.size}function pg(){this.__data__=new en,this.size=0}function gg(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}function _g(e){return this.__data__.get(e)}function mg(e){return this.__data__.has(e)}function wg(e,t){var i=this.__data__;if(i instanceof en){var o=i.__data__;if(!Mr||o.length<u-1)return o.push([e,t]),this.size=++i.size,this;i=this.__data__=new tn(o)}return i.set(e,t),this.size=i.size,this}Bt.prototype.clear=pg,Bt.prototype.delete=gg,Bt.prototype.get=_g,Bt.prototype.has=mg,Bt.prototype.set=wg;function dl(e,t){var i=Z(e),o=!i&&Jn(e),l=!i&&!o&&Rn(e),h=!i&&!o&&!l&&fr(e),d=i||o||l||h,_=d?ua(e.length,Ip):[],v=_.length;for(var S in e)(t||me.call(e,S))&&!(d&&(S=="length"||l&&(S=="offset"||S=="parent")||h&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||an(S,v)))&&_.push(S);return _}function pl(e){var t=e.length;return t?e[Sa(0,t-1)]:n}function vg(e,t){return Ys(ot(e),Un(t,0,e.length))}function yg(e){return Ys(ot(e))}function ga(e,t,i){(i!==n&&!Dt(e[t],i)||i===n&&!(t in e))&&nn(e,t,i)}function Nr(e,t,i){var o=e[t];(!(me.call(e,t)&&Dt(o,i))||i===n&&!(t in e))&&nn(e,t,i)}function Bs(e,t){for(var i=e.length;i--;)if(Dt(e[i][0],t))return i;return-1}function bg(e,t,i,o){return xn(e,function(l,h,d){t(o,l,i(l),d)}),o}function gl(e,t){return e&&Jt(t,Ue(t),e)}function xg(e,t){return e&&Jt(t,lt(t),e)}function nn(e,t,i){t=="__proto__"&&Os?Os(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function _a(e,t){for(var i=-1,o=t.length,l=y(o),h=e==null;++i<o;)l[i]=h?n:Va(e,t[i]);return l}function Un(e,t,i){return e===e&&(i!==n&&(e=e<=i?e:i),t!==n&&(e=e>=t?e:t)),e}function It(e,t,i,o,l,h){var d,_=t&x,v=t&O,S=t&T;if(i&&(d=l?i(e,o,l,h):i(e)),d!==n)return d;if(!Re(e))return e;var R=Z(e);if(R){if(d=c_(e),!_)return ot(e,d)}else{var P=je(e),$=P==Mn||P==Pr;if(Rn(e))return Nl(e,_);if(P==At||P==Lt||$&&!l){if(d=v||$?{}:sc(e),!_)return v?jg(e,xg(d,e)):Zg(e,gl(d,e))}else{if(!xe[P])return l?e:{};d=f_(e,P,_)}}h||(h=new Bt);var k=h.get(e);if(k)return k;h.set(e,d),Fc(e)?e.forEach(function(J){d.add(It(J,t,i,J,e,h))}):Tc(e)&&e.forEach(function(J,oe){d.set(oe,It(J,t,i,oe,e,h))});var G=S?v?Ba:Ma:v?lt:Ue,se=R?n:G(e);return St(se||e,function(J,oe){se&&(oe=J,J=e[oe]),Nr(d,oe,It(J,t,i,oe,e,h))}),d}function Ag(e){var t=Ue(e);return function(i){return _l(i,e,t)}}function _l(e,t,i){var o=i.length;if(e==null)return!o;for(e=ye(e);o--;){var l=i[o],h=t[l],d=e[l];if(d===n&&!(l in e)||!h(d))return!1}return!0}function ml(e,t,i){if(typeof e!="function")throw new Rt(g);return Xr(function(){e.apply(n,i)},t)}function Wr(e,t,i,o){var l=-1,h=vs,d=!0,_=e.length,v=[],S=t.length;if(!_)return v;i&&(t=Se(t,dt(i))),o?(h=na,d=!1):t.length>=u&&(h=Fr,d=!1,t=new Wn(t));e:for(;++l<_;){var R=e[l],P=i==null?R:i(R);if(R=o||R!==0?R:0,d&&P===P){for(var $=S;$--;)if(t[$]===P)continue e;v.push(R)}else h(t,P,o)||v.push(R)}return v}var xn=Gl(Gt),wl=Gl(wa,!0);function Cg(e,t){var i=!0;return xn(e,function(o,l,h){return i=!!t(o,l,h),i}),i}function Ds(e,t,i){for(var o=-1,l=e.length;++o<l;){var h=e[o],d=t(h);if(d!=null&&(_===n?d===d&&!gt(d):i(d,_)))var _=d,v=h}return v}function Sg(e,t,i,o){var l=e.length;for(i=te(i),i<0&&(i=-i>l?0:l+i),o=o===n||o>l?l:te(o),o<0&&(o+=l),o=i>o?0:Mc(o);i<o;)e[i++]=t;return e}function vl(e,t){var i=[];return xn(e,function(o,l,h){t(o,l,h)&&i.push(o)}),i}function Xe(e,t,i,o,l){var h=-1,d=e.length;for(i||(i=d_),l||(l=[]);++h<d;){var _=e[h];t>0&&i(_)?t>1?Xe(_,t-1,i,o,l):vn(l,_):o||(l[l.length]=_)}return l}var ma=Jl(),yl=Jl(!0);function Gt(e,t){return e&&ma(e,t,Ue)}function wa(e,t){return e&&yl(e,t,Ue)}function ks(e,t){return wn(t,function(i){return on(e[i])})}function Hn(e,t){t=Cn(t,e);for(var i=0,o=t.length;e!=null&&i<o;)e=e[Xt(t[i++])];return i&&i==o?e:n}function bl(e,t,i){var o=t(e);return Z(e)?o:vn(o,i(e))}function nt(e){return e==null?e===n?ed:ds:kn&&kn in ye(e)?o_(e):y_(e)}function va(e,t){return e>t}function Rg(e,t){return e!=null&&me.call(e,t)}function Eg(e,t){return e!=null&&t in ye(e)}function Ig(e,t,i){return e>=Ze(t,i)&&e<Be(t,i)}function ya(e,t,i){for(var o=i?na:vs,l=e[0].length,h=e.length,d=h,_=y(h),v=1/0,S=[];d--;){var R=e[d];d&&t&&(R=Se(R,dt(t))),v=Ze(R.length,v),_[d]=!i&&(t||l>=120&&R.length>=120)?new Wn(d&&R):n}R=e[0];var P=-1,$=_[0];e:for(;++P<l&&S.length<v;){var k=R[P],G=t?t(k):k;if(k=i||k!==0?k:0,!($?Fr($,G):o(S,G,i))){for(d=h;--d;){var se=_[d];if(!(se?Fr(se,G):o(e[d],G,i)))continue e}$&&$.push(G),S.push(k)}}return S}function Pg(e,t,i,o){return Gt(e,function(l,h,d){t(o,i(l),h,d)}),o}function Ur(e,t,i){t=Cn(t,e),e=uc(e,t);var o=e==null?e:e[Xt(Ot(t))];return o==null?n:ht(o,e,i)}function xl(e){return Oe(e)&&nt(e)==Lt}function Og(e){return Oe(e)&&nt(e)==Pe}function Tg(e){return Oe(e)&&nt(e)==be}function Hr(e,t,i,o,l){return e===t?!0:e==null||t==null||!Oe(e)&&!Oe(t)?e!==e&&t!==t:$g(e,t,i,o,Hr,l)}function $g(e,t,i,o,l,h){var d=Z(e),_=Z(t),v=d?jt:je(e),S=_?jt:je(t);v=v==Lt?At:v,S=S==Lt?At:S;var R=v==At,P=S==At,$=v==S;if($&&Rn(e)){if(!Rn(t))return!1;d=!0,R=!1}if($&&!R)return h||(h=new Bt),d||fr(e)?tc(e,t,i,o,l,h):i_(e,t,v,i,o,l,h);if(!(i&L)){var k=R&&me.call(e,"__wrapped__"),G=P&&me.call(t,"__wrapped__");if(k||G){var se=k?e.value():e,J=G?t.value():t;return h||(h=new Bt),l(se,J,i,o,h)}}return $?(h||(h=new Bt),a_(e,t,i,o,l,h)):!1}function Fg(e){return Oe(e)&&je(e)==it}function ba(e,t,i,o){var l=i.length,h=l,d=!o;if(e==null)return!h;for(e=ye(e);l--;){var _=i[l];if(d&&_[2]?_[1]!==e[_[0]]:!(_[0]in e))return!1}for(;++l<h;){_=i[l];var v=_[0],S=e[v],R=_[1];if(d&&_[2]){if(S===n&&!(v in e))return!1}else{var P=new Bt;if(o)var $=o(S,R,v,e,t,P);if(!($===n?Hr(R,S,L|ce,o,P):$))return!1}}return!0}function Al(e){if(!Re(e)||g_(e))return!1;var t=on(e)?Fp:Ad;return t.test(Gn(e))}function Lg(e){return Oe(e)&&nt(e)==gn}function Mg(e){return Oe(e)&&je(e)==at}function Bg(e){return Oe(e)&&ti(e.length)&&!!Ce[nt(e)]}function Cl(e){return typeof e=="function"?e:e==null?ct:typeof e=="object"?Z(e)?El(e[0],e[1]):Rl(e):Xc(e)}function xa(e){if(!Jr(e))return Np(e);var t=[];for(var i in ye(e))me.call(e,i)&&i!="constructor"&&t.push(i);return t}function Dg(e){if(!Re(e))return v_(e);var t=Jr(e),i=[];for(var o in e)o=="constructor"&&(t||!me.call(e,o))||i.push(o);return i}function Aa(e,t){return e<t}function Sl(e,t){var i=-1,o=ut(e)?y(e.length):[];return xn(e,function(l,h,d){o[++i]=t(l,h,d)}),o}function Rl(e){var t=ka(e);return t.length==1&&t[0][2]?ac(t[0][0],t[0][1]):function(i){return i===e||ba(i,e,t)}}function El(e,t){return Wa(e)&&ic(t)?ac(Xt(e),t):function(i){var o=Va(i,e);return o===n&&o===t?Qa(i,e):Hr(t,o,L|ce)}}function Ns(e,t,i,o,l){e!==t&&ma(t,function(h,d){if(l||(l=new Bt),Re(h))kg(e,t,d,i,Ns,o,l);else{var _=o?o(Ha(e,d),h,d+"",e,t,l):n;_===n&&(_=h),ga(e,d,_)}},lt)}function kg(e,t,i,o,l,h,d){var _=Ha(e,i),v=Ha(t,i),S=d.get(v);if(S){ga(e,i,S);return}var R=h?h(_,v,i+"",e,t,d):n,P=R===n;if(P){var $=Z(v),k=!$&&Rn(v),G=!$&&!k&&fr(v);R=v,$||k||G?Z(_)?R=_:Te(_)?R=ot(_):k?(P=!1,R=Nl(v,!0)):G?(P=!1,R=Wl(v,!0)):R=[]:zr(v)||Jn(v)?(R=_,Jn(_)?R=Bc(_):(!Re(_)||on(_))&&(R=sc(v))):P=!1}P&&(d.set(v,R),l(R,v,o,h,d),d.delete(v)),ga(e,i,R)}function Il(e,t){var i=e.length;if(i)return t+=t<0?i:0,an(t,i)?e[t]:n}function Pl(e,t,i){t.length?t=Se(t,function(h){return Z(h)?function(d){return Hn(d,h.length===1?h[0]:h)}:h}):t=[ct];var o=-1;t=Se(t,dt(q()));var l=Sl(e,function(h,d,_){var v=Se(t,function(S){return S(h)});return{criteria:v,index:++o,value:h}});return fp(l,function(h,d){return Qg(h,d,i)})}function Ng(e,t){return Ol(e,t,function(i,o){return Qa(e,o)})}function Ol(e,t,i){for(var o=-1,l=t.length,h={};++o<l;){var d=t[o],_=Hn(e,d);i(_,d)&&qr(h,Cn(d,e),_)}return h}function Wg(e){return function(t){return Hn(t,e)}}function Ca(e,t,i,o){var l=o?cp:er,h=-1,d=t.length,_=e;for(e===t&&(t=ot(t)),i&&(_=Se(e,dt(i)));++h<d;)for(var v=0,S=t[h],R=i?i(S):S;(v=l(_,R,v,o))>-1;)_!==e&&Ps.call(_,v,1),Ps.call(e,v,1);return e}function Tl(e,t){for(var i=e?t.length:0,o=i-1;i--;){var l=t[i];if(i==o||l!==h){var h=l;an(l)?Ps.call(e,l,1):Ia(e,l)}}return e}function Sa(e,t){return e+$s(fl()*(t-e+1))}function Ug(e,t,i,o){for(var l=-1,h=Be(Ts((t-e)/(i||1)),0),d=y(h);h--;)d[o?h:++l]=e,e+=i;return d}function Ra(e,t){var i="";if(!e||t<1||t>fe)return i;do t%2&&(i+=e),t=$s(t/2),t&&(e+=e);while(t);return i}function ie(e,t){return qa(oc(e,t,ct),e+"")}function Hg(e){return pl(hr(e))}function qg(e,t){var i=hr(e);return Ys(i,Un(t,0,i.length))}function qr(e,t,i,o){if(!Re(e))return e;t=Cn(t,e);for(var l=-1,h=t.length,d=h-1,_=e;_!=null&&++l<h;){var v=Xt(t[l]),S=i;if(v==="__proto__"||v==="constructor"||v==="prototype")return e;if(l!=d){var R=_[v];S=o?o(R,v,_):n,S===n&&(S=Re(R)?R:an(t[l+1])?[]:{})}Nr(_,v,S),_=_[v]}return e}var $l=Fs?function(e,t){return Fs.set(e,t),e}:ct,Gg=Os?function(e,t){return Os(e,"toString",{configurable:!0,enumerable:!1,value:ja(t),writable:!0})}:ct;function Jg(e){return Ys(hr(e))}function Pt(e,t,i){var o=-1,l=e.length;t<0&&(t=-t>l?0:l+t),i=i>l?l:i,i<0&&(i+=l),l=t>i?0:i-t>>>0,t>>>=0;for(var h=y(l);++o<l;)h[o]=e[o+t];return h}function Xg(e,t){var i;return xn(e,function(o,l,h){return i=t(o,l,h),!i}),!!i}function Ws(e,t,i){var o=0,l=e==null?o:e.length;if(typeof t=="number"&&t===t&&l<=Zt){for(;o<l;){var h=o+l>>>1,d=e[h];d!==null&&!gt(d)&&(i?d<=t:d<t)?o=h+1:l=h}return l}return Ea(e,t,ct,i)}function Ea(e,t,i,o){var l=0,h=e==null?0:e.length;if(h===0)return 0;t=i(t);for(var d=t!==t,_=t===null,v=gt(t),S=t===n;l<h;){var R=$s((l+h)/2),P=i(e[R]),$=P!==n,k=P===null,G=P===P,se=gt(P);if(d)var J=o||G;else S?J=G&&(o||$):_?J=G&&$&&(o||!k):v?J=G&&$&&!k&&(o||!se):k||se?J=!1:J=o?P<=t:P<t;J?l=R+1:h=R}return Ze(h,Le)}function Fl(e,t){for(var i=-1,o=e.length,l=0,h=[];++i<o;){var d=e[i],_=t?t(d):d;if(!i||!Dt(_,v)){var v=_;h[l++]=d===0?0:d}}return h}function Ll(e){return typeof e=="number"?e:gt(e)?we:+e}function pt(e){if(typeof e=="string")return e;if(Z(e))return Se(e,pt)+"";if(gt(e))return hl?hl.call(e):"";var t=e+"";return t=="0"&&1/e==-Qe?"-0":t}function An(e,t,i){var o=-1,l=vs,h=e.length,d=!0,_=[],v=_;if(i)d=!1,l=na;else if(h>=u){var S=t?null:r_(e);if(S)return bs(S);d=!1,l=Fr,v=new Wn}else v=t?[]:_;e:for(;++o<h;){var R=e[o],P=t?t(R):R;if(R=i||R!==0?R:0,d&&P===P){for(var $=v.length;$--;)if(v[$]===P)continue e;t&&v.push(P),_.push(R)}else l(v,P,i)||(v!==_&&v.push(P),_.push(R))}return _}function Ia(e,t){return t=Cn(t,e),e=uc(e,t),e==null||delete e[Xt(Ot(t))]}function Ml(e,t,i,o){return qr(e,t,i(Hn(e,t)),o)}function Us(e,t,i,o){for(var l=e.length,h=o?l:-1;(o?h--:++h<l)&&t(e[h],h,e););return i?Pt(e,o?0:h,o?h+1:l):Pt(e,o?h+1:0,o?l:h)}function Bl(e,t){var i=e;return i instanceof ue&&(i=i.value()),ra(t,function(o,l){return l.func.apply(l.thisArg,vn([o],l.args))},i)}function Pa(e,t,i){var o=e.length;if(o<2)return o?An(e[0]):[];for(var l=-1,h=y(o);++l<o;)for(var d=e[l],_=-1;++_<o;)_!=l&&(h[l]=Wr(h[l]||d,e[_],t,i));return An(Xe(h,1),t,i)}function Dl(e,t,i){for(var o=-1,l=e.length,h=t.length,d={};++o<l;){var _=o<h?t[o]:n;i(d,e[o],_)}return d}function Oa(e){return Te(e)?e:[]}function Ta(e){return typeof e=="function"?e:ct}function Cn(e,t){return Z(e)?e:Wa(e,t)?[e]:hc(_e(e))}var zg=ie;function Sn(e,t,i){var o=e.length;return i=i===n?o:i,!t&&i>=o?e:Pt(e,t,i)}var kl=Lp||function(e){return Je.clearTimeout(e)};function Nl(e,t){if(t)return e.slice();var i=e.length,o=al?al(i):new e.constructor(i);return e.copy(o),o}function $a(e){var t=new e.constructor(e.byteLength);return new Es(t).set(new Es(e)),t}function Kg(e,t){var i=t?$a(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}function Yg(e){var t=new e.constructor(e.source,xu.exec(e));return t.lastIndex=e.lastIndex,t}function Vg(e){return kr?ye(kr.call(e)):{}}function Wl(e,t){var i=t?$a(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function Ul(e,t){if(e!==t){var i=e!==n,o=e===null,l=e===e,h=gt(e),d=t!==n,_=t===null,v=t===t,S=gt(t);if(!_&&!S&&!h&&e>t||h&&d&&v&&!_&&!S||o&&d&&v||!i&&v||!l)return 1;if(!o&&!h&&!S&&e<t||S&&i&&l&&!o&&!h||_&&i&&l||!d&&l||!v)return-1}return 0}function Qg(e,t,i){for(var o=-1,l=e.criteria,h=t.criteria,d=l.length,_=i.length;++o<d;){var v=Ul(l[o],h[o]);if(v){if(o>=_)return v;var S=i[o];return v*(S=="desc"?-1:1)}}return e.index-t.index}function Hl(e,t,i,o){for(var l=-1,h=e.length,d=i.length,_=-1,v=t.length,S=Be(h-d,0),R=y(v+S),P=!o;++_<v;)R[_]=t[_];for(;++l<d;)(P||l<h)&&(R[i[l]]=e[l]);for(;S--;)R[_++]=e[l++];return R}function ql(e,t,i,o){for(var l=-1,h=e.length,d=-1,_=i.length,v=-1,S=t.length,R=Be(h-_,0),P=y(R+S),$=!o;++l<R;)P[l]=e[l];for(var k=l;++v<S;)P[k+v]=t[v];for(;++d<_;)($||l<h)&&(P[k+i[d]]=e[l++]);return P}function ot(e,t){var i=-1,o=e.length;for(t||(t=y(o));++i<o;)t[i]=e[i];return t}function Jt(e,t,i,o){var l=!i;i||(i={});for(var h=-1,d=t.length;++h<d;){var _=t[h],v=o?o(i[_],e[_],_,i,e):n;v===n&&(v=e[_]),l?nn(i,_,v):Nr(i,_,v)}return i}function Zg(e,t){return Jt(e,Na(e),t)}function jg(e,t){return Jt(e,nc(e),t)}function Hs(e,t){return function(i,o){var l=Z(i)?sp:bg,h=t?t():{};return l(i,e,q(o,2),h)}}function ur(e){return ie(function(t,i){var o=-1,l=i.length,h=l>1?i[l-1]:n,d=l>2?i[2]:n;for(h=e.length>3&&typeof h=="function"?(l--,h):n,d&&rt(i[0],i[1],d)&&(h=l<3?n:h,l=1),t=ye(t);++o<l;){var _=i[o];_&&e(t,_,o,h)}return t})}function Gl(e,t){return function(i,o){if(i==null)return i;if(!ut(i))return e(i,o);for(var l=i.length,h=t?l:-1,d=ye(i);(t?h--:++h<l)&&o(d[h],h,d)!==!1;);return i}}function Jl(e){return function(t,i,o){for(var l=-1,h=ye(t),d=o(t),_=d.length;_--;){var v=d[e?_:++l];if(i(h[v],v,h)===!1)break}return t}}function e_(e,t,i){var o=t&j,l=Gr(e);function h(){var d=this&&this!==Je&&this instanceof h?l:e;return d.apply(o?i:this,arguments)}return h}function Xl(e){return function(t){t=_e(t);var i=tr(t)?Mt(t):n,o=i?i[0]:t.charAt(0),l=i?Sn(i,1).join(""):t.slice(1);return o[e]()+l}}function lr(e){return function(t){return ra(Gc(qc(t).replace(Gd,"")),e,"")}}function Gr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=or(e.prototype),o=e.apply(i,t);return Re(o)?o:i}}function t_(e,t,i){var o=Gr(e);function l(){for(var h=arguments.length,d=y(h),_=h,v=cr(l);_--;)d[_]=arguments[_];var S=h<3&&d[0]!==v&&d[h-1]!==v?[]:yn(d,v);if(h-=S.length,h<i)return Ql(e,t,qs,l.placeholder,n,d,S,n,n,i-h);var R=this&&this!==Je&&this instanceof l?o:e;return ht(R,this,d)}return l}function zl(e){return function(t,i,o){var l=ye(t);if(!ut(t)){var h=q(i,3);t=Ue(t),i=function(_){return h(l[_],_,l)}}var d=e(t,i,o);return d>-1?l[h?t[d]:d]:n}}function Kl(e){return sn(function(t){var i=t.length,o=i,l=Et.prototype.thru;for(e&&t.reverse();o--;){var h=t[o];if(typeof h!="function")throw new Rt(g);if(l&&!d&&zs(h)=="wrapper")var d=new Et([],!0)}for(o=d?o:i;++o<i;){h=t[o];var _=zs(h),v=_=="wrapper"?Da(h):n;v&&Ua(v[0])&&v[1]==(ne|Y|de|ee)&&!v[4].length&&v[9]==1?d=d[zs(v[0])].apply(d,v[3]):d=h.length==1&&Ua(h)?d[_]():d.thru(h)}return function(){var S=arguments,R=S[0];if(d&&S.length==1&&Z(R))return d.plant(R).value();for(var P=0,$=i?t[P].apply(this,S):R;++P<i;)$=t[P].call(this,$);return $}})}function qs(e,t,i,o,l,h,d,_,v,S){var R=t&ne,P=t&j,$=t&B,k=t&(Y|H),G=t&Q,se=$?n:Gr(e);function J(){for(var oe=arguments.length,le=y(oe),_t=oe;_t--;)le[_t]=arguments[_t];if(k)var st=cr(J),mt=dp(le,st);if(o&&(le=Hl(le,o,l,k)),h&&(le=ql(le,h,d,k)),oe-=mt,k&&oe<S){var $e=yn(le,st);return Ql(e,t,qs,J.placeholder,i,le,$e,_,v,S-oe)}var kt=P?i:this,ln=$?kt[e]:e;return oe=le.length,_?le=b_(le,_):G&&oe>1&&le.reverse(),R&&v<oe&&(le.length=v),this&&this!==Je&&this instanceof J&&(ln=se||Gr(ln)),ln.apply(kt,le)}return J}function Yl(e,t){return function(i,o){return Pg(i,e,t(o),{})}}function Gs(e,t){return function(i,o){var l;if(i===n&&o===n)return t;if(i!==n&&(l=i),o!==n){if(l===n)return o;typeof i=="string"||typeof o=="string"?(i=pt(i),o=pt(o)):(i=Ll(i),o=Ll(o)),l=e(i,o)}return l}}function Fa(e){return sn(function(t){return t=Se(t,dt(q())),ie(function(i){var o=this;return e(t,function(l){return ht(l,o,i)})})})}function Js(e,t){t=t===n?" ":pt(t);var i=t.length;if(i<2)return i?Ra(t,e):t;var o=Ra(t,Ts(e/nr(t)));return tr(t)?Sn(Mt(o),0,e).join(""):o.slice(0,e)}function n_(e,t,i,o){var l=t&j,h=Gr(e);function d(){for(var _=-1,v=arguments.length,S=-1,R=o.length,P=y(R+v),$=this&&this!==Je&&this instanceof d?h:e;++S<R;)P[S]=o[S];for(;v--;)P[S++]=arguments[++_];return ht($,l?i:this,P)}return d}function Vl(e){return function(t,i,o){return o&&typeof o!="number"&&rt(t,i,o)&&(i=o=n),t=un(t),i===n?(i=t,t=0):i=un(i),o=o===n?t<i?1:-1:un(o),Ug(t,i,o,e)}}function Xs(e){return function(t,i){return typeof t=="string"&&typeof i=="string"||(t=Tt(t),i=Tt(i)),e(t,i)}}function Ql(e,t,i,o,l,h,d,_,v,S){var R=t&Y,P=R?d:n,$=R?n:d,k=R?h:n,G=R?n:h;t|=R?de:pe,t&=~(R?pe:de),t&W||(t&=-4);var se=[e,t,l,k,P,G,$,_,v,S],J=i.apply(n,se);return Ua(e)&&lc(J,se),J.placeholder=o,cc(J,e,t)}function La(e){var t=Me[e];return function(i,o){if(i=Tt(i),o=o==null?0:Ze(te(o),292),o&&cl(i)){var l=(_e(i)+"e").split("e"),h=t(l[0]+"e"+(+l[1]+o));return l=(_e(h)+"e").split("e"),+(l[0]+"e"+(+l[1]-o))}return t(i)}}var r_=ir&&1/bs(new ir([,-0]))[1]==Qe?function(e){return new ir(e)}:no;function Zl(e){return function(t){var i=je(t);return i==it?ca(t):i==at?yp(t):hp(t,e(t))}}function rn(e,t,i,o,l,h,d,_){var v=t&B;if(!v&&typeof e!="function")throw new Rt(g);var S=o?o.length:0;if(S||(t&=-97,o=l=n),d=d===n?d:Be(te(d),0),_=_===n?_:te(_),S-=l?l.length:0,t&pe){var R=o,P=l;o=l=n}var $=v?n:Da(e),k=[e,t,i,o,l,R,P,h,d,_];if($&&w_(k,$),e=k[0],t=k[1],i=k[2],o=k[3],l=k[4],_=k[9]=k[9]===n?v?0:e.length:Be(k[9]-S,0),!_&&t&(Y|H)&&(t&=-25),!t||t==j)var G=e_(e,t,i);else t==Y||t==H?G=t_(e,t,_):(t==de||t==(j|de))&&!l.length?G=n_(e,t,i,o):G=qs.apply(n,k);var se=$?$l:lc;return cc(se(G,k),e,t)}function jl(e,t,i,o){return e===n||Dt(e,sr[i])&&!me.call(o,i)?t:e}function ec(e,t,i,o,l,h){return Re(e)&&Re(t)&&(h.set(t,e),Ns(e,t,n,ec,h),h.delete(t)),e}function s_(e){return zr(e)?n:e}function tc(e,t,i,o,l,h){var d=i&L,_=e.length,v=t.length;if(_!=v&&!(d&&v>_))return!1;var S=h.get(e),R=h.get(t);if(S&&R)return S==t&&R==e;var P=-1,$=!0,k=i&ce?new Wn:n;for(h.set(e,t),h.set(t,e);++P<_;){var G=e[P],se=t[P];if(o)var J=d?o(se,G,P,t,e,h):o(G,se,P,e,t,h);if(J!==n){if(J)continue;$=!1;break}if(k){if(!sa(t,function(oe,le){if(!Fr(k,le)&&(G===oe||l(G,oe,i,o,h)))return k.push(le)})){$=!1;break}}else if(!(G===se||l(G,se,i,o,h))){$=!1;break}}return h.delete(e),h.delete(t),$}function i_(e,t,i,o,l,h,d){switch(i){case mn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Pe:return!(e.byteLength!=t.byteLength||!h(new Es(e),new Es(t)));case qt:case be:case pn:return Dt(+e,+t);case dn:return e.name==t.name&&e.message==t.message;case gn:case _n:return e==t+"";case it:var _=ca;case at:var v=o&L;if(_||(_=bs),e.size!=t.size&&!v)return!1;var S=d.get(e);if(S)return S==t;o|=ce,d.set(e,t);var R=tc(_(e),_(t),o,l,h,d);return d.delete(e),R;case gs:if(kr)return kr.call(e)==kr.call(t)}return!1}function a_(e,t,i,o,l,h){var d=i&L,_=Ma(e),v=_.length,S=Ma(t),R=S.length;if(v!=R&&!d)return!1;for(var P=v;P--;){var $=_[P];if(!(d?$ in t:me.call(t,$)))return!1}var k=h.get(e),G=h.get(t);if(k&&G)return k==t&&G==e;var se=!0;h.set(e,t),h.set(t,e);for(var J=d;++P<v;){$=_[P];var oe=e[$],le=t[$];if(o)var _t=d?o(le,oe,$,t,e,h):o(oe,le,$,e,t,h);if(!(_t===n?oe===le||l(oe,le,i,o,h):_t)){se=!1;break}J||(J=$=="constructor")}if(se&&!J){var st=e.constructor,mt=t.constructor;st!=mt&&"constructor"in e&&"constructor"in t&&!(typeof st=="function"&&st instanceof st&&typeof mt=="function"&&mt instanceof mt)&&(se=!1)}return h.delete(e),h.delete(t),se}function sn(e){return qa(oc(e,n,_c),e+"")}function Ma(e){return bl(e,Ue,Na)}function Ba(e){return bl(e,lt,nc)}var Da=Fs?function(e){return Fs.get(e)}:no;function zs(e){for(var t=e.name+"",i=ar[t],o=me.call(ar,t)?i.length:0;o--;){var l=i[o],h=l.func;if(h==null||h==e)return l.name}return t}function cr(e){var t=me.call(f,"placeholder")?f:e;return t.placeholder}function q(){var e=f.iteratee||eo;return e=e===eo?Cl:e,arguments.length?e(arguments[0],arguments[1]):e}function Ks(e,t){var i=e.__data__;return p_(t)?i[typeof t=="string"?"string":"hash"]:i.map}function ka(e){for(var t=Ue(e),i=t.length;i--;){var o=t[i],l=e[o];t[i]=[o,l,ic(l)]}return t}function qn(e,t){var i=mp(e,t);return Al(i)?i:n}function o_(e){var t=me.call(e,kn),i=e[kn];try{e[kn]=n;var o=!0}catch(h){}var l=Ss.call(e);return o&&(t?e[kn]=i:delete e[kn]),l}var Na=ha?function(e){return e==null?[]:(e=ye(e),wn(ha(e),function(t){return ul.call(e,t)}))}:ro,nc=ha?function(e){for(var t=[];e;)vn(t,Na(e)),e=Is(e);return t}:ro,je=nt;(da&&je(new da(new ArrayBuffer(1)))!=mn||Mr&&je(new Mr)!=it||pa&&je(pa.resolve())!=Or||ir&&je(new ir)!=at||Br&&je(new Br)!=Tr)&&(je=function(e){var t=nt(e),i=t==At?e.constructor:n,o=i?Gn(i):"";if(o)switch(o){case qp:return mn;case Gp:return it;case Jp:return Or;case Xp:return at;case zp:return Tr}return t});function u_(e,t,i){for(var o=-1,l=i.length;++o<l;){var h=i[o],d=h.size;switch(h.type){case"drop":e+=d;break;case"dropRight":t-=d;break;case"take":t=Ze(t,e+d);break;case"takeRight":e=Be(e,t-d);break}}return{start:e,end:t}}function l_(e){var t=e.match(gd);return t?t[1].split(_d):[]}function rc(e,t,i){t=Cn(t,e);for(var o=-1,l=t.length,h=!1;++o<l;){var d=Xt(t[o]);if(!(h=e!=null&&i(e,d)))break;e=e[d]}return h||++o!=l?h:(l=e==null?0:e.length,!!l&&ti(l)&&an(d,l)&&(Z(e)||Jn(e)))}function c_(e){var t=e.length,i=new e.constructor(t);return t&&typeof e[0]=="string"&&me.call(e,"index")&&(i.index=e.index,i.input=e.input),i}function sc(e){return typeof e.constructor=="function"&&!Jr(e)?or(Is(e)):{}}function f_(e,t,i){var o=e.constructor;switch(t){case Pe:return $a(e);case qt:case be:return new o(+e);case mn:return Kg(e,i);case $r:case Bn:case Wi:case Ui:case Hi:case qi:case Gi:case Ji:case Xi:return Wl(e,i);case it:return new o;case pn:case _n:return new o(e);case gn:return Yg(e);case at:return new o;case gs:return Vg(e)}}function h_(e,t){var i=t.length;if(!i)return e;var o=i-1;return t[o]=(i>1?"& ":"")+t[o],t=t.join(i>2?", ":" "),e.replace(pd,`{
/* [wrapped with `+t+`] */
`)}function d_(e){return Z(e)||Jn(e)||!!(ll&&e&&e[ll])}function an(e,t){var i=typeof e;return t=t==null?fe:t,!!t&&(i=="number"||i!="symbol"&&Sd.test(e))&&e>-1&&e%1==0&&e<t}function rt(e,t,i){if(!Re(i))return!1;var o=typeof t;return(o=="number"?ut(i)&&an(t,i.length):o=="string"&&t in i)?Dt(i[t],e):!1}function Wa(e,t){if(Z(e))return!1;var i=typeof e;return i=="number"||i=="symbol"||i=="boolean"||e==null||gt(e)?!0:cd.test(e)||!ld.test(e)||t!=null&&e in ye(t)}function p_(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Ua(e){var t=zs(e),i=f[t];if(typeof i!="function"||!(t in ue.prototype))return!1;if(e===i)return!0;var o=Da(i);return!!o&&e===o[0]}function g_(e){return!!il&&il in e}var __=As?on:so;function Jr(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||sr;return e===i}function ic(e){return e===e&&!Re(e)}function ac(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==n||e in ye(i))}}function m_(e){var t=js(e,function(o){return i.size===E&&i.clear(),o}),i=t.cache;return t}function w_(e,t){var i=e[1],o=t[1],l=i|o,h=l<(j|B|ne),d=o==ne&&i==Y||o==ne&&i==ee&&e[7].length<=t[8]||o==(ne|ee)&&t[7].length<=t[8]&&i==Y;if(!(h||d))return e;o&j&&(e[2]=t[2],l|=i&j?0:W);var _=t[3];if(_){var v=e[3];e[3]=v?Hl(v,_,t[4]):_,e[4]=v?yn(e[3],I):t[4]}return _=t[5],_&&(v=e[5],e[5]=v?ql(v,_,t[6]):_,e[6]=v?yn(e[5],I):t[6]),_=t[7],_&&(e[7]=_),o&ne&&(e[8]=e[8]==null?t[8]:Ze(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=l,e}function v_(e){var t=[];if(e!=null)for(var i in ye(e))t.push(i);return t}function y_(e){return Ss.call(e)}function oc(e,t,i){return t=Be(t===n?e.length-1:t,0),function(){for(var o=arguments,l=-1,h=Be(o.length-t,0),d=y(h);++l<h;)d[l]=o[t+l];l=-1;for(var _=y(t+1);++l<t;)_[l]=o[l];return _[t]=i(d),ht(e,this,_)}}function uc(e,t){return t.length<2?e:Hn(e,Pt(t,0,-1))}function b_(e,t){for(var i=e.length,o=Ze(t.length,i),l=ot(e);o--;){var h=t[o];e[o]=an(h,i)?l[h]:n}return e}function Ha(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var lc=fc($l),Xr=Bp||function(e,t){return Je.setTimeout(e,t)},qa=fc(Gg);function cc(e,t,i){var o=t+"";return qa(e,h_(o,x_(l_(o),i)))}function fc(e){var t=0,i=0;return function(){var o=Wp(),l=Ge-(o-i);if(i=o,l>0){if(++t>=D)return arguments[0]}else t=0;return e.apply(n,arguments)}}function Ys(e,t){var i=-1,o=e.length,l=o-1;for(t=t===n?o:t;++i<t;){var h=Sa(i,l),d=e[h];e[h]=e[i],e[i]=d}return e.length=t,e}var hc=m_(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(fd,function(i,o,l,h){t.push(l?h.replace(vd,"$1"):o||i)}),t});function Xt(e){if(typeof e=="string"||gt(e))return e;var t=e+"";return t=="0"&&1/e==-Qe?"-0":t}function Gn(e){if(e!=null){try{return Cs.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function x_(e,t){return St(We,function(i){var o="_."+i[0];t&i[1]&&!vs(e,o)&&e.push(o)}),e.sort()}function dc(e){if(e instanceof ue)return e.clone();var t=new Et(e.__wrapped__,e.__chain__);return t.__actions__=ot(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function A_(e,t,i){(i?rt(e,t,i):t===n)?t=1:t=Be(te(t),0);var o=e==null?0:e.length;if(!o||t<1)return[];for(var l=0,h=0,d=y(Ts(o/t));l<o;)d[h++]=Pt(e,l,l+=t);return d}function C_(e){for(var t=-1,i=e==null?0:e.length,o=0,l=[];++t<i;){var h=e[t];h&&(l[o++]=h)}return l}function S_(){var e=arguments.length;if(!e)return[];for(var t=y(e-1),i=arguments[0],o=e;o--;)t[o-1]=arguments[o];return vn(Z(i)?ot(i):[i],Xe(t,1))}var R_=ie(function(e,t){return Te(e)?Wr(e,Xe(t,1,Te,!0)):[]}),E_=ie(function(e,t){var i=Ot(t);return Te(i)&&(i=n),Te(e)?Wr(e,Xe(t,1,Te,!0),q(i,2)):[]}),I_=ie(function(e,t){var i=Ot(t);return Te(i)&&(i=n),Te(e)?Wr(e,Xe(t,1,Te,!0),n,i):[]});function P_(e,t,i){var o=e==null?0:e.length;return o?(t=i||t===n?1:te(t),Pt(e,t<0?0:t,o)):[]}function O_(e,t,i){var o=e==null?0:e.length;return o?(t=i||t===n?1:te(t),t=o-t,Pt(e,0,t<0?0:t)):[]}function T_(e,t){return e&&e.length?Us(e,q(t,3),!0,!0):[]}function $_(e,t){return e&&e.length?Us(e,q(t,3),!0):[]}function F_(e,t,i,o){var l=e==null?0:e.length;return l?(i&&typeof i!="number"&&rt(e,t,i)&&(i=0,o=l),Sg(e,t,i,o)):[]}function pc(e,t,i){var o=e==null?0:e.length;if(!o)return-1;var l=i==null?0:te(i);return l<0&&(l=Be(o+l,0)),ys(e,q(t,3),l)}function gc(e,t,i){var o=e==null?0:e.length;if(!o)return-1;var l=o-1;return i!==n&&(l=te(i),l=i<0?Be(o+l,0):Ze(l,o-1)),ys(e,q(t,3),l,!0)}function _c(e){var t=e==null?0:e.length;return t?Xe(e,1):[]}function L_(e){var t=e==null?0:e.length;return t?Xe(e,Qe):[]}function M_(e,t){var i=e==null?0:e.length;return i?(t=t===n?1:te(t),Xe(e,t)):[]}function B_(e){for(var t=-1,i=e==null?0:e.length,o={};++t<i;){var l=e[t];o[l[0]]=l[1]}return o}function mc(e){return e&&e.length?e[0]:n}function D_(e,t,i){var o=e==null?0:e.length;if(!o)return-1;var l=i==null?0:te(i);return l<0&&(l=Be(o+l,0)),er(e,t,l)}function k_(e){var t=e==null?0:e.length;return t?Pt(e,0,-1):[]}var N_=ie(function(e){var t=Se(e,Oa);return t.length&&t[0]===e[0]?ya(t):[]}),W_=ie(function(e){var t=Ot(e),i=Se(e,Oa);return t===Ot(i)?t=n:i.pop(),i.length&&i[0]===e[0]?ya(i,q(t,2)):[]}),U_=ie(function(e){var t=Ot(e),i=Se(e,Oa);return t=typeof t=="function"?t:n,t&&i.pop(),i.length&&i[0]===e[0]?ya(i,n,t):[]});function H_(e,t){return e==null?"":kp.call(e,t)}function Ot(e){var t=e==null?0:e.length;return t?e[t-1]:n}function q_(e,t,i){var o=e==null?0:e.length;if(!o)return-1;var l=o;return i!==n&&(l=te(i),l=l<0?Be(o+l,0):Ze(l,o-1)),t===t?xp(e,t,l):ys(e,Qu,l,!0)}function G_(e,t){return e&&e.length?Il(e,te(t)):n}var J_=ie(wc);function wc(e,t){return e&&e.length&&t&&t.length?Ca(e,t):e}function X_(e,t,i){return e&&e.length&&t&&t.length?Ca(e,t,q(i,2)):e}function z_(e,t,i){return e&&e.length&&t&&t.length?Ca(e,t,n,i):e}var K_=sn(function(e,t){var i=e==null?0:e.length,o=_a(e,t);return Tl(e,Se(t,function(l){return an(l,i)?+l:l}).sort(Ul)),o});function Y_(e,t){var i=[];if(!(e&&e.length))return i;var o=-1,l=[],h=e.length;for(t=q(t,3);++o<h;){var d=e[o];t(d,o,e)&&(i.push(d),l.push(o))}return Tl(e,l),i}function Ga(e){return e==null?e:Hp.call(e)}function V_(e,t,i){var o=e==null?0:e.length;return o?(i&&typeof i!="number"&&rt(e,t,i)?(t=0,i=o):(t=t==null?0:te(t),i=i===n?o:te(i)),Pt(e,t,i)):[]}function Q_(e,t){return Ws(e,t)}function Z_(e,t,i){return Ea(e,t,q(i,2))}function j_(e,t){var i=e==null?0:e.length;if(i){var o=Ws(e,t);if(o<i&&Dt(e[o],t))return o}return-1}function em(e,t){return Ws(e,t,!0)}function tm(e,t,i){return Ea(e,t,q(i,2),!0)}function nm(e,t){var i=e==null?0:e.length;if(i){var o=Ws(e,t,!0)-1;if(Dt(e[o],t))return o}return-1}function rm(e){return e&&e.length?Fl(e):[]}function sm(e,t){return e&&e.length?Fl(e,q(t,2)):[]}function im(e){var t=e==null?0:e.length;return t?Pt(e,1,t):[]}function am(e,t,i){return e&&e.length?(t=i||t===n?1:te(t),Pt(e,0,t<0?0:t)):[]}function om(e,t,i){var o=e==null?0:e.length;return o?(t=i||t===n?1:te(t),t=o-t,Pt(e,t<0?0:t,o)):[]}function um(e,t){return e&&e.length?Us(e,q(t,3),!1,!0):[]}function lm(e,t){return e&&e.length?Us(e,q(t,3)):[]}var cm=ie(function(e){return An(Xe(e,1,Te,!0))}),fm=ie(function(e){var t=Ot(e);return Te(t)&&(t=n),An(Xe(e,1,Te,!0),q(t,2))}),hm=ie(function(e){var t=Ot(e);return t=typeof t=="function"?t:n,An(Xe(e,1,Te,!0),n,t)});function dm(e){return e&&e.length?An(e):[]}function pm(e,t){return e&&e.length?An(e,q(t,2)):[]}function gm(e,t){return t=typeof t=="function"?t:n,e&&e.length?An(e,n,t):[]}function Ja(e){if(!(e&&e.length))return[];var t=0;return e=wn(e,function(i){if(Te(i))return t=Be(i.length,t),!0}),ua(t,function(i){return Se(e,ia(i))})}function vc(e,t){if(!(e&&e.length))return[];var i=Ja(e);return t==null?i:Se(i,function(o){return ht(t,n,o)})}var _m=ie(function(e,t){return Te(e)?Wr(e,t):[]}),mm=ie(function(e){return Pa(wn(e,Te))}),wm=ie(function(e){var t=Ot(e);return Te(t)&&(t=n),Pa(wn(e,Te),q(t,2))}),vm=ie(function(e){var t=Ot(e);return t=typeof t=="function"?t:n,Pa(wn(e,Te),n,t)}),ym=ie(Ja);function bm(e,t){return Dl(e||[],t||[],Nr)}function xm(e,t){return Dl(e||[],t||[],qr)}var Am=ie(function(e){var t=e.length,i=t>1?e[t-1]:n;return i=typeof i=="function"?(e.pop(),i):n,vc(e,i)});function yc(e){var t=f(e);return t.__chain__=!0,t}function Cm(e,t){return t(e),e}function Vs(e,t){return t(e)}var Sm=sn(function(e){var t=e.length,i=t?e[0]:0,o=this.__wrapped__,l=function(h){return _a(h,e)};return t>1||this.__actions__.length||!(o instanceof ue)||!an(i)?this.thru(l):(o=o.slice(i,+i+(t?1:0)),o.__actions__.push({func:Vs,args:[l],thisArg:n}),new Et(o,this.__chain__).thru(function(h){return t&&!h.length&&h.push(n),h}))});function Rm(){return yc(this)}function Em(){return new Et(this.value(),this.__chain__)}function Im(){this.__values__===n&&(this.__values__=Lc(this.value()));var e=this.__index__>=this.__values__.length,t=e?n:this.__values__[this.__index__++];return{done:e,value:t}}function Pm(){return this}function Om(e){for(var t,i=this;i instanceof Ms;){var o=dc(i);o.__index__=0,o.__values__=n,t?l.__wrapped__=o:t=o;var l=o;i=i.__wrapped__}return l.__wrapped__=e,t}function Tm(){var e=this.__wrapped__;if(e instanceof ue){var t=e;return this.__actions__.length&&(t=new ue(this)),t=t.reverse(),t.__actions__.push({func:Vs,args:[Ga],thisArg:n}),new Et(t,this.__chain__)}return this.thru(Ga)}function $m(){return Bl(this.__wrapped__,this.__actions__)}var Fm=Hs(function(e,t,i){me.call(e,i)?++e[i]:nn(e,i,1)});function Lm(e,t,i){var o=Z(e)?Yu:Cg;return i&&rt(e,t,i)&&(t=n),o(e,q(t,3))}function Mm(e,t){var i=Z(e)?wn:vl;return i(e,q(t,3))}var Bm=zl(pc),Dm=zl(gc);function km(e,t){return Xe(Qs(e,t),1)}function Nm(e,t){return Xe(Qs(e,t),Qe)}function Wm(e,t,i){return i=i===n?1:te(i),Xe(Qs(e,t),i)}function bc(e,t){var i=Z(e)?St:xn;return i(e,q(t,3))}function xc(e,t){var i=Z(e)?ip:wl;return i(e,q(t,3))}var Um=Hs(function(e,t,i){me.call(e,i)?e[i].push(t):nn(e,i,[t])});function Hm(e,t,i,o){e=ut(e)?e:hr(e),i=i&&!o?te(i):0;var l=e.length;return i<0&&(i=Be(l+i,0)),ni(e)?i<=l&&e.indexOf(t,i)>-1:!!l&&er(e,t,i)>-1}var qm=ie(function(e,t,i){var o=-1,l=typeof t=="function",h=ut(e)?y(e.length):[];return xn(e,function(d){h[++o]=l?ht(t,d,i):Ur(d,t,i)}),h}),Gm=Hs(function(e,t,i){nn(e,i,t)});function Qs(e,t){var i=Z(e)?Se:Sl;return i(e,q(t,3))}function Jm(e,t,i,o){return e==null?[]:(Z(t)||(t=t==null?[]:[t]),i=o?n:i,Z(i)||(i=i==null?[]:[i]),Pl(e,t,i))}var Xm=Hs(function(e,t,i){e[i?0:1].push(t)},function(){return[[],[]]});function zm(e,t,i){var o=Z(e)?ra:ju,l=arguments.length<3;return o(e,q(t,4),i,l,xn)}function Km(e,t,i){var o=Z(e)?ap:ju,l=arguments.length<3;return o(e,q(t,4),i,l,wl)}function Ym(e,t){var i=Z(e)?wn:vl;return i(e,ei(q(t,3)))}function Vm(e){var t=Z(e)?pl:Hg;return t(e)}function Qm(e,t,i){(i?rt(e,t,i):t===n)?t=1:t=te(t);var o=Z(e)?vg:qg;return o(e,t)}function Zm(e){var t=Z(e)?yg:Jg;return t(e)}function jm(e){if(e==null)return 0;if(ut(e))return ni(e)?nr(e):e.length;var t=je(e);return t==it||t==at?e.size:xa(e).length}function ew(e,t,i){var o=Z(e)?sa:Xg;return i&&rt(e,t,i)&&(t=n),o(e,q(t,3))}var tw=ie(function(e,t){if(e==null)return[];var i=t.length;return i>1&&rt(e,t[0],t[1])?t=[]:i>2&&rt(t[0],t[1],t[2])&&(t=[t[0]]),Pl(e,Xe(t,1),[])}),Zs=Mp||function(){return Je.Date.now()};function nw(e,t){if(typeof t!="function")throw new Rt(g);return e=te(e),function(){if(--e<1)return t.apply(this,arguments)}}function Ac(e,t,i){return t=i?n:t,t=e&&t==null?e.length:t,rn(e,ne,n,n,n,n,t)}function Cc(e,t){var i;if(typeof t!="function")throw new Rt(g);return e=te(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=n),i}}var Xa=ie(function(e,t,i){var o=j;if(i.length){var l=yn(i,cr(Xa));o|=de}return rn(e,o,t,i,l)}),Sc=ie(function(e,t,i){var o=j|B;if(i.length){var l=yn(i,cr(Sc));o|=de}return rn(t,o,e,i,l)});function Rc(e,t,i){t=i?n:t;var o=rn(e,Y,n,n,n,n,n,t);return o.placeholder=Rc.placeholder,o}function Ec(e,t,i){t=i?n:t;var o=rn(e,H,n,n,n,n,n,t);return o.placeholder=Ec.placeholder,o}function Ic(e,t,i){var o,l,h,d,_,v,S=0,R=!1,P=!1,$=!0;if(typeof e!="function")throw new Rt(g);t=Tt(t)||0,Re(i)&&(R=!!i.leading,P="maxWait"in i,h=P?Be(Tt(i.maxWait)||0,t):h,$="trailing"in i?!!i.trailing:$);function k($e){var kt=o,ln=l;return o=l=n,S=$e,d=e.apply(ln,kt),d}function G($e){return S=$e,_=Xr(oe,t),R?k($e):d}function se($e){var kt=$e-v,ln=$e-S,zc=t-kt;return P?Ze(zc,h-ln):zc}function J($e){var kt=$e-v,ln=$e-S;return v===n||kt>=t||kt<0||P&&ln>=h}function oe(){var $e=Zs();if(J($e))return le($e);_=Xr(oe,se($e))}function le($e){return _=n,$&&o?k($e):(o=l=n,d)}function _t(){_!==n&&kl(_),S=0,o=v=l=_=n}function st(){return _===n?d:le(Zs())}function mt(){var $e=Zs(),kt=J($e);if(o=arguments,l=this,v=$e,kt){if(_===n)return G(v);if(P)return kl(_),_=Xr(oe,t),k(v)}return _===n&&(_=Xr(oe,t)),d}return mt.cancel=_t,mt.flush=st,mt}var rw=ie(function(e,t){return ml(e,1,t)}),sw=ie(function(e,t,i){return ml(e,Tt(t)||0,i)});function iw(e){return rn(e,Q)}function js(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new Rt(g);var i=function(){var o=arguments,l=t?t.apply(this,o):o[0],h=i.cache;if(h.has(l))return h.get(l);var d=e.apply(this,o);return i.cache=h.set(l,d)||h,d};return i.cache=new(js.Cache||tn),i}js.Cache=tn;function ei(e){if(typeof e!="function")throw new Rt(g);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function aw(e){return Cc(2,e)}var ow=zg(function(e,t){t=t.length==1&&Z(t[0])?Se(t[0],dt(q())):Se(Xe(t,1),dt(q()));var i=t.length;return ie(function(o){for(var l=-1,h=Ze(o.length,i);++l<h;)o[l]=t[l].call(this,o[l]);return ht(e,this,o)})}),za=ie(function(e,t){var i=yn(t,cr(za));return rn(e,de,n,t,i)}),Pc=ie(function(e,t){var i=yn(t,cr(Pc));return rn(e,pe,n,t,i)}),uw=sn(function(e,t){return rn(e,ee,n,n,n,t)});function lw(e,t){if(typeof e!="function")throw new Rt(g);return t=t===n?t:te(t),ie(e,t)}function cw(e,t){if(typeof e!="function")throw new Rt(g);return t=t==null?0:Be(te(t),0),ie(function(i){var o=i[t],l=Sn(i,0,t);return o&&vn(l,o),ht(e,this,l)})}function fw(e,t,i){var o=!0,l=!0;if(typeof e!="function")throw new Rt(g);return Re(i)&&(o="leading"in i?!!i.leading:o,l="trailing"in i?!!i.trailing:l),Ic(e,t,{leading:o,maxWait:t,trailing:l})}function hw(e){return Ac(e,1)}function dw(e,t){return za(Ta(t),e)}function pw(){if(!arguments.length)return[];var e=arguments[0];return Z(e)?e:[e]}function gw(e){return It(e,T)}function _w(e,t){return t=typeof t=="function"?t:n,It(e,T,t)}function mw(e){return It(e,x|T)}function ww(e,t){return t=typeof t=="function"?t:n,It(e,x|T,t)}function vw(e,t){return t==null||_l(e,t,Ue(t))}function Dt(e,t){return e===t||e!==e&&t!==t}var yw=Xs(va),bw=Xs(function(e,t){return e>=t}),Jn=xl(function(){return arguments}())?xl:function(e){return Oe(e)&&me.call(e,"callee")&&!ul.call(e,"callee")},Z=y.isArray,xw=qu?dt(qu):Og;function ut(e){return e!=null&&ti(e.length)&&!on(e)}function Te(e){return Oe(e)&&ut(e)}function Aw(e){return e===!0||e===!1||Oe(e)&&nt(e)==qt}var Rn=Dp||so,Cw=Gu?dt(Gu):Tg;function Sw(e){return Oe(e)&&e.nodeType===1&&!zr(e)}function Rw(e){if(e==null)return!0;if(ut(e)&&(Z(e)||typeof e=="string"||typeof e.splice=="function"||Rn(e)||fr(e)||Jn(e)))return!e.length;var t=je(e);if(t==it||t==at)return!e.size;if(Jr(e))return!xa(e).length;for(var i in e)if(me.call(e,i))return!1;return!0}function Ew(e,t){return Hr(e,t)}function Iw(e,t,i){i=typeof i=="function"?i:n;var o=i?i(e,t):n;return o===n?Hr(e,t,n,i):!!o}function Ka(e){if(!Oe(e))return!1;var t=nt(e);return t==dn||t==Zn||typeof e.message=="string"&&typeof e.name=="string"&&!zr(e)}function Pw(e){return typeof e=="number"&&cl(e)}function on(e){if(!Re(e))return!1;var t=nt(e);return t==Mn||t==Pr||t==Qn||t==ps}function Oc(e){return typeof e=="number"&&e==te(e)}function ti(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=fe}function Re(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Oe(e){return e!=null&&typeof e=="object"}var Tc=Ju?dt(Ju):Fg;function Ow(e,t){return e===t||ba(e,t,ka(t))}function Tw(e,t,i){return i=typeof i=="function"?i:n,ba(e,t,ka(t),i)}function $w(e){return $c(e)&&e!=+e}function Fw(e){if(__(e))throw new V(c);return Al(e)}function Lw(e){return e===null}function Mw(e){return e==null}function $c(e){return typeof e=="number"||Oe(e)&&nt(e)==pn}function zr(e){if(!Oe(e)||nt(e)!=At)return!1;var t=Is(e);if(t===null)return!0;var i=me.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&Cs.call(i)==Tp}var Ya=Xu?dt(Xu):Lg;function Bw(e){return Oc(e)&&e>=-fe&&e<=fe}var Fc=zu?dt(zu):Mg;function ni(e){return typeof e=="string"||!Z(e)&&Oe(e)&&nt(e)==_n}function gt(e){return typeof e=="symbol"||Oe(e)&&nt(e)==gs}var fr=Ku?dt(Ku):Bg;function Dw(e){return e===n}function kw(e){return Oe(e)&&je(e)==Tr}function Nw(e){return Oe(e)&&nt(e)==td}var Ww=Xs(Aa),Uw=Xs(function(e,t){return e<=t});function Lc(e){if(!e)return[];if(ut(e))return ni(e)?Mt(e):ot(e);if(Lr&&e[Lr])return vp(e[Lr]());var t=je(e),i=t==it?ca:t==at?bs:hr;return i(e)}function un(e){if(!e)return e===0?e:0;if(e=Tt(e),e===Qe||e===-Qe){var t=e<0?-1:1;return t*N}return e===e?e:0}function te(e){var t=un(e),i=t%1;return t===t?i?t-i:t:0}function Mc(e){return e?Un(te(e),0,Ae):0}function Tt(e){if(typeof e=="number")return e;if(gt(e))return we;if(Re(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Re(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=el(e);var i=xd.test(e);return i||Cd.test(e)?np(e.slice(2),i?2:8):bd.test(e)?we:+e}function Bc(e){return Jt(e,lt(e))}function Hw(e){return e?Un(te(e),-fe,fe):e===0?e:0}function _e(e){return e==null?"":pt(e)}var qw=ur(function(e,t){if(Jr(t)||ut(t)){Jt(t,Ue(t),e);return}for(var i in t)me.call(t,i)&&Nr(e,i,t[i])}),Dc=ur(function(e,t){Jt(t,lt(t),e)}),ri=ur(function(e,t,i,o){Jt(t,lt(t),e,o)}),Gw=ur(function(e,t,i,o){Jt(t,Ue(t),e,o)}),Jw=sn(_a);function Xw(e,t){var i=or(e);return t==null?i:gl(i,t)}var zw=ie(function(e,t){e=ye(e);var i=-1,o=t.length,l=o>2?t[2]:n;for(l&&rt(t[0],t[1],l)&&(o=1);++i<o;)for(var h=t[i],d=lt(h),_=-1,v=d.length;++_<v;){var S=d[_],R=e[S];(R===n||Dt(R,sr[S])&&!me.call(e,S))&&(e[S]=h[S])}return e}),Kw=ie(function(e){return e.push(n,ec),ht(kc,n,e)});function Yw(e,t){return Vu(e,q(t,3),Gt)}function Vw(e,t){return Vu(e,q(t,3),wa)}function Qw(e,t){return e==null?e:ma(e,q(t,3),lt)}function Zw(e,t){return e==null?e:yl(e,q(t,3),lt)}function jw(e,t){return e&&Gt(e,q(t,3))}function ev(e,t){return e&&wa(e,q(t,3))}function tv(e){return e==null?[]:ks(e,Ue(e))}function nv(e){return e==null?[]:ks(e,lt(e))}function Va(e,t,i){var o=e==null?n:Hn(e,t);return o===n?i:o}function rv(e,t){return e!=null&&rc(e,t,Rg)}function Qa(e,t){return e!=null&&rc(e,t,Eg)}var sv=Yl(function(e,t,i){t!=null&&typeof t.toString!="function"&&(t=Ss.call(t)),e[t]=i},ja(ct)),iv=Yl(function(e,t,i){t!=null&&typeof t.toString!="function"&&(t=Ss.call(t)),me.call(e,t)?e[t].push(i):e[t]=[i]},q),av=ie(Ur);function Ue(e){return ut(e)?dl(e):xa(e)}function lt(e){return ut(e)?dl(e,!0):Dg(e)}function ov(e,t){var i={};return t=q(t,3),Gt(e,function(o,l,h){nn(i,t(o,l,h),o)}),i}function uv(e,t){var i={};return t=q(t,3),Gt(e,function(o,l,h){nn(i,l,t(o,l,h))}),i}var lv=ur(function(e,t,i){Ns(e,t,i)}),kc=ur(function(e,t,i,o){Ns(e,t,i,o)}),cv=sn(function(e,t){var i={};if(e==null)return i;var o=!1;t=Se(t,function(h){return h=Cn(h,e),o||(o=h.length>1),h}),Jt(e,Ba(e),i),o&&(i=It(i,x|O|T,s_));for(var l=t.length;l--;)Ia(i,t[l]);return i});function fv(e,t){return Nc(e,ei(q(t)))}var hv=sn(function(e,t){return e==null?{}:Ng(e,t)});function Nc(e,t){if(e==null)return{};var i=Se(Ba(e),function(o){return[o]});return t=q(t),Ol(e,i,function(o,l){return t(o,l[0])})}function dv(e,t,i){t=Cn(t,e);var o=-1,l=t.length;for(l||(l=1,e=n);++o<l;){var h=e==null?n:e[Xt(t[o])];h===n&&(o=l,h=i),e=on(h)?h.call(e):h}return e}function pv(e,t,i){return e==null?e:qr(e,t,i)}function gv(e,t,i,o){return o=typeof o=="function"?o:n,e==null?e:qr(e,t,i,o)}var Wc=Zl(Ue),Uc=Zl(lt);function _v(e,t,i){var o=Z(e),l=o||Rn(e)||fr(e);if(t=q(t,4),i==null){var h=e&&e.constructor;l?i=o?new h:[]:Re(e)?i=on(h)?or(Is(e)):{}:i={}}return(l?St:Gt)(e,function(d,_,v){return t(i,d,_,v)}),i}function mv(e,t){return e==null?!0:Ia(e,t)}function wv(e,t,i){return e==null?e:Ml(e,t,Ta(i))}function vv(e,t,i,o){return o=typeof o=="function"?o:n,e==null?e:Ml(e,t,Ta(i),o)}function hr(e){return e==null?[]:la(e,Ue(e))}function yv(e){return e==null?[]:la(e,lt(e))}function bv(e,t,i){return i===n&&(i=t,t=n),i!==n&&(i=Tt(i),i=i===i?i:0),t!==n&&(t=Tt(t),t=t===t?t:0),Un(Tt(e),t,i)}function xv(e,t,i){return t=un(t),i===n?(i=t,t=0):i=un(i),e=Tt(e),Ig(e,t,i)}function Av(e,t,i){if(i&&typeof i!="boolean"&&rt(e,t,i)&&(t=i=n),i===n&&(typeof t=="boolean"?(i=t,t=n):typeof e=="boolean"&&(i=e,e=n)),e===n&&t===n?(e=0,t=1):(e=un(e),t===n?(t=e,e=0):t=un(t)),e>t){var o=e;e=t,t=o}if(i||e%1||t%1){var l=fl();return Ze(e+l*(t-e+tp("1e-"+((l+"").length-1))),t)}return Sa(e,t)}var Cv=lr(function(e,t,i){return t=t.toLowerCase(),e+(i?Hc(t):t)});function Hc(e){return Za(_e(e).toLowerCase())}function qc(e){return e=_e(e),e&&e.replace(Rd,pp).replace(Jd,"")}function Sv(e,t,i){e=_e(e),t=pt(t);var o=e.length;i=i===n?o:Un(te(i),0,o);var l=i;return i-=t.length,i>=0&&e.slice(i,l)==t}function Rv(e){return e=_e(e),e&&ad.test(e)?e.replace(yu,gp):e}function Ev(e){return e=_e(e),e&&hd.test(e)?e.replace(zi,"\\$&"):e}var Iv=lr(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}),Pv=lr(function(e,t,i){return e+(i?" ":"")+t.toLowerCase()}),Ov=Xl("toLowerCase");function Tv(e,t,i){e=_e(e),t=te(t);var o=t?nr(e):0;if(!t||o>=t)return e;var l=(t-o)/2;return Js($s(l),i)+e+Js(Ts(l),i)}function $v(e,t,i){e=_e(e),t=te(t);var o=t?nr(e):0;return t&&o<t?e+Js(t-o,i):e}function Fv(e,t,i){e=_e(e),t=te(t);var o=t?nr(e):0;return t&&o<t?Js(t-o,i)+e:e}function Lv(e,t,i){return i||t==null?t=0:t&&(t=+t),Up(_e(e).replace(Ki,""),t||0)}function Mv(e,t,i){return(i?rt(e,t,i):t===n)?t=1:t=te(t),Ra(_e(e),t)}function Bv(){var e=arguments,t=_e(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var Dv=lr(function(e,t,i){return e+(i?"_":"")+t.toLowerCase()});function kv(e,t,i){return i&&typeof i!="number"&&rt(e,t,i)&&(t=i=n),i=i===n?Ae:i>>>0,i?(e=_e(e),e&&(typeof t=="string"||t!=null&&!Ya(t))&&(t=pt(t),!t&&tr(e))?Sn(Mt(e),0,i):e.split(t,i)):[]}var Nv=lr(function(e,t,i){return e+(i?" ":"")+Za(t)});function Wv(e,t,i){return e=_e(e),i=i==null?0:Un(te(i),0,e.length),t=pt(t),e.slice(i,i+t.length)==t}function Uv(e,t,i){var o=f.templateSettings;i&&rt(e,t,i)&&(t=n),e=_e(e),t=ri({},t,o,jl);var l=ri({},t.imports,o.imports,jl),h=Ue(l),d=la(l,h),_,v,S=0,R=t.interpolate||_s,P="__p += '",$=fa((t.escape||_s).source+"|"+R.source+"|"+(R===bu?yd:_s).source+"|"+(t.evaluate||_s).source+"|$","g"),k="//# sourceURL="+(me.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Vd+"]")+`
`;e.replace($,function(J,oe,le,_t,st,mt){return le||(le=_t),P+=e.slice(S,mt).replace(Ed,_p),oe&&(_=!0,P+=`' +
__e(`+oe+`) +
'`),st&&(v=!0,P+=`';
`+st+`;
__p += '`),le&&(P+=`' +
((__t = (`+le+`)) == null ? '' : __t) +
'`),S=mt+J.length,J}),P+=`';
`;var G=me.call(t,"variable")&&t.variable;if(!G)P=`with (obj) {
`+P+`
}
`;else if(wd.test(G))throw new V(w);P=(v?P.replace(nd,""):P).replace(rd,"$1").replace(sd,"$1;"),P="function("+(G||"obj")+`) {
`+(G?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(_?", __e = _.escape":"")+(v?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+P+`return __p
}`;var se=Jc(function(){return he(h,k+"return "+P).apply(n,d)});if(se.source=P,Ka(se))throw se;return se}function Hv(e){return _e(e).toLowerCase()}function qv(e){return _e(e).toUpperCase()}function Gv(e,t,i){if(e=_e(e),e&&(i||t===n))return el(e);if(!e||!(t=pt(t)))return e;var o=Mt(e),l=Mt(t),h=tl(o,l),d=nl(o,l)+1;return Sn(o,h,d).join("")}function Jv(e,t,i){if(e=_e(e),e&&(i||t===n))return e.slice(0,sl(e)+1);if(!e||!(t=pt(t)))return e;var o=Mt(e),l=nl(o,Mt(t))+1;return Sn(o,0,l).join("")}function Xv(e,t,i){if(e=_e(e),e&&(i||t===n))return e.replace(Ki,"");if(!e||!(t=pt(t)))return e;var o=Mt(e),l=tl(o,Mt(t));return Sn(o,l).join("")}function zv(e,t){var i=re,o=ge;if(Re(t)){var l="separator"in t?t.separator:l;i="length"in t?te(t.length):i,o="omission"in t?pt(t.omission):o}e=_e(e);var h=e.length;if(tr(e)){var d=Mt(e);h=d.length}if(i>=h)return e;var _=i-nr(o);if(_<1)return o;var v=d?Sn(d,0,_).join(""):e.slice(0,_);if(l===n)return v+o;if(d&&(_+=v.length-_),Ya(l)){if(e.slice(_).search(l)){var S,R=v;for(l.global||(l=fa(l.source,_e(xu.exec(l))+"g")),l.lastIndex=0;S=l.exec(R);)var P=S.index;v=v.slice(0,P===n?_:P)}}else if(e.indexOf(pt(l),_)!=_){var $=v.lastIndexOf(l);$>-1&&(v=v.slice(0,$))}return v+o}function Kv(e){return e=_e(e),e&&id.test(e)?e.replace(vu,Ap):e}var Yv=lr(function(e,t,i){return e+(i?" ":"")+t.toUpperCase()}),Za=Xl("toUpperCase");function Gc(e,t,i){return e=_e(e),t=i?n:t,t===n?wp(e)?Rp(e):lp(e):e.match(t)||[]}var Jc=ie(function(e,t){try{return ht(e,n,t)}catch(i){return Ka(i)?i:new V(i)}}),Vv=sn(function(e,t){return St(t,function(i){i=Xt(i),nn(e,i,Xa(e[i],e))}),e});function Qv(e){var t=e==null?0:e.length,i=q();return e=t?Se(e,function(o){if(typeof o[1]!="function")throw new Rt(g);return[i(o[0]),o[1]]}):[],ie(function(o){for(var l=-1;++l<t;){var h=e[l];if(ht(h[0],this,o))return ht(h[1],this,o)}})}function Zv(e){return Ag(It(e,x))}function ja(e){return function(){return e}}function jv(e,t){return e==null||e!==e?t:e}var e0=Kl(),t0=Kl(!0);function ct(e){return e}function eo(e){return Cl(typeof e=="function"?e:It(e,x))}function n0(e){return Rl(It(e,x))}function r0(e,t){return El(e,It(t,x))}var s0=ie(function(e,t){return function(i){return Ur(i,e,t)}}),i0=ie(function(e,t){return function(i){return Ur(e,i,t)}});function to(e,t,i){var o=Ue(t),l=ks(t,o);i==null&&!(Re(t)&&(l.length||!o.length))&&(i=t,t=e,e=this,l=ks(t,Ue(t)));var h=!(Re(i)&&"chain"in i)||!!i.chain,d=on(e);return St(l,function(_){var v=t[_];e[_]=v,d&&(e.prototype[_]=function(){var S=this.__chain__;if(h||S){var R=e(this.__wrapped__),P=R.__actions__=ot(this.__actions__);return P.push({func:v,args:arguments,thisArg:e}),R.__chain__=S,R}return v.apply(e,vn([this.value()],arguments))})}),e}function a0(){return Je._===this&&(Je._=$p),this}function no(){}function o0(e){return e=te(e),ie(function(t){return Il(t,e)})}var u0=Fa(Se),l0=Fa(Yu),c0=Fa(sa);function Xc(e){return Wa(e)?ia(Xt(e)):Wg(e)}function f0(e){return function(t){return e==null?n:Hn(e,t)}}var h0=Vl(),d0=Vl(!0);function ro(){return[]}function so(){return!1}function p0(){return{}}function g0(){return""}function _0(){return!0}function m0(e,t){if(e=te(e),e<1||e>fe)return[];var i=Ae,o=Ze(e,Ae);t=q(t),e-=Ae;for(var l=ua(o,t);++i<e;)t(i);return l}function w0(e){return Z(e)?Se(e,Xt):gt(e)?[e]:ot(hc(_e(e)))}function v0(e){var t=++Op;return _e(e)+t}var y0=Gs(function(e,t){return e+t},0),b0=La("ceil"),x0=Gs(function(e,t){return e/t},1),A0=La("floor");function C0(e){return e&&e.length?Ds(e,ct,va):n}function S0(e,t){return e&&e.length?Ds(e,q(t,2),va):n}function R0(e){return Zu(e,ct)}function E0(e,t){return Zu(e,q(t,2))}function I0(e){return e&&e.length?Ds(e,ct,Aa):n}function P0(e,t){return e&&e.length?Ds(e,q(t,2),Aa):n}var O0=Gs(function(e,t){return e*t},1),T0=La("round"),$0=Gs(function(e,t){return e-t},0);function F0(e){return e&&e.length?oa(e,ct):0}function L0(e,t){return e&&e.length?oa(e,q(t,2)):0}return f.after=nw,f.ary=Ac,f.assign=qw,f.assignIn=Dc,f.assignInWith=ri,f.assignWith=Gw,f.at=Jw,f.before=Cc,f.bind=Xa,f.bindAll=Vv,f.bindKey=Sc,f.castArray=pw,f.chain=yc,f.chunk=A_,f.compact=C_,f.concat=S_,f.cond=Qv,f.conforms=Zv,f.constant=ja,f.countBy=Fm,f.create=Xw,f.curry=Rc,f.curryRight=Ec,f.debounce=Ic,f.defaults=zw,f.defaultsDeep=Kw,f.defer=rw,f.delay=sw,f.difference=R_,f.differenceBy=E_,f.differenceWith=I_,f.drop=P_,f.dropRight=O_,f.dropRightWhile=T_,f.dropWhile=$_,f.fill=F_,f.filter=Mm,f.flatMap=km,f.flatMapDeep=Nm,f.flatMapDepth=Wm,f.flatten=_c,f.flattenDeep=L_,f.flattenDepth=M_,f.flip=iw,f.flow=e0,f.flowRight=t0,f.fromPairs=B_,f.functions=tv,f.functionsIn=nv,f.groupBy=Um,f.initial=k_,f.intersection=N_,f.intersectionBy=W_,f.intersectionWith=U_,f.invert=sv,f.invertBy=iv,f.invokeMap=qm,f.iteratee=eo,f.keyBy=Gm,f.keys=Ue,f.keysIn=lt,f.map=Qs,f.mapKeys=ov,f.mapValues=uv,f.matches=n0,f.matchesProperty=r0,f.memoize=js,f.merge=lv,f.mergeWith=kc,f.method=s0,f.methodOf=i0,f.mixin=to,f.negate=ei,f.nthArg=o0,f.omit=cv,f.omitBy=fv,f.once=aw,f.orderBy=Jm,f.over=u0,f.overArgs=ow,f.overEvery=l0,f.overSome=c0,f.partial=za,f.partialRight=Pc,f.partition=Xm,f.pick=hv,f.pickBy=Nc,f.property=Xc,f.propertyOf=f0,f.pull=J_,f.pullAll=wc,f.pullAllBy=X_,f.pullAllWith=z_,f.pullAt=K_,f.range=h0,f.rangeRight=d0,f.rearg=uw,f.reject=Ym,f.remove=Y_,f.rest=lw,f.reverse=Ga,f.sampleSize=Qm,f.set=pv,f.setWith=gv,f.shuffle=Zm,f.slice=V_,f.sortBy=tw,f.sortedUniq=rm,f.sortedUniqBy=sm,f.split=kv,f.spread=cw,f.tail=im,f.take=am,f.takeRight=om,f.takeRightWhile=um,f.takeWhile=lm,f.tap=Cm,f.throttle=fw,f.thru=Vs,f.toArray=Lc,f.toPairs=Wc,f.toPairsIn=Uc,f.toPath=w0,f.toPlainObject=Bc,f.transform=_v,f.unary=hw,f.union=cm,f.unionBy=fm,f.unionWith=hm,f.uniq=dm,f.uniqBy=pm,f.uniqWith=gm,f.unset=mv,f.unzip=Ja,f.unzipWith=vc,f.update=wv,f.updateWith=vv,f.values=hr,f.valuesIn=yv,f.without=_m,f.words=Gc,f.wrap=dw,f.xor=mm,f.xorBy=wm,f.xorWith=vm,f.zip=ym,f.zipObject=bm,f.zipObjectDeep=xm,f.zipWith=Am,f.entries=Wc,f.entriesIn=Uc,f.extend=Dc,f.extendWith=ri,to(f,f),f.add=y0,f.attempt=Jc,f.camelCase=Cv,f.capitalize=Hc,f.ceil=b0,f.clamp=bv,f.clone=gw,f.cloneDeep=mw,f.cloneDeepWith=ww,f.cloneWith=_w,f.conformsTo=vw,f.deburr=qc,f.defaultTo=jv,f.divide=x0,f.endsWith=Sv,f.eq=Dt,f.escape=Rv,f.escapeRegExp=Ev,f.every=Lm,f.find=Bm,f.findIndex=pc,f.findKey=Yw,f.findLast=Dm,f.findLastIndex=gc,f.findLastKey=Vw,f.floor=A0,f.forEach=bc,f.forEachRight=xc,f.forIn=Qw,f.forInRight=Zw,f.forOwn=jw,f.forOwnRight=ev,f.get=Va,f.gt=yw,f.gte=bw,f.has=rv,f.hasIn=Qa,f.head=mc,f.identity=ct,f.includes=Hm,f.indexOf=D_,f.inRange=xv,f.invoke=av,f.isArguments=Jn,f.isArray=Z,f.isArrayBuffer=xw,f.isArrayLike=ut,f.isArrayLikeObject=Te,f.isBoolean=Aw,f.isBuffer=Rn,f.isDate=Cw,f.isElement=Sw,f.isEmpty=Rw,f.isEqual=Ew,f.isEqualWith=Iw,f.isError=Ka,f.isFinite=Pw,f.isFunction=on,f.isInteger=Oc,f.isLength=ti,f.isMap=Tc,f.isMatch=Ow,f.isMatchWith=Tw,f.isNaN=$w,f.isNative=Fw,f.isNil=Mw,f.isNull=Lw,f.isNumber=$c,f.isObject=Re,f.isObjectLike=Oe,f.isPlainObject=zr,f.isRegExp=Ya,f.isSafeInteger=Bw,f.isSet=Fc,f.isString=ni,f.isSymbol=gt,f.isTypedArray=fr,f.isUndefined=Dw,f.isWeakMap=kw,f.isWeakSet=Nw,f.join=H_,f.kebabCase=Iv,f.last=Ot,f.lastIndexOf=q_,f.lowerCase=Pv,f.lowerFirst=Ov,f.lt=Ww,f.lte=Uw,f.max=C0,f.maxBy=S0,f.mean=R0,f.meanBy=E0,f.min=I0,f.minBy=P0,f.stubArray=ro,f.stubFalse=so,f.stubObject=p0,f.stubString=g0,f.stubTrue=_0,f.multiply=O0,f.nth=G_,f.noConflict=a0,f.noop=no,f.now=Zs,f.pad=Tv,f.padEnd=$v,f.padStart=Fv,f.parseInt=Lv,f.random=Av,f.reduce=zm,f.reduceRight=Km,f.repeat=Mv,f.replace=Bv,f.result=dv,f.round=T0,f.runInContext=m,f.sample=Vm,f.size=jm,f.snakeCase=Dv,f.some=ew,f.sortedIndex=Q_,f.sortedIndexBy=Z_,f.sortedIndexOf=j_,f.sortedLastIndex=em,f.sortedLastIndexBy=tm,f.sortedLastIndexOf=nm,f.startCase=Nv,f.startsWith=Wv,f.subtract=$0,f.sum=F0,f.sumBy=L0,f.template=Uv,f.times=m0,f.toFinite=un,f.toInteger=te,f.toLength=Mc,f.toLower=Hv,f.toNumber=Tt,f.toSafeInteger=Hw,f.toString=_e,f.toUpper=qv,f.trim=Gv,f.trimEnd=Jv,f.trimStart=Xv,f.truncate=zv,f.unescape=Kv,f.uniqueId=v0,f.upperCase=Yv,f.upperFirst=Za,f.each=bc,f.eachRight=xc,f.first=mc,to(f,function(){var e={};return Gt(f,function(t,i){me.call(f.prototype,i)||(e[i]=t)}),e}(),{chain:!1}),f.VERSION=s,St(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){f[e].placeholder=f}),St(["drop","take"],function(e,t){ue.prototype[e]=function(i){i=i===n?1:Be(te(i),0);var o=this.__filtered__&&!t?new ue(this):this.clone();return o.__filtered__?o.__takeCount__=Ze(i,o.__takeCount__):o.__views__.push({size:Ze(i,Ae),type:e+(o.__dir__<0?"Right":"")}),o},ue.prototype[e+"Right"]=function(i){return this.reverse()[e](i).reverse()}}),St(["filter","map","takeWhile"],function(e,t){var i=t+1,o=i==xt||i==Ht;ue.prototype[e]=function(l){var h=this.clone();return h.__iteratees__.push({iteratee:q(l,3),type:i}),h.__filtered__=h.__filtered__||o,h}}),St(["head","last"],function(e,t){var i="take"+(t?"Right":"");ue.prototype[e]=function(){return this[i](1).value()[0]}}),St(["initial","tail"],function(e,t){var i="drop"+(t?"":"Right");ue.prototype[e]=function(){return this.__filtered__?new ue(this):this[i](1)}}),ue.prototype.compact=function(){return this.filter(ct)},ue.prototype.find=function(e){return this.filter(e).head()},ue.prototype.findLast=function(e){return this.reverse().find(e)},ue.prototype.invokeMap=ie(function(e,t){return typeof e=="function"?new ue(this):this.map(function(i){return Ur(i,e,t)})}),ue.prototype.reject=function(e){return this.filter(ei(q(e)))},ue.prototype.slice=function(e,t){e=te(e);var i=this;return i.__filtered__&&(e>0||t<0)?new ue(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==n&&(t=te(t),i=t<0?i.dropRight(-t):i.take(t-e)),i)},ue.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ue.prototype.toArray=function(){return this.take(Ae)},Gt(ue.prototype,function(e,t){var i=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),l=f[o?"take"+(t=="last"?"Right":""):t],h=o||/^find/.test(t);l&&(f.prototype[t]=function(){var d=this.__wrapped__,_=o?[1]:arguments,v=d instanceof ue,S=_[0],R=v||Z(d),P=function(oe){var le=l.apply(f,vn([oe],_));return o&&$?le[0]:le};R&&i&&typeof S=="function"&&S.length!=1&&(v=R=!1);var $=this.__chain__,k=!!this.__actions__.length,G=h&&!$,se=v&&!k;if(!h&&R){d=se?d:new ue(this);var J=e.apply(d,_);return J.__actions__.push({func:Vs,args:[P],thisArg:n}),new Et(J,$)}return G&&se?e.apply(this,_):(J=this.thru(P),G?o?J.value()[0]:J.value():J)})}),St(["pop","push","shift","sort","splice","unshift"],function(e){var t=xs[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);f.prototype[e]=function(){var l=arguments;if(o&&!this.__chain__){var h=this.value();return t.apply(Z(h)?h:[],l)}return this[i](function(d){return t.apply(Z(d)?d:[],l)})}}),Gt(ue.prototype,function(e,t){var i=f[t];if(i){var o=i.name+"";me.call(ar,o)||(ar[o]=[]),ar[o].push({name:t,func:i})}}),ar[qs(n,B).name]=[{name:"wrapper",func:n}],ue.prototype.clone=Kp,ue.prototype.reverse=Yp,ue.prototype.value=Vp,f.prototype.at=Sm,f.prototype.chain=Rm,f.prototype.commit=Em,f.prototype.next=Im,f.prototype.plant=Om,f.prototype.reverse=Tm,f.prototype.toJSON=f.prototype.valueOf=f.prototype.value=$m,f.prototype.first=f.prototype.head,Lr&&(f.prototype[Lr]=Pm),f},rr=Ep();Dn?((Dn.exports=rr)._=rr,ea._=rr):Je._=rr}).call(Kr)})(xo,xo.exports);function my(a,r){const n=is("button"),s=Tn(()=>r.slots.default),c={solid:"primary",outline:"secondary",text:"secondary"}[a.variant],g=U0(_y,null),w=Tn(()=>(g==null?void 0:g.size.value)||a.size),A=Tn(()=>({[n.b()]:!0,[n.m(a.variant)]:!0,[`${n.m(a.variant)}--${a.color||c}`]:!0,[n.m(w.value)]:!0,[n.e("icon-wrap")]:a.icon,[n.e("icon")]:a.icon&&!s.value,[n.m("is-loading")]:a.loading,[n.m(a.shape||"")]:!!(a.shape&&xo.exports.isString(a.shape))})),E=Tn(()=>{if(!a.icon)return"";const I=`${n.e("icon-fix")} icon`;return s.value?`${I} clear-right-5`:I});return{classes:A,iconClass:E}}var lf=Sr({name:"DButton",directives:{Loading:py},props:gy,emits:["click"],setup(a,r){const{icon:n,disabled:s,loading:u,nativeType:c}=Ri(a),{classes:g,iconClass:w}=my(a,r),A=Fe(!1),E=Fe(!1),I=W0({top:"0px",left:"0px"}),x=T=>{I.left=T.offsetX+"px",I.top=T.offsetY+"px",E.value=!0,setTimeout(()=>{E.value=!1},300)},O=T=>{u.value||(x(T),r.emit("click",T))};return()=>{var T,L;return ae("button",{class:[g.value,A.value?"mousedown":""],disabled:s.value,onClick:O,type:c.value,onMousedown:()=>A.value=!0,onMouseup:()=>A.value=!1},[n.value&&ae(ay,{name:n.value,size:"var(--devui-font-size, 12px)",color:"",class:w.value},null),$f(ae("div",{class:"loading-icon__container"},[ae(Kt("d-icon"),{name:"icon-loading",class:"button-icon-loading",color:"#BBDEFB"},null)]),[[Ff,u.value]]),ae("span",{class:"button-content"},[(L=(T=r.slots).default)==null?void 0:L.call(T)]),E.value&&ae("div",{class:"water-wave",style:I},null)])}}});const Ao="RFC3986",Co={RFC1738:a=>String(a).replace(/%20/g,"+"),RFC3986:a=>String(a)},wy="RFC1738",vy=Array.isArray,zt=(()=>{const a=[];for(let r=0;r<256;++r)a.push("%"+((r<16?"0":"")+r.toString(16)).toUpperCase());return a})(),fo=1024,yy=(a,r,n,s,u)=>{if(a.length===0)return a;let c=a;if(typeof a=="symbol"?c=Symbol.prototype.toString.call(a):typeof a!="string"&&(c=String(a)),n==="iso-8859-1")return escape(c).replace(/%u[0-9a-f]{4}/gi,function(w){return"%26%23"+parseInt(w.slice(2),16)+"%3B"});let g="";for(let w=0;w<c.length;w+=fo){const A=c.length>=fo?c.slice(w,w+fo):c,E=[];for(let I=0;I<A.length;++I){let x=A.charCodeAt(I);if(x===45||x===46||x===95||x===126||x>=48&&x<=57||x>=65&&x<=90||x>=97&&x<=122||u===wy&&(x===40||x===41)){E[E.length]=A.charAt(I);continue}if(x<128){E[E.length]=zt[x];continue}if(x<2048){E[E.length]=zt[192|x>>6]+zt[128|x&63];continue}if(x<55296||x>=57344){E[E.length]=zt[224|x>>12]+zt[128|x>>6&63]+zt[128|x&63];continue}I+=1,x=65536+((x&1023)<<10|A.charCodeAt(I)&1023),E[E.length]=zt[240|x>>18]+zt[128|x>>12&63]+zt[128|x>>6&63]+zt[128|x&63]}g+=E.join("")}return g};function by(a){return!a||typeof a!="object"?!1:!!(a.constructor&&a.constructor.isBuffer&&a.constructor.isBuffer(a))}function cf(a,r){if(vy(a)){const n=[];for(let s=0;s<a.length;s+=1)n.push(r(a[s]));return n}return r(a)}const xy=Object.prototype.hasOwnProperty,Df={brackets(a){return String(a)+"[]"},comma:"comma",indices(a,r){return String(a)+"["+r+"]"},repeat(a){return String(a)}},Yt=Array.isArray,Ay=Array.prototype.push,kf=function(a,r){Ay.apply(a,Yt(r)?r:[r])},Cy=Date.prototype.toISOString,ke={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:yy,encodeValuesOnly:!1,format:Ao,formatter:Co[Ao],indices:!1,serializeDate(a){return Cy.call(a)},skipNulls:!1,strictNullHandling:!1};function Sy(a){return typeof a=="string"||typeof a=="number"||typeof a=="boolean"||typeof a=="symbol"||typeof a=="bigint"}const ho={};function Nf(a,r,n,s,u,c,g,w,A,E,I,x,O,T,L,ce,j,B){let W=a,Y=B,H=0,de=!1;for(;(Y=Y.get(ho))!==void 0&&!de;){const re=Y.get(a);if(H+=1,typeof re!="undefined"){if(re===H)throw new RangeError("Cyclic object value");de=!0}typeof Y.get(ho)=="undefined"&&(H=0)}if(typeof E=="function"?W=E(r,W):W instanceof Date?W=O==null?void 0:O(W):n==="comma"&&Yt(W)&&(W=cf(W,function(re){return re instanceof Date?O==null?void 0:O(re):re})),W===null){if(c)return A&&!ce?A(r,ke.encoder,j,"key",T):r;W=""}if(Sy(W)||by(W)){if(A){const re=ce?r:A(r,ke.encoder,j,"key",T);return[(L==null?void 0:L(re))+"="+(L==null?void 0:L(A(W,ke.encoder,j,"value",T)))]}return[(L==null?void 0:L(r))+"="+(L==null?void 0:L(String(W)))]}const pe=[];if(typeof W=="undefined")return pe;let ne;if(n==="comma"&&Yt(W))ce&&A&&(W=cf(W,A)),ne=[{value:W.length>0?W.join(",")||null:void 0}];else if(Yt(E))ne=E;else{const re=Object.keys(W);ne=I?re.sort(I):re}const ee=w?String(r).replace(/\./g,"%2E"):String(r),Q=s&&Yt(W)&&W.length===1?ee+"[]":ee;if(u&&Yt(W)&&W.length===0)return Q+"[]";for(let re=0;re<ne.length;++re){const ge=ne[re],D=typeof ge=="object"&&typeof ge.value!="undefined"?ge.value:W[ge];if(g&&D===null)continue;const Ge=x&&w?ge.replace(/\./g,"%2E"):ge,xt=Yt(W)?typeof n=="function"?n(Q,Ge):Q:Q+(x?"."+Ge:"["+Ge+"]");B.set(a,H);const tt=new WeakMap;tt.set(ho,B),kf(pe,Nf(D,xt,n,s,u,c,g,w,n==="comma"&&ce&&Yt(W)?null:A,E,I,x,O,T,L,ce,j,tt))}return pe}function Ry(a=ke){if(typeof a.allowEmptyArrays!="undefined"&&typeof a.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof a.encodeDotInKeys!="undefined"&&typeof a.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(a.encoder!==null&&typeof a.encoder!="undefined"&&typeof a.encoder!="function")throw new TypeError("Encoder has to be a function.");const r=a.charset||ke.charset;if(typeof a.charset!="undefined"&&a.charset!=="utf-8"&&a.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Ao;if(typeof a.format!="undefined"){if(!xy.call(Co,a.format))throw new TypeError("Unknown format option provided.");n=a.format}const s=Co[n];let u=ke.filter;(typeof a.filter=="function"||Yt(a.filter))&&(u=a.filter);let c;if(a.arrayFormat&&a.arrayFormat in Df?c=a.arrayFormat:"indices"in a?c=a.indices?"indices":"repeat":c=ke.arrayFormat,"commaRoundTrip"in a&&typeof a.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const g=typeof a.allowDots=="undefined"?a.encodeDotInKeys?!0:ke.allowDots:!!a.allowDots;return{addQueryPrefix:typeof a.addQueryPrefix=="boolean"?a.addQueryPrefix:ke.addQueryPrefix,allowDots:g,allowEmptyArrays:typeof a.allowEmptyArrays=="boolean"?!!a.allowEmptyArrays:ke.allowEmptyArrays,arrayFormat:c,charset:r,charsetSentinel:typeof a.charsetSentinel=="boolean"?a.charsetSentinel:ke.charsetSentinel,commaRoundTrip:!!a.commaRoundTrip,delimiter:typeof a.delimiter=="undefined"?ke.delimiter:a.delimiter,encode:typeof a.encode=="boolean"?a.encode:ke.encode,encodeDotInKeys:typeof a.encodeDotInKeys=="boolean"?a.encodeDotInKeys:ke.encodeDotInKeys,encoder:typeof a.encoder=="function"?a.encoder:ke.encoder,encodeValuesOnly:typeof a.encodeValuesOnly=="boolean"?a.encodeValuesOnly:ke.encodeValuesOnly,filter:u,format:n,formatter:s,serializeDate:typeof a.serializeDate=="function"?a.serializeDate:ke.serializeDate,skipNulls:typeof a.skipNulls=="boolean"?a.skipNulls:ke.skipNulls,sort:typeof a.sort=="function"?a.sort:null,strictNullHandling:typeof a.strictNullHandling=="boolean"?a.strictNullHandling:ke.strictNullHandling}}function Ey(a,r={}){let n=a;const s=Ry(r);let u,c;typeof s.filter=="function"?(c=s.filter,n=c("",n)):Yt(s.filter)&&(c=s.filter,u=c);const g=[];if(typeof n!="object"||n===null)return"";const w=Df[s.arrayFormat],A=w==="comma"&&s.commaRoundTrip;u||(u=Object.keys(n)),s.sort&&u.sort(s.sort);const E=new WeakMap;for(let O=0;O<u.length;++O){const T=u[O];s.skipNulls&&n[T]===null||kf(g,Nf(n[T],T,w,A,s.allowEmptyArrays,s.strictNullHandling,s.skipNulls,s.encodeDotInKeys,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,E))}const I=g.join(s.delimiter);let x=s.addQueryPrefix===!0?"?":"";return s.charsetSentinel&&(s.charset==="iso-8859-1"?x+="utf8=%26%2310003%3B&":x+="utf8=%E2%9C%93&"),I.length>0?x+I:""}const wr="4.104.0";let ff=!1,ns,Wf,Uf,So,Hf,qf,Gf,Jf,Xf;function Iy(a,r={auto:!1}){if(ff)throw new Error(`you must \`import 'openai/shims/${a.kind}'\` before importing anything else from openai`);if(ns)throw new Error(`can't \`import 'openai/shims/${a.kind}'\` after \`import 'openai/shims/${ns}'\``);ff=r.auto,ns=a.kind,Wf=a.fetch,Uf=a.FormData,So=a.File,Hf=a.ReadableStream,qf=a.getMultipartRequestOptions,Gf=a.getDefaultAgent,Jf=a.fileFromPath,Xf=a.isFsReadStream}class Py{constructor(r){this.body=r}get[Symbol.toStringTag](){return"MultipartBody"}}function Oy({manuallyImported:a}={}){const r=a?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,s,u,c;try{n=fetch,s=Request,u=Response,c=Headers}catch(g){throw new Error(`this environment is missing the following Web Fetch API type: ${g.message}. ${r}`)}return{kind:"web",fetch:n,Request:s,Response:u,Headers:c,FormData:typeof FormData!="undefined"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${r}`)}},Blob:typeof Blob!="undefined"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${r}`)}},File:typeof File!="undefined"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${r}`)}},ReadableStream:typeof ReadableStream!="undefined"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${r}`)}},getMultipartRequestOptions:(g,w)=>F(this,null,function*(){return b(p({},w),{body:new Py(g)})}),getDefaultAgent:g=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:g=>!1}}const zf=()=>{ns||Iy(Oy(),{auto:!0})};zf();class X extends Error{}class Ve extends X{constructor(r,n,s,u){super(`${Ve.makeMessage(r,n,s)}`),this.status=r,this.headers=u,this.request_id=u==null?void 0:u["x-request-id"],this.error=n;const c=n;this.code=c==null?void 0:c.code,this.param=c==null?void 0:c.param,this.type=c==null?void 0:c.type}static makeMessage(r,n,s){const u=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return r&&u?`${r} ${u}`:r?`${r} status code (no body)`:u||"(no status code or body)"}static generate(r,n,s,u){if(!r||!u)return new Ei({message:s,cause:Eo(n)});const c=n==null?void 0:n.error;return r===400?new Kf(r,c,s,u):r===401?new Yf(r,c,s,u):r===403?new Vf(r,c,s,u):r===404?new Qf(r,c,s,u):r===409?new Zf(r,c,s,u):r===422?new jf(r,c,s,u):r===429?new eh(r,c,s,u):r>=500?new th(r,c,s,u):new Ve(r,c,s,u)}}class Ft extends Ve{constructor({message:r}={}){super(void 0,void 0,r||"Request was aborted.",void 0)}}class Ei extends Ve{constructor({message:r,cause:n}){super(void 0,void 0,r||"Connection error.",void 0),n&&(this.cause=n)}}class Bo extends Ei{constructor({message:r}={}){super({message:r!=null?r:"Request timed out."})}}class Kf extends Ve{}class Yf extends Ve{}class Vf extends Ve{}class Qf extends Ve{}class Zf extends Ve{}class jf extends Ve{}class eh extends Ve{}class th extends Ve{}class nh extends X{constructor(){super("Could not parse response content as the length limit was reached")}}class rh extends X{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var ai=function(a,r,n,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?a!==r||!u:!r.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(a,n):u?u.value=n:r.set(a,n),n},zn=function(a,r,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?a!==r||!s:!r.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(a):s?s.value:r.get(a)},yt;class Ii{constructor(){yt.set(this,void 0),this.buffer=new Uint8Array,ai(this,yt,null,"f")}decode(r){if(r==null)return[];const n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?new TextEncoder().encode(r):r;let s=new Uint8Array(this.buffer.length+n.length);s.set(this.buffer),s.set(n,this.buffer.length),this.buffer=s;const u=[];let c;for(;(c=Ty(this.buffer,zn(this,yt,"f")))!=null;){if(c.carriage&&zn(this,yt,"f")==null){ai(this,yt,c.index,"f");continue}if(zn(this,yt,"f")!=null&&(c.index!==zn(this,yt,"f")+1||c.carriage)){u.push(this.decodeText(this.buffer.slice(0,zn(this,yt,"f")-1))),this.buffer=this.buffer.slice(zn(this,yt,"f")),ai(this,yt,null,"f");continue}const g=zn(this,yt,"f")!==null?c.preceding-1:c.preceding,w=this.decodeText(this.buffer.slice(0,g));u.push(w),this.buffer=this.buffer.slice(c.index),ai(this,yt,null,"f")}return u}decodeText(r){var n;if(r==null)return"";if(typeof r=="string")return r;if(typeof Buffer!="undefined"){if(r instanceof Buffer)return r.toString();if(r instanceof Uint8Array)return Buffer.from(r).toString();throw new X(`Unexpected: received non-Uint8Array (${r.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder!="undefined"){if(r instanceof Uint8Array||r instanceof ArrayBuffer)return(n=this.textDecoder)!=null||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(r);throw new X(`Unexpected: received non-Uint8Array/ArrayBuffer (${r.constructor.name}) in a web platform. Please report this error.`)}throw new X("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}yt=new WeakMap;Ii.NEWLINE_CHARS=new Set([`
`,"\r"]);Ii.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Ty(a,r){for(let u=r!=null?r:0;u<a.length;u++){if(a[u]===10)return{preceding:u,index:u+1,carriage:!1};if(a[u]===13)return{preceding:u,index:u+1,carriage:!0}}return null}function $y(a){for(let s=0;s<a.length-1;s++){if(a[s]===10&&a[s+1]===10||a[s]===13&&a[s+1]===13)return s+2;if(a[s]===13&&a[s+1]===10&&s+3<a.length&&a[s+2]===13&&a[s+3]===10)return s+4}return-1}function sh(a){if(a[Symbol.asyncIterator])return a;const r=a.getReader();return{next(){return F(this,null,function*(){try{const s=yield r.read();return s!=null&&s.done&&r.releaseLock(),s}catch(s){throw r.releaseLock(),s}})},return(){return F(this,null,function*(){const s=r.cancel();return r.releaseLock(),yield s,{done:!0,value:void 0}})},[Symbol.asyncIterator](){return this}}}class Qt{constructor(r,n){this.iterator=r,this.controller=n}static fromSSEResponse(r,n){let s=!1;function u(){return cn(this,null,function*(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let c=!1;try{try{for(var g=Ke(Fy(r,n)),w,A,E;w=!(A=yield new He(g.next())).done;w=!1){const I=A.value;if(!c){if(I.data.startsWith("[DONE]")){c=!0;continue}if(I.event===null||I.event.startsWith("response.")||I.event.startsWith("transcript.")){let x;try{x=JSON.parse(I.data)}catch(O){throw O}if(x&&x.error)throw new Ve(void 0,x.error,void 0,fh(r.headers));yield x}else{let x;try{x=JSON.parse(I.data)}catch(O){throw O}if(I.event=="error")throw new Ve(void 0,x.error,x.message,void 0);yield{event:I.event,data:x}}}}}catch(A){E=[A]}finally{try{w&&(A=g.return)&&(yield new He(A.call(g)))}finally{if(E)throw E[0]}}c=!0}catch(I){if(I instanceof Error&&I.name==="AbortError")return;throw I}finally{c||n.abort()}})}return new Qt(u,n)}static fromReadableStream(r,n){let s=!1;function u(){return cn(this,null,function*(){const g=new Ii,w=sh(r);try{for(var A=Ke(w),E,I,x;E=!(I=yield new He(A.next())).done;E=!1){const O=I.value;for(const T of g.decode(O))yield T}}catch(I){x=[I]}finally{try{E&&(I=A.return)&&(yield new He(I.call(A)))}finally{if(x)throw x[0]}}for(const O of g.flush())yield O})}function c(){return cn(this,null,function*(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let g=!1;try{try{for(var w=Ke(u()),A,E,I;A=!(E=yield new He(w.next())).done;A=!1){const x=E.value;g||x&&(yield JSON.parse(x))}}catch(E){I=[E]}finally{try{A&&(E=w.return)&&(yield new He(E.call(w)))}finally{if(I)throw I[0]}}g=!0}catch(x){if(x instanceof Error&&x.name==="AbortError")return;throw x}finally{g||n.abort()}})}return new Qt(c,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const r=[],n=[],s=this.iterator(),u=c=>({next:()=>{if(c.length===0){const g=s.next();r.push(g),n.push(g)}return c.shift()}});return[new Qt(()=>u(r),this.controller),new Qt(()=>u(n),this.controller)]}toReadableStream(){const r=this;let n;const s=new TextEncoder;return new Hf({start(){return F(this,null,function*(){n=r[Symbol.asyncIterator]()})},pull(c){return F(this,null,function*(){try{const{value:g,done:w}=yield n.next();if(w)return c.close();const A=s.encode(JSON.stringify(g)+`
`);c.enqueue(A)}catch(g){c.error(g)}})},cancel(){return F(this,null,function*(){var c;yield(c=n.return)==null?void 0:c.call(n)})}})}}function Fy(a,r){return cn(this,null,function*(){if(!a.body)throw r.abort(),new X("Attempted to iterate over a response with no body");const n=new My,s=new Ii,u=sh(a.body);try{for(var c=Ke(Ly(u)),g,w,A;g=!(w=yield new He(c.next())).done;g=!1){const E=w.value;for(const I of s.decode(E)){const x=n.decode(I);x&&(yield x)}}}catch(w){A=[w]}finally{try{g&&(w=c.return)&&(yield new He(w.call(c)))}finally{if(A)throw A[0]}}for(const E of s.flush()){const I=n.decode(E);I&&(yield I)}})}function Ly(a){return cn(this,null,function*(){let r=new Uint8Array;try{for(var n=Ke(a),s,u,c;s=!(u=yield new He(n.next())).done;s=!1){const g=u.value;if(g==null)continue;const w=g instanceof ArrayBuffer?new Uint8Array(g):typeof g=="string"?new TextEncoder().encode(g):g;let A=new Uint8Array(r.length+w.length);A.set(r),A.set(w,r.length),r=A;let E;for(;(E=$y(r))!==-1;)yield r.slice(0,E),r=r.slice(E)}}catch(u){c=[u]}finally{try{s&&(u=n.return)&&(yield new He(u.call(n)))}finally{if(c)throw c[0]}}r.length>0&&(yield r)})}class My{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(r){if(r.endsWith("\r")&&(r=r.substring(0,r.length-1)),!r){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(r),r.startsWith(":"))return null;let[n,s,u]=By(r,":");return u.startsWith(" ")&&(u=u.substring(1)),n==="event"?this.event=u:n==="data"&&this.data.push(u),null}}function By(a,r){const n=a.indexOf(r);return n!==-1?[a.substring(0,n),r,a.substring(n+r.length)]:[a,"",""]}const ih=a=>a!=null&&typeof a=="object"&&typeof a.url=="string"&&typeof a.blob=="function",ah=a=>a!=null&&typeof a=="object"&&typeof a.name=="string"&&typeof a.lastModified=="number"&&Pi(a),Pi=a=>a!=null&&typeof a=="object"&&typeof a.size=="number"&&typeof a.type=="string"&&typeof a.text=="function"&&typeof a.slice=="function"&&typeof a.arrayBuffer=="function",Dy=a=>ah(a)||ih(a)||Xf(a);function oh(a,r,n){return F(this,null,function*(){var u,c,g;if(a=yield a,ah(a))return a;if(ih(a)){const w=yield a.blob();r||(r=(u=new URL(a.url).pathname.split(/[\\/]/).pop())!=null?u:"unknown_file");const A=Pi(w)?[yield w.arrayBuffer()]:[w];return new So(A,r,n)}const s=yield ky(a);if(r||(r=(c=Wy(a))!=null?c:"unknown_file"),!(n!=null&&n.type)){const w=(g=s[0])==null?void 0:g.type;typeof w=="string"&&(n=b(p({},n),{type:w}))}return new So(s,r,n)})}function ky(a){return F(this,null,function*(){var g;let r=[];if(typeof a=="string"||ArrayBuffer.isView(a)||a instanceof ArrayBuffer)r.push(a);else if(Pi(a))r.push(yield a.arrayBuffer());else if(Uy(a))try{for(var n=Ke(a),s,u,c;s=!(u=yield n.next()).done;s=!1){const w=u.value;r.push(w)}}catch(u){c=[u]}finally{try{s&&(u=n.return)&&(yield u.call(n))}finally{if(c)throw c[0]}}else throw new Error(`Unexpected data type: ${typeof a}; constructor: ${(g=a==null?void 0:a.constructor)==null?void 0:g.name}; props: ${Ny(a)}`);return r})}function Ny(a){return`[${Object.getOwnPropertyNames(a).map(n=>`"${n}"`).join(", ")}]`}function Wy(a){var r;return po(a.name)||po(a.filename)||((r=po(a.path))==null?void 0:r.split(/[\\/]/).pop())}const po=a=>{if(typeof a=="string")return a;if(typeof Buffer!="undefined"&&a instanceof Buffer)return String(a)},Uy=a=>a!=null&&typeof a=="object"&&typeof a[Symbol.asyncIterator]=="function",hf=a=>a&&typeof a=="object"&&a.body&&a[Symbol.toStringTag]==="MultipartBody",Vn=a=>F(void 0,null,function*(){const r=yield Hy(a.body);return qf(r,a)}),Hy=a=>F(void 0,null,function*(){const r=new Uf;return yield Promise.all(Object.entries(a||{}).map(([n,s])=>Ro(r,n,s))),r}),Ro=(a,r,n)=>F(void 0,null,function*(){if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${r}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")a.append(r,String(n));else if(Dy(n)){const s=yield oh(n);a.append(r,s)}else if(Array.isArray(n))yield Promise.all(n.map(s=>Ro(a,r+"[]",s)));else if(typeof n=="object")yield Promise.all(Object.entries(n).map(([s,u])=>Ro(a,`${r}[${s}]`,u)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}});var br={},qy=function(a,r,n,s,u){if(typeof r=="function"?a!==r||!0:!r.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r.set(a,n),n},Gy=function(a,r,n,s){if(typeof r=="function"?a!==r||!s:!r.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(a):s?s.value:r.get(a)},oi;zf();function uh(a){return F(this,null,function*(){var g;const{response:r}=a;if(a.options.stream)return $n("response",r.status,r.url,r.headers,r.body),a.options.__streamClass?a.options.__streamClass.fromSSEResponse(r,a.controller):Qt.fromSSEResponse(r,a.controller);if(r.status===204)return null;if(a.options.__binaryResponse)return r;const n=r.headers.get("content-type"),s=(g=n==null?void 0:n.split(";")[0])==null?void 0:g.trim();if((s==null?void 0:s.includes("application/json"))||(s==null?void 0:s.endsWith("+json"))){const w=yield r.json();return $n("response",r.status,r.url,r.headers,w),lh(w,r)}const c=yield r.text();return $n("response",r.status,r.url,r.headers,c),c})}function lh(a,r){return!a||typeof a!="object"||Array.isArray(a)?a:Object.defineProperty(a,"_request_id",{value:r.headers.get("x-request-id"),enumerable:!1})}class Oi extends Promise{constructor(r,n=uh){super(s=>{s(null)}),this.responsePromise=r,this.parseResponse=n}_thenUnwrap(r){return new Oi(this.responsePromise,n=>F(this,null,function*(){return lh(r(yield this.parseResponse(n),n),n.response)}))}asResponse(){return this.responsePromise.then(r=>r.response)}withResponse(){return F(this,null,function*(){const[r,n]=yield Promise.all([this.parse(),this.asResponse()]);return{data:r,response:n,request_id:n.headers.get("x-request-id")}})}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(r,n){return this.parse().then(r,n)}catch(r){return this.parse().catch(r)}finally(r){return this.parse().finally(r)}}class Jy{constructor({baseURL:r,maxRetries:n=2,timeout:s=6e5,httpAgent:u,fetch:c}){this.baseURL=r,this.maxRetries=go("maxRetries",n),this.timeout=go("timeout",s),this.httpAgent=u,this.fetch=c!=null?c:Wf}authHeaders(r){return{}}defaultHeaders(r){return p(p({Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent()},Vy()),this.authHeaders(r))}validateHeaders(r,n){}defaultIdempotencyKey(){return`stainless-node-retry-${eb()}`}get(r,n){return this.methodRequest("get",r,n)}post(r,n){return this.methodRequest("post",r,n)}patch(r,n){return this.methodRequest("patch",r,n)}put(r,n){return this.methodRequest("put",r,n)}delete(r,n){return this.methodRequest("delete",r,n)}methodRequest(r,n,s){return this.request(Promise.resolve(s).then(u=>F(this,null,function*(){const c=u&&Pi(u==null?void 0:u.body)?new DataView(yield u.body.arrayBuffer()):(u==null?void 0:u.body)instanceof DataView?u.body:(u==null?void 0:u.body)instanceof ArrayBuffer?new DataView(u.body):u&&ArrayBuffer.isView(u==null?void 0:u.body)?new DataView(u.body.buffer):u==null?void 0:u.body;return b(p({method:r,path:n},u),{body:c})})))}getAPIList(r,n,s){return this.requestAPIList(n,p({method:"get",path:r},s))}calculateContentLength(r){if(typeof r=="string"){if(typeof Buffer!="undefined")return Buffer.byteLength(r,"utf8").toString();if(typeof TextEncoder!="undefined")return new TextEncoder().encode(r).length.toString()}else if(ArrayBuffer.isView(r))return r.byteLength.toString();return null}buildRequest(r,{retryCount:n=0}={}){var ce,j,B,W,Y,H;const s=p({},r),{method:u,path:c,query:g,headers:w={}}=s,A=ArrayBuffer.isView(s.body)||s.__binaryRequest&&typeof s.body=="string"?s.body:hf(s.body)?s.body.body:s.body?JSON.stringify(s.body,null,2):null,E=this.calculateContentLength(A),I=this.buildURL(c,g);"timeout"in s&&go("timeout",s.timeout),s.timeout=(ce=s.timeout)!=null?ce:this.timeout;const x=(B=(j=s.httpAgent)!=null?j:this.httpAgent)!=null?B:Gf(I),O=s.timeout+1e3;typeof((W=x==null?void 0:x.options)==null?void 0:W.timeout)=="number"&&O>((Y=x.options.timeout)!=null?Y:0)&&(x.options.timeout=O),this.idempotencyHeader&&u!=="get"&&(r.idempotencyKey||(r.idempotencyKey=this.defaultIdempotencyKey()),w[this.idempotencyHeader]=r.idempotencyKey);const T=this.buildHeaders({options:s,headers:w,contentLength:E,retryCount:n});return{req:b(p(b(p({method:u},A&&{body:A}),{headers:T}),x&&{agent:x}),{signal:(H=s.signal)!=null?H:null}),url:I,timeout:s.timeout}}buildHeaders({options:r,headers:n,contentLength:s,retryCount:u}){const c={};s&&(c["content-length"]=s);const g=this.defaultHeaders(r);return gf(c,g),gf(c,n),hf(r.body)&&ns!=="node"&&delete c["content-type"],ci(g,"x-stainless-retry-count")===void 0&&ci(n,"x-stainless-retry-count")===void 0&&(c["x-stainless-retry-count"]=String(u)),ci(g,"x-stainless-timeout")===void 0&&ci(n,"x-stainless-timeout")===void 0&&r.timeout&&(c["x-stainless-timeout"]=String(Math.trunc(r.timeout/1e3))),this.validateHeaders(c,n),c}prepareOptions(r){return F(this,null,function*(){})}prepareRequest(u,c){return F(this,arguments,function*(r,{url:n,options:s}){})}parseHeaders(r){return r?Symbol.iterator in r?Object.fromEntries(Array.from(r).map(n=>[...n])):p({},r):{}}makeStatusError(r,n,s,u){return Ve.generate(r,n,s,u)}request(r,n=null){return new Oi(this.makeRequest(r,n))}makeRequest(r,n){return F(this,null,function*(){var x,O,T;const s=yield r,u=(x=s.maxRetries)!=null?x:this.maxRetries;n==null&&(n=u),yield this.prepareOptions(s);const{req:c,url:g,timeout:w}=this.buildRequest(s,{retryCount:u-n});if(yield this.prepareRequest(c,{url:g,options:s}),$n("request",g,s,c.headers),(O=s.signal)!=null&&O.aborted)throw new Ft;const A=new AbortController,E=yield this.fetchWithTimeout(g,c,w,A).catch(Eo);if(E instanceof Error){if((T=s.signal)!=null&&T.aborted)throw new Ft;if(n)return this.retryRequest(s,n);throw E.name==="AbortError"?new Bo:new Ei({cause:E})}const I=fh(E.headers);if(!E.ok){if(n&&this.shouldRetry(E)){const Y=`retrying, ${n} attempts remaining`;return $n(`response (error; ${Y})`,E.status,g,I),this.retryRequest(s,n,I)}const L=yield E.text().catch(Y=>Eo(Y).message),ce=Qy(L),j=ce?void 0:L;throw $n(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,E.status,g,I,j),this.makeStatusError(E.status,ce,j,I)}return{response:E,options:s,controller:A}})}requestAPIList(r,n){const s=this.makeRequest(n,null);return new Xy(this,s,r)}buildURL(r,n){const s=jy(r)?new URL(r):new URL(this.baseURL+(this.baseURL.endsWith("/")&&r.startsWith("/")?r.slice(1):r)),u=this.defaultQuery();return hh(u)||(n=p(p({},u),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}stringifyQuery(r){return Object.entries(r).filter(([n,s])=>typeof s!="undefined").map(([n,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(n)}=`;throw new X(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}fetchWithTimeout(r,n,s,u){return F(this,null,function*(){const E=n||{},{signal:c}=E,g=ze(E,["signal"]);c&&c.addEventListener("abort",()=>u.abort());const w=setTimeout(()=>u.abort(),s),A=p({signal:u.signal},g);return A.method&&(A.method=A.method.toUpperCase()),this.fetch.call(void 0,r,A).finally(()=>{clearTimeout(w)})})}shouldRetry(r){const n=r.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:r.status===408||r.status===409||r.status===429||r.status>=500}retryRequest(r,n,s){return F(this,null,function*(){var w;let u;const c=s==null?void 0:s["retry-after-ms"];if(c){const A=parseFloat(c);Number.isNaN(A)||(u=A)}const g=s==null?void 0:s["retry-after"];if(g&&!u){const A=parseFloat(g);Number.isNaN(A)?u=Date.parse(g)-Date.now():u=A*1e3}if(!(u&&0<=u&&u<60*1e3)){const A=(w=r.maxRetries)!=null?w:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(n,A)}return yield as(u),this.makeRequest(r,n-1)})}calculateDefaultRetryTimeoutMillis(r,n){const c=n-r,g=Math.min(.5*Math.pow(2,c),8),w=1-Math.random()*.25;return g*w*1e3}getUserAgent(){return`${this.constructor.name}/JS ${wr}`}}class ch{constructor(r,n,s,u){oi.set(this,void 0),qy(this,oi,r),this.options=u,this.response=n,this.body=s}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}getNextPage(){return F(this,null,function*(){const r=this.nextPageInfo();if(!r)throw new X("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n=p({},this.options);if("params"in r&&typeof n.query=="object")n.query=p(p({},n.query),r.params);else if("url"in r){const s=[...Object.entries(n.query||{}),...r.url.searchParams.entries()];for(const[u,c]of s)r.url.searchParams.set(u,c);n.query=void 0,n.path=r.url.toString()}return yield Gy(this,oi,"f").requestAPIList(this.constructor,n)})}iterPages(){return cn(this,null,function*(){let r=this;for(yield r;r.hasNextPage();)r=yield new He(r.getNextPage()),yield r})}[(oi=new WeakMap,Symbol.asyncIterator)](){return cn(this,null,function*(){try{for(var r=Ke(this.iterPages()),n,s,u;n=!(s=yield new He(r.next())).done;n=!1){const c=s.value;for(const g of c.getPaginatedItems())yield g}}catch(s){u=[s]}finally{try{n&&(s=r.return)&&(yield new He(s.call(r)))}finally{if(u)throw u[0]}}})}}class Xy extends Oi{constructor(r,n,s){super(n,u=>F(this,null,function*(){return new s(r,u.response,yield uh(u),u.options)}))}[Symbol.asyncIterator](){return cn(this,null,function*(){const r=yield new He(this);try{for(var n=Ke(r),s,u,c;s=!(u=yield new He(n.next())).done;s=!1){const g=u.value;yield g}}catch(u){c=[u]}finally{try{s&&(u=n.return)&&(yield new He(u.call(n)))}finally{if(c)throw c[0]}}})}}const fh=a=>new Proxy(Object.fromEntries(a.entries()),{get(r,n){const s=n.toString();return r[s.toLowerCase()]||r[s]}}),zy={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Ie=a=>typeof a=="object"&&a!==null&&!hh(a)&&Object.keys(a).every(r=>dh(zy,r)),Ky=()=>{var r,n;if(typeof Deno!="undefined"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":wr,"X-Stainless-OS":pf(Deno.build.os),"X-Stainless-Arch":df(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(n=(r=Deno.version)==null?void 0:r.deno)!=null?n:"unknown"};if(typeof EdgeRuntime!="undefined")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":wr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":wr,"X-Stainless-OS":pf(process.platform),"X-Stainless-Arch":df(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const a=Yy();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":wr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":wr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Yy(){if(typeof navigator=="undefined"||!navigator)return null;const a=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:r,pattern:n}of a){const s=n.exec(navigator.userAgent);if(s){const u=s[1]||0,c=s[2]||0,g=s[3]||0;return{browser:r,version:`${u}.${c}.${g}`}}}return null}const df=a=>a==="x32"?"x32":a==="x86_64"||a==="x64"?"x64":a==="arm"?"arm":a==="aarch64"||a==="arm64"?"arm64":a?`other:${a}`:"unknown",pf=a=>(a=a.toLowerCase(),a.includes("ios")?"iOS":a==="android"?"Android":a==="darwin"?"MacOS":a==="win32"?"Windows":a==="freebsd"?"FreeBSD":a==="openbsd"?"OpenBSD":a==="linux"?"Linux":a?`Other:${a}`:"Unknown");let ui;const Vy=()=>ui!=null?ui:ui=Ky(),Qy=a=>{try{return JSON.parse(a)}catch(r){return}},Zy=/^[a-z][a-z0-9+.-]*:/i,jy=a=>Zy.test(a),as=a=>new Promise(r=>setTimeout(r,a)),go=(a,r)=>{if(typeof r!="number"||!Number.isInteger(r))throw new X(`${a} must be an integer`);if(r<0)throw new X(`${a} must be a positive integer`);return r},Eo=a=>{if(a instanceof Error)return a;if(typeof a=="object"&&a!==null)try{return new Error(JSON.stringify(a))}catch(r){}return new Error(a)},li=a=>{var r,n,s,u,c;if(typeof process!="undefined")return(n=(r=br==null?void 0:br[a])==null?void 0:r.trim())!=null?n:void 0;if(typeof Deno!="undefined")return(c=(u=(s=Deno.env)==null?void 0:s.get)==null?void 0:u.call(s,a))==null?void 0:c.trim()};function hh(a){if(!a)return!0;for(const r in a)return!1;return!0}function dh(a,r){return Object.prototype.hasOwnProperty.call(a,r)}function gf(a,r){for(const n in r){if(!dh(r,n))continue;const s=n.toLowerCase();if(!s)continue;const u=r[n];u===null?delete a[s]:u!==void 0&&(a[s]=u)}}const _f=new Set(["authorization","api-key"]);function $n(a,...r){if(typeof process!="undefined"&&(br==null?void 0:br.DEBUG)==="true"){const n=r.map(s=>{if(!s)return s;if(s.headers){const c=b(p({},s),{headers:p({},s.headers)});for(const g in s.headers)_f.has(g.toLowerCase())&&(c.headers[g]="REDACTED");return c}let u=null;for(const c in s)_f.has(c.toLowerCase())&&(u!=null||(u=p({},s)),u[c]="REDACTED");return u!=null?u:s})}}const eb=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const r=Math.random()*16|0;return(a==="x"?r:r&3|8).toString(16)}),tb=()=>typeof window!="undefined"&&typeof window.document!="undefined"&&typeof navigator!="undefined",nb=a=>typeof(a==null?void 0:a.get)=="function",ci=(a,r)=>{var s;const n=r.toLowerCase();if(nb(a)){const u=((s=r[0])==null?void 0:s.toUpperCase())+r.substring(1).replace(/([^\w])(\w)/g,(c,g,w)=>g+w.toUpperCase());for(const c of[r,n,r.toUpperCase(),u]){const g=a.get(c);if(g)return g}}for(const[u,c]of Object.entries(a))if(u.toLowerCase()===n)return Array.isArray(c)?(c.length<=1,c[0]):c},rb=a=>{if(typeof Buffer!="undefined"){const r=Buffer.from(a,"base64");return Array.from(new Float32Array(r.buffer,r.byteOffset,r.length/Float32Array.BYTES_PER_ELEMENT))}else{const r=atob(a),n=r.length,s=new Uint8Array(n);for(let u=0;u<n;u++)s[u]=r.charCodeAt(u);return Array.from(new Float32Array(s.buffer))}};function _o(a){return a!=null&&typeof a=="object"&&!Array.isArray(a)}class Ti extends ch{constructor(r,n,s,u){super(r,n,s,u),this.data=s.data||[],this.object=s.object}getPaginatedItems(){var r;return(r=this.data)!=null?r:[]}nextPageParams(){return null}nextPageInfo(){return null}}class Ne extends ch{constructor(r,n,s,u){super(r,n,s,u),this.data=s.data||[],this.has_more=s.has_more||!1}getPaginatedItems(){var r;return(r=this.data)!=null?r:[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const r=this.nextPageInfo();if(!r)return null;if("params"in r)return r.params;const n=Object.fromEntries(r.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var s;const r=this.getPaginatedItems();if(!r.length)return null;const n=(s=r[r.length-1])==null?void 0:s.id;return n?{params:{after:n}}:null}}class z{constructor(r){this._client=r}}let ph=class extends z{list(r,n={},s){return Ie(n)?this.list(r,{},n):this._client.getAPIList(`/chat/completions/${r}/messages`,sb,p({query:n},s))}},$i=class extends z{constructor(){super(...arguments),this.messages=new ph(this._client)}create(r,n){var s;return this._client.post("/chat/completions",b(p({body:r},n),{stream:(s=r.stream)!=null?s:!1}))}retrieve(r,n){return this._client.get(`/chat/completions/${r}`,n)}update(r,n,s){return this._client.post(`/chat/completions/${r}`,p({body:n},s))}list(r={},n){return Ie(r)?this.list({},r):this._client.getAPIList("/chat/completions",Fi,p({query:r},n))}del(r,n){return this._client.delete(`/chat/completions/${r}`,n)}};class Fi extends Ne{}class sb extends Ne{}$i.ChatCompletionsPage=Fi;$i.Messages=ph;let Li=class extends z{constructor(){super(...arguments),this.completions=new $i(this._client)}};Li.Completions=$i;Li.ChatCompletionsPage=Fi;class gh extends z{create(r,n){return this._client.post("/audio/speech",b(p({body:r},n),{headers:p({Accept:"application/octet-stream"},n==null?void 0:n.headers),__binaryResponse:!0}))}}class _h extends z{create(r,n){var s;return this._client.post("/audio/transcriptions",Vn(b(p({body:r},n),{stream:(s=r.stream)!=null?s:!1,__metadata:{model:r.model}})))}}class mh extends z{create(r,n){return this._client.post("/audio/translations",Vn(b(p({body:r},n),{__metadata:{model:r.model}})))}}class os extends z{constructor(){super(...arguments),this.transcriptions=new _h(this._client),this.translations=new mh(this._client),this.speech=new gh(this._client)}}os.Transcriptions=_h;os.Translations=mh;os.Speech=gh;class Do extends z{create(r,n){return this._client.post("/batches",p({body:r},n))}retrieve(r,n){return this._client.get(`/batches/${r}`,n)}list(r={},n){return Ie(r)?this.list({},r):this._client.getAPIList("/batches",ko,p({query:r},n))}cancel(r,n){return this._client.post(`/batches/${r}/cancel`,n)}}class ko extends Ne{}Do.BatchesPage=ko;var Nt=function(a,r,n,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?a!==r||!u:!r.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(a,n):u?u.value=n:r.set(a,n),n},Ee=function(a,r,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?a!==r||!s:!r.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(a):s?s.value:r.get(a)},Io,_i,mi,Yr,Vr,wi,Qr,hn,Zr,xi,Ai,vr,wh;class No{constructor(){Io.add(this),this.controller=new AbortController,_i.set(this,void 0),mi.set(this,()=>{}),Yr.set(this,()=>{}),Vr.set(this,void 0),wi.set(this,()=>{}),Qr.set(this,()=>{}),hn.set(this,{}),Zr.set(this,!1),xi.set(this,!1),Ai.set(this,!1),vr.set(this,!1),Nt(this,_i,new Promise((r,n)=>{Nt(this,mi,r,"f"),Nt(this,Yr,n,"f")}),"f"),Nt(this,Vr,new Promise((r,n)=>{Nt(this,wi,r,"f"),Nt(this,Qr,n,"f")}),"f"),Ee(this,_i,"f").catch(()=>{}),Ee(this,Vr,"f").catch(()=>{})}_run(r){setTimeout(()=>{r().then(()=>{this._emitFinal(),this._emit("end")},Ee(this,Io,"m",wh).bind(this))},0)}_connected(){this.ended||(Ee(this,mi,"f").call(this),this._emit("connect"))}get ended(){return Ee(this,Zr,"f")}get errored(){return Ee(this,xi,"f")}get aborted(){return Ee(this,Ai,"f")}abort(){this.controller.abort()}on(r,n){return(Ee(this,hn,"f")[r]||(Ee(this,hn,"f")[r]=[])).push({listener:n}),this}off(r,n){const s=Ee(this,hn,"f")[r];if(!s)return this;const u=s.findIndex(c=>c.listener===n);return u>=0&&s.splice(u,1),this}once(r,n){return(Ee(this,hn,"f")[r]||(Ee(this,hn,"f")[r]=[])).push({listener:n,once:!0}),this}emitted(r){return new Promise((n,s)=>{Nt(this,vr,!0,"f"),r!=="error"&&this.once("error",s),this.once(r,n)})}done(){return F(this,null,function*(){Nt(this,vr,!0,"f"),yield Ee(this,Vr,"f")})}_emit(r,...n){if(Ee(this,Zr,"f"))return;r==="end"&&(Nt(this,Zr,!0,"f"),Ee(this,wi,"f").call(this));const s=Ee(this,hn,"f")[r];if(s&&(Ee(this,hn,"f")[r]=s.filter(u=>!u.once),s.forEach(({listener:u})=>u(...n))),r==="abort"){const u=n[0];!Ee(this,vr,"f")&&!(s!=null&&s.length)&&Promise.reject(u),Ee(this,Yr,"f").call(this,u),Ee(this,Qr,"f").call(this,u),this._emit("end");return}if(r==="error"){const u=n[0];!Ee(this,vr,"f")&&!(s!=null&&s.length)&&Promise.reject(u),Ee(this,Yr,"f").call(this,u),Ee(this,Qr,"f").call(this,u),this._emit("end")}}_emitFinal(){}}_i=new WeakMap,mi=new WeakMap,Yr=new WeakMap,Vr=new WeakMap,wi=new WeakMap,Qr=new WeakMap,hn=new WeakMap,Zr=new WeakMap,xi=new WeakMap,Ai=new WeakMap,vr=new WeakMap,Io=new WeakSet,wh=function(r){if(Nt(this,xi,!0,"f"),r instanceof Error&&r.name==="AbortError"&&(r=new Ft),r instanceof Ft)return Nt(this,Ai,!0,"f"),this._emit("abort",r);if(r instanceof X)return this._emit("error",r);if(r instanceof Error){const n=new X(r.message);return n.cause=r,this._emit("error",n)}return this._emit("error",new X(String(r)))};var U=function(a,r,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?a!==r||!s:!r.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(a):s?s.value:r.get(a)},vt=function(a,r,n,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?a!==r||!u:!r.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(a,n):u?u.value=n:r.set(a,n),n},Ye,Po,Vt,vi,Wt,Yn,yr,Kn,Ci,bt,yi,bi,rs,jr,es,mf,wf,vf,yf,bf,xf,Af;class Ut extends No{constructor(){super(...arguments),Ye.add(this),Po.set(this,[]),Vt.set(this,{}),vi.set(this,{}),Wt.set(this,void 0),Yn.set(this,void 0),yr.set(this,void 0),Kn.set(this,void 0),Ci.set(this,void 0),bt.set(this,void 0),yi.set(this,void 0),bi.set(this,void 0),rs.set(this,void 0)}[(Po=new WeakMap,Vt=new WeakMap,vi=new WeakMap,Wt=new WeakMap,Yn=new WeakMap,yr=new WeakMap,Kn=new WeakMap,Ci=new WeakMap,bt=new WeakMap,yi=new WeakMap,bi=new WeakMap,rs=new WeakMap,Ye=new WeakSet,Symbol.asyncIterator)](){const r=[],n=[];let s=!1;return this.on("event",u=>{const c=n.shift();c?c.resolve(u):r.push(u)}),this.on("end",()=>{s=!0;for(const u of n)u.resolve(void 0);n.length=0}),this.on("abort",u=>{s=!0;for(const c of n)c.reject(u);n.length=0}),this.on("error",u=>{s=!0;for(const c of n)c.reject(u);n.length=0}),{next:()=>F(this,null,function*(){return r.length?{value:r.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((c,g)=>n.push({resolve:c,reject:g})).then(c=>c?{value:c,done:!1}:{value:void 0,done:!0})}),return:()=>F(this,null,function*(){return this.abort(),{value:void 0,done:!0}})}}static fromReadableStream(r){const n=new Ut;return n._run(()=>n._fromReadableStream(r)),n}_fromReadableStream(r,n){return F(this,null,function*(){var E;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),this._connected();const u=Qt.fromReadableStream(r,this.controller);try{for(var c=Ke(u),g,w,A;g=!(w=yield c.next()).done;g=!1){const I=w.value;U(this,Ye,"m",jr).call(this,I)}}catch(w){A=[w]}finally{try{g&&(w=c.return)&&(yield w.call(c))}finally{if(A)throw A[0]}}if((E=u.controller.signal)!=null&&E.aborted)throw new Ft;return this._addRun(U(this,Ye,"m",es).call(this))})}toReadableStream(){return new Qt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(r,n,s,u,c){const g=new Ut;return g._run(()=>g._runToolAssistantStream(r,n,s,u,b(p({},c),{headers:b(p({},c==null?void 0:c.headers),{"X-Stainless-Helper-Method":"stream"})}))),g}_createToolAssistantStream(r,n,s,u,c){return F(this,null,function*(){var T;const g=c==null?void 0:c.signal;g&&(g.aborted&&this.controller.abort(),g.addEventListener("abort",()=>this.controller.abort()));const w=b(p({},u),{stream:!0}),A=yield r.submitToolOutputs(n,s,w,b(p({},c),{signal:this.controller.signal}));this._connected();try{for(var E=Ke(A),I,x,O;I=!(x=yield E.next()).done;I=!1){const L=x.value;U(this,Ye,"m",jr).call(this,L)}}catch(x){O=[x]}finally{try{I&&(x=E.return)&&(yield x.call(E))}finally{if(O)throw O[0]}}if((T=A.controller.signal)!=null&&T.aborted)throw new Ft;return this._addRun(U(this,Ye,"m",es).call(this))})}static createThreadAssistantStream(r,n,s){const u=new Ut;return u._run(()=>u._threadAssistantStream(r,n,b(p({},s),{headers:b(p({},s==null?void 0:s.headers),{"X-Stainless-Helper-Method":"stream"})}))),u}static createAssistantStream(r,n,s,u){const c=new Ut;return c._run(()=>c._runAssistantStream(r,n,s,b(p({},u),{headers:b(p({},u==null?void 0:u.headers),{"X-Stainless-Helper-Method":"stream"})}))),c}currentEvent(){return U(this,yi,"f")}currentRun(){return U(this,bi,"f")}currentMessageSnapshot(){return U(this,Wt,"f")}currentRunStepSnapshot(){return U(this,rs,"f")}finalRunSteps(){return F(this,null,function*(){return yield this.done(),Object.values(U(this,Vt,"f"))})}finalMessages(){return F(this,null,function*(){return yield this.done(),Object.values(U(this,vi,"f"))})}finalRun(){return F(this,null,function*(){if(yield this.done(),!U(this,Yn,"f"))throw Error("Final run was not received.");return U(this,Yn,"f")})}_createThreadAssistantStream(r,n,s){return F(this,null,function*(){var x;const u=s==null?void 0:s.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort()));const c=b(p({},n),{stream:!0}),g=yield r.createAndRun(c,b(p({},s),{signal:this.controller.signal}));this._connected();try{for(var w=Ke(g),A,E,I;A=!(E=yield w.next()).done;A=!1){const O=E.value;U(this,Ye,"m",jr).call(this,O)}}catch(E){I=[E]}finally{try{A&&(E=w.return)&&(yield E.call(w))}finally{if(I)throw I[0]}}if((x=g.controller.signal)!=null&&x.aborted)throw new Ft;return this._addRun(U(this,Ye,"m",es).call(this))})}_createAssistantStream(r,n,s,u){return F(this,null,function*(){var O;const c=u==null?void 0:u.signal;c&&(c.aborted&&this.controller.abort(),c.addEventListener("abort",()=>this.controller.abort()));const g=b(p({},s),{stream:!0}),w=yield r.create(n,g,b(p({},u),{signal:this.controller.signal}));this._connected();try{for(var A=Ke(w),E,I,x;E=!(I=yield A.next()).done;E=!1){const T=I.value;U(this,Ye,"m",jr).call(this,T)}}catch(I){x=[I]}finally{try{E&&(I=A.return)&&(yield I.call(A))}finally{if(x)throw x[0]}}if((O=w.controller.signal)!=null&&O.aborted)throw new Ft;return this._addRun(U(this,Ye,"m",es).call(this))})}static accumulateDelta(r,n){for(const[s,u]of Object.entries(n)){if(!r.hasOwnProperty(s)){r[s]=u;continue}let c=r[s];if(c==null){r[s]=u;continue}if(s==="index"||s==="type"){r[s]=u;continue}if(typeof c=="string"&&typeof u=="string")c+=u;else if(typeof c=="number"&&typeof u=="number")c+=u;else if(_o(c)&&_o(u))c=this.accumulateDelta(c,u);else if(Array.isArray(c)&&Array.isArray(u)){if(c.every(g=>typeof g=="string"||typeof g=="number")){c.push(...u);continue}for(const g of u){if(!_o(g))throw new Error(`Expected array delta entry to be an object but got: ${g}`);const w=g.index;if(w==null)throw new Error("Expected array delta entry to have an `index` property");if(typeof w!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${w}`);const A=c[w];A==null?c.push(g):c[w]=this.accumulateDelta(A,g)}continue}else throw Error(`Unhandled record type: ${s}, deltaValue: ${u}, accValue: ${c}`);r[s]=c}return r}_addRun(r){return r}_threadAssistantStream(r,n,s){return F(this,null,function*(){return yield this._createThreadAssistantStream(n,r,s)})}_runAssistantStream(r,n,s,u){return F(this,null,function*(){return yield this._createAssistantStream(n,r,s,u)})}_runToolAssistantStream(r,n,s,u,c){return F(this,null,function*(){return yield this._createToolAssistantStream(s,r,n,u,c)})}}jr=function(r){if(!this.ended)switch(vt(this,yi,r,"f"),U(this,Ye,"m",vf).call(this,r),r.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":U(this,Ye,"m",Af).call(this,r);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":U(this,Ye,"m",wf).call(this,r);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":U(this,Ye,"m",mf).call(this,r);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},es=function(){if(this.ended)throw new X("stream has ended, this shouldn't happen");if(!U(this,Yn,"f"))throw Error("Final run has not been received");return U(this,Yn,"f")},mf=function(r){const[n,s]=U(this,Ye,"m",bf).call(this,r,U(this,Wt,"f"));vt(this,Wt,n,"f"),U(this,vi,"f")[n.id]=n;for(const u of s){const c=n.content[u.index];(c==null?void 0:c.type)=="text"&&this._emit("textCreated",c.text)}switch(r.event){case"thread.message.created":this._emit("messageCreated",r.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",r.data.delta,n),r.data.delta.content)for(const u of r.data.delta.content){if(u.type=="text"&&u.text){let c=u.text,g=n.content[u.index];if(g&&g.type=="text")this._emit("textDelta",c,g.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(u.index!=U(this,yr,"f")){if(U(this,Kn,"f"))switch(U(this,Kn,"f").type){case"text":this._emit("textDone",U(this,Kn,"f").text,U(this,Wt,"f"));break;case"image_file":this._emit("imageFileDone",U(this,Kn,"f").image_file,U(this,Wt,"f"));break}vt(this,yr,u.index,"f")}vt(this,Kn,n.content[u.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(U(this,yr,"f")!==void 0){const u=r.data.content[U(this,yr,"f")];if(u)switch(u.type){case"image_file":this._emit("imageFileDone",u.image_file,U(this,Wt,"f"));break;case"text":this._emit("textDone",u.text,U(this,Wt,"f"));break}}U(this,Wt,"f")&&this._emit("messageDone",r.data),vt(this,Wt,void 0,"f")}},wf=function(r){const n=U(this,Ye,"m",yf).call(this,r);switch(vt(this,rs,n,"f"),r.event){case"thread.run.step.created":this._emit("runStepCreated",r.data);break;case"thread.run.step.delta":const s=r.data.delta;if(s.step_details&&s.step_details.type=="tool_calls"&&s.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const c of s.step_details.tool_calls)c.index==U(this,Ci,"f")?this._emit("toolCallDelta",c,n.step_details.tool_calls[c.index]):(U(this,bt,"f")&&this._emit("toolCallDone",U(this,bt,"f")),vt(this,Ci,c.index,"f"),vt(this,bt,n.step_details.tool_calls[c.index],"f"),U(this,bt,"f")&&this._emit("toolCallCreated",U(this,bt,"f")));this._emit("runStepDelta",r.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":vt(this,rs,void 0,"f"),r.data.step_details.type=="tool_calls"&&U(this,bt,"f")&&(this._emit("toolCallDone",U(this,bt,"f")),vt(this,bt,void 0,"f")),this._emit("runStepDone",r.data,n);break}},vf=function(r){U(this,Po,"f").push(r),this._emit("event",r)},yf=function(r){switch(r.event){case"thread.run.step.created":return U(this,Vt,"f")[r.data.id]=r.data,r.data;case"thread.run.step.delta":let n=U(this,Vt,"f")[r.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let s=r.data;if(s.delta){const u=Ut.accumulateDelta(n,s.delta);U(this,Vt,"f")[r.data.id]=u}return U(this,Vt,"f")[r.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":U(this,Vt,"f")[r.data.id]=r.data;break}if(U(this,Vt,"f")[r.data.id])return U(this,Vt,"f")[r.data.id];throw new Error("No snapshot available")},bf=function(r,n){let s=[];switch(r.event){case"thread.message.created":return[r.data,s];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let u=r.data;if(u.delta.content)for(const c of u.delta.content)if(c.index in n.content){let g=n.content[c.index];n.content[c.index]=U(this,Ye,"m",xf).call(this,c,g)}else n.content[c.index]=c,s.push(c);return[n,s];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,s];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},xf=function(r,n){return Ut.accumulateDelta(n,r)},Af=function(r){switch(vt(this,bi,r.data,"f"),r.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":vt(this,Yn,r.data,"f"),U(this,bt,"f")&&(this._emit("toolCallDone",U(this,bt,"f")),vt(this,bt,void 0,"f"));break}};class Wo extends z{create(r,n){return this._client.post("/assistants",b(p({body:r},n),{headers:p({"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers)}))}retrieve(r,n){return this._client.get(`/assistants/${r}`,b(p({},n),{headers:p({"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers)}))}update(r,n,s){return this._client.post(`/assistants/${r}`,b(p({body:n},s),{headers:p({"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers)}))}list(r={},n){return Ie(r)?this.list({},r):this._client.getAPIList("/assistants",Uo,b(p({query:r},n),{headers:p({"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers)}))}del(r,n){return this._client.delete(`/assistants/${r}`,b(p({},n),{headers:p({"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers)}))}}class Uo extends Ne{}Wo.AssistantsPage=Uo;function Cf(a){return typeof a.parse=="function"}const xr=a=>(a==null?void 0:a.role)==="assistant",vh=a=>(a==null?void 0:a.role)==="function",yh=a=>(a==null?void 0:a.role)==="tool";function Ho(a){return(a==null?void 0:a.$brand)==="auto-parseable-response-format"}function us(a){return(a==null?void 0:a.$brand)==="auto-parseable-tool"}function ib(a,r){return!r||!bh(r)?b(p({},a),{choices:a.choices.map(n=>b(p({},n),{message:p(b(p({},n.message),{parsed:null}),n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0)}))}):qo(a,r)}function qo(a,r){const n=a.choices.map(s=>{var u,c;if(s.finish_reason==="length")throw new nh;if(s.finish_reason==="content_filter")throw new rh;return b(p({},s),{message:b(p(p({},s.message),s.message.tool_calls?{tool_calls:(c=(u=s.message.tool_calls)==null?void 0:u.map(g=>ob(r,g)))!=null?c:void 0}:void 0),{parsed:s.message.content&&!s.message.refusal?ab(r,s.message.content):null})})});return b(p({},a),{choices:n})}function ab(a,r){var n,s;return((n=a.response_format)==null?void 0:n.type)!=="json_schema"?null:((s=a.response_format)==null?void 0:s.type)==="json_schema"?"$parseRaw"in a.response_format?a.response_format.$parseRaw(r):JSON.parse(r):null}function ob(a,r){var s;const n=(s=a.tools)==null?void 0:s.find(u=>{var c;return((c=u.function)==null?void 0:c.name)===r.function.name});return b(p({},r),{function:b(p({},r.function),{parsed_arguments:us(n)?n.$parseRaw(r.function.arguments):n!=null&&n.function.strict?JSON.parse(r.function.arguments):null})})}function ub(a,r){var s;if(!a)return!1;const n=(s=a.tools)==null?void 0:s.find(u=>{var c;return((c=u.function)==null?void 0:c.name)===r.function.name});return us(n)||(n==null?void 0:n.function.strict)||!1}function bh(a){var r,n;return Ho(a.response_format)?!0:(n=(r=a.tools)==null?void 0:r.some(s=>us(s)||s.type==="function"&&s.function.strict===!0))!=null?n:!1}function lb(a){for(const r of a!=null?a:[]){if(r.type!=="function")throw new X(`Currently only \`function\` tool types support auto-parsing; Received \`${r.type}\``);if(r.function.strict!==!0)throw new X(`The \`${r.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var ft=function(a,r,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?a!==r||!s:!r.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(a):s?s.value:r.get(a)},et,Oo,Si,To,$o,Fo,xh,Lo;const Sf=10;class Ah extends No{constructor(){super(...arguments),et.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(r){var s;this._chatCompletions.push(r),this._emit("chatCompletion",r);const n=(s=r.choices[0])==null?void 0:s.message;return n&&this._addMessage(n),r}_addMessage(r,n=!0){if("content"in r||(r.content=null),this.messages.push(r),n){if(this._emit("message",r),(vh(r)||yh(r))&&r.content)this._emit("functionCallResult",r.content);else if(xr(r)&&r.function_call)this._emit("functionCall",r.function_call);else if(xr(r)&&r.tool_calls)for(const s of r.tool_calls)s.type==="function"&&this._emit("functionCall",s.function)}}finalChatCompletion(){return F(this,null,function*(){yield this.done();const r=this._chatCompletions[this._chatCompletions.length-1];if(!r)throw new X("stream ended without producing a ChatCompletion");return r})}finalContent(){return F(this,null,function*(){return yield this.done(),ft(this,et,"m",Oo).call(this)})}finalMessage(){return F(this,null,function*(){return yield this.done(),ft(this,et,"m",Si).call(this)})}finalFunctionCall(){return F(this,null,function*(){return yield this.done(),ft(this,et,"m",To).call(this)})}finalFunctionCallResult(){return F(this,null,function*(){return yield this.done(),ft(this,et,"m",$o).call(this)})}totalUsage(){return F(this,null,function*(){return yield this.done(),ft(this,et,"m",Fo).call(this)})}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const r=this._chatCompletions[this._chatCompletions.length-1];r&&this._emit("finalChatCompletion",r);const n=ft(this,et,"m",Si).call(this);n&&this._emit("finalMessage",n);const s=ft(this,et,"m",Oo).call(this);s&&this._emit("finalContent",s);const u=ft(this,et,"m",To).call(this);u&&this._emit("finalFunctionCall",u);const c=ft(this,et,"m",$o).call(this);c!=null&&this._emit("finalFunctionCallResult",c),this._chatCompletions.some(g=>g.usage)&&this._emit("totalUsage",ft(this,et,"m",Fo).call(this))}_createChatCompletion(r,n,s){return F(this,null,function*(){const u=s==null?void 0:s.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort())),ft(this,et,"m",xh).call(this,n);const c=yield r.chat.completions.create(b(p({},n),{stream:!1}),b(p({},s),{signal:this.controller.signal}));return this._connected(),this._addChatCompletion(qo(c,n))})}_runChatCompletion(r,n,s){return F(this,null,function*(){for(const u of n.messages)this._addMessage(u,!1);return yield this._createChatCompletion(r,n,s)})}_runFunctions(r,n,s){return F(this,null,function*(){var T;const u="function",O=n,{function_call:c="auto",stream:g}=O,w=ze(O,["function_call","stream"]),A=typeof c!="string"&&(c==null?void 0:c.name),{maxChatCompletions:E=Sf}=s||{},I={};for(const L of n.functions)I[L.name||L.function.name]=L;const x=n.functions.map(L=>({name:L.name||L.function.name,parameters:L.parameters,description:L.description}));for(const L of n.messages)this._addMessage(L,!1);for(let L=0;L<E;++L){const j=(T=(yield this._createChatCompletion(r,b(p({},w),{function_call:c,functions:x,messages:[...this.messages]}),s)).choices[0])==null?void 0:T.message;if(!j)throw new X("missing message in ChatCompletion response");if(!j.function_call)return;const{name:B,arguments:W}=j.function_call,Y=I[B];if(Y){if(A&&A!==B){const ne=`Invalid function_call: ${JSON.stringify(B)}. ${JSON.stringify(A)} requested. Please try again`;this._addMessage({role:u,name:B,content:ne});continue}}else{const ne=`Invalid function_call: ${JSON.stringify(B)}. Available options are: ${x.map(ee=>JSON.stringify(ee.name)).join(", ")}. Please try again`;this._addMessage({role:u,name:B,content:ne});continue}let H;try{H=Cf(Y)?yield Y.parse(W):W}catch(ne){this._addMessage({role:u,name:B,content:ne instanceof Error?ne.message:String(ne)});continue}const de=yield Y.function(H,this),pe=ft(this,et,"m",Lo).call(this,de);if(this._addMessage({role:u,name:B,content:pe}),A)return}})}_runTools(r,n,s){return F(this,null,function*(){var L,ce,j;const u="tool",T=n,{tool_choice:c="auto",stream:g}=T,w=ze(T,["tool_choice","stream"]),A=typeof c!="string"&&((L=c==null?void 0:c.function)==null?void 0:L.name),{maxChatCompletions:E=Sf}=s||{},I=n.tools.map(B=>{if(us(B)){if(!B.$callback)throw new X("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:B.$callback,name:B.function.name,description:B.function.description||"",parameters:B.function.parameters,parse:B.$parseRaw,strict:!0}}}return B}),x={};for(const B of I)B.type==="function"&&(x[B.function.name||B.function.function.name]=B.function);const O="tools"in n?I.map(B=>B.type==="function"?{type:"function",function:{name:B.function.name||B.function.function.name,parameters:B.function.parameters,description:B.function.description,strict:B.function.strict}}:B):void 0;for(const B of n.messages)this._addMessage(B,!1);for(let B=0;B<E;++B){const Y=(ce=(yield this._createChatCompletion(r,b(p({},w),{tool_choice:c,tools:O,messages:[...this.messages]}),s)).choices[0])==null?void 0:ce.message;if(!Y)throw new X("missing message in ChatCompletion response");if(!((j=Y.tool_calls)!=null&&j.length))return;for(const H of Y.tool_calls){if(H.type!=="function")continue;const de=H.id,{name:pe,arguments:ne}=H.function,ee=x[pe];if(ee){if(A&&A!==pe){const D=`Invalid tool_call: ${JSON.stringify(pe)}. ${JSON.stringify(A)} requested. Please try again`;this._addMessage({role:u,tool_call_id:de,content:D});continue}}else{const D=`Invalid tool_call: ${JSON.stringify(pe)}. Available options are: ${Object.keys(x).map(Ge=>JSON.stringify(Ge)).join(", ")}. Please try again`;this._addMessage({role:u,tool_call_id:de,content:D});continue}let Q;try{Q=Cf(ee)?yield ee.parse(ne):ne}catch(D){const Ge=D instanceof Error?D.message:String(D);this._addMessage({role:u,tool_call_id:de,content:Ge});continue}const re=yield ee.function(Q,this),ge=ft(this,et,"m",Lo).call(this,re);if(this._addMessage({role:u,tool_call_id:de,content:ge}),A)return}}})}}et=new WeakSet,Oo=function(){var r;return(r=ft(this,et,"m",Si).call(this).content)!=null?r:null},Si=function(){var s,u;let r=this.messages.length;for(;r-- >0;){const c=this.messages[r];if(xr(c)){const n=c,{function_call:g}=n,w=ze(n,["function_call"]),A=b(p({},w),{content:(s=c.content)!=null?s:null,refusal:(u=c.refusal)!=null?u:null});return g&&(A.function_call=g),A}}throw new X("stream ended without producing a ChatCompletionMessage with role=assistant")},To=function(){var r,n;for(let s=this.messages.length-1;s>=0;s--){const u=this.messages[s];if(xr(u)&&(u!=null&&u.function_call))return u.function_call;if(xr(u)&&((r=u==null?void 0:u.tool_calls)!=null&&r.length))return(n=u.tool_calls.at(-1))==null?void 0:n.function}},$o=function(){for(let r=this.messages.length-1;r>=0;r--){const n=this.messages[r];if(vh(n)&&n.content!=null||yh(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(s=>{var u;return s.role==="assistant"&&((u=s.tool_calls)==null?void 0:u.some(c=>c.type==="function"&&c.id===n.tool_call_id))}))return n.content}},Fo=function(){const r={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(r.completion_tokens+=n.completion_tokens,r.prompt_tokens+=n.prompt_tokens,r.total_tokens+=n.total_tokens);return r},xh=function(r){if(r.n!=null&&r.n>1)throw new X("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Lo=function(r){return typeof r=="string"?r:r===void 0?"undefined":JSON.stringify(r)};class ss extends Ah{static runFunctions(r,n,s){const u=new ss,c=b(p({},s),{headers:b(p({},s==null?void 0:s.headers),{"X-Stainless-Helper-Method":"runFunctions"})});return u._run(()=>u._runFunctions(r,n,c)),u}static runTools(r,n,s){const u=new ss,c=b(p({},s),{headers:b(p({},s==null?void 0:s.headers),{"X-Stainless-Helper-Method":"runTools"})});return u._run(()=>u._runTools(r,n,c)),u}_addMessage(r,n=!0){super._addMessage(r,n),xr(r)&&r.content&&this._emit("content",r.content)}}const Ch=1,Sh=2,Rh=4,Eh=8,Ih=16,Ph=32,Oh=64,Th=128,$h=256,Fh=Th|$h,Lh=Ih|Ph|Fh|Oh,Mh=Ch|Sh|Lh,Bh=Rh|Eh,cb=Mh|Bh,qe={STR:Ch,NUM:Sh,ARR:Rh,OBJ:Eh,NULL:Ih,BOOL:Ph,NAN:Oh,INFINITY:Th,MINUS_INFINITY:$h,INF:Fh,SPECIAL:Lh,ATOM:Mh,COLLECTION:Bh,ALL:cb};class fb extends Error{}class hb extends Error{}function db(a,r=qe.ALL){if(typeof a!="string")throw new TypeError(`expecting str, got ${typeof a}`);if(!a.trim())throw new Error(`${a} is empty`);return pb(a.trim(),r)}const pb=(a,r)=>{const n=a.length;let s=0;const u=O=>{throw new fb(`${O} at position ${s}`)},c=O=>{throw new hb(`${O} at position ${s}`)},g=()=>(x(),s>=n&&u("Unexpected end of input"),a[s]==='"'?w():a[s]==="{"?A():a[s]==="["?E():a.substring(s,s+4)==="null"||qe.NULL&r&&n-s<4&&"null".startsWith(a.substring(s))?(s+=4,null):a.substring(s,s+4)==="true"||qe.BOOL&r&&n-s<4&&"true".startsWith(a.substring(s))?(s+=4,!0):a.substring(s,s+5)==="false"||qe.BOOL&r&&n-s<5&&"false".startsWith(a.substring(s))?(s+=5,!1):a.substring(s,s+8)==="Infinity"||qe.INFINITY&r&&n-s<8&&"Infinity".startsWith(a.substring(s))?(s+=8,1/0):a.substring(s,s+9)==="-Infinity"||qe.MINUS_INFINITY&r&&1<n-s&&n-s<9&&"-Infinity".startsWith(a.substring(s))?(s+=9,-1/0):a.substring(s,s+3)==="NaN"||qe.NAN&r&&n-s<3&&"NaN".startsWith(a.substring(s))?(s+=3,NaN):I()),w=()=>{const O=s;let T=!1;for(s++;s<n&&(a[s]!=='"'||T&&a[s-1]==="\\");)T=a[s]==="\\"?!T:!1,s++;if(a.charAt(s)=='"')try{return JSON.parse(a.substring(O,++s-Number(T)))}catch(L){c(String(L))}else if(qe.STR&r)try{return JSON.parse(a.substring(O,s-Number(T))+'"')}catch(L){return JSON.parse(a.substring(O,a.lastIndexOf("\\"))+'"')}u("Unterminated string literal")},A=()=>{s++,x();const O={};try{for(;a[s]!=="}";){if(x(),s>=n&&qe.OBJ&r)return O;const T=w();x(),s++;try{const L=g();Object.defineProperty(O,T,{value:L,writable:!0,enumerable:!0,configurable:!0})}catch(L){if(qe.OBJ&r)return O;throw L}x(),a[s]===","&&s++}}catch(T){if(qe.OBJ&r)return O;u("Expected '}' at end of object")}return s++,O},E=()=>{s++;const O=[];try{for(;a[s]!=="]";)O.push(g()),x(),a[s]===","&&s++}catch(T){if(qe.ARR&r)return O;u("Expected ']' at end of array")}return s++,O},I=()=>{if(s===0){a==="-"&&qe.NUM&r&&u("Not sure what '-' is");try{return JSON.parse(a)}catch(T){if(qe.NUM&r)try{return a[a.length-1]==="."?JSON.parse(a.substring(0,a.lastIndexOf("."))):JSON.parse(a.substring(0,a.lastIndexOf("e")))}catch(L){}c(String(T))}}const O=s;for(a[s]==="-"&&s++;a[s]&&!",]}".includes(a[s]);)s++;s==n&&!(qe.NUM&r)&&u("Unterminated number literal");try{return JSON.parse(a.substring(O,s))}catch(T){a.substring(O,s)==="-"&&qe.NUM&r&&u("Not sure what '-' is");try{return JSON.parse(a.substring(O,a.lastIndexOf("e")))}catch(L){c(String(L))}}},x=()=>{for(;s<n&&` 
\r	`.includes(a[s]);)s++};return g()},Rf=a=>db(a,qe.ALL^qe.NUM);var pr=function(a,r,n,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?a!==r||!u:!r.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(a,n):u?u.value=n:r.set(a,n),n},ve=function(a,r,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?a!==r||!s:!r.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(a):s?s.value:r.get(a)},De,fn,gr,In,mo,fi,wo,vo,yo,hi,bo,Ef;class Ar extends Ah{constructor(r){super(),De.add(this),fn.set(this,void 0),gr.set(this,void 0),In.set(this,void 0),pr(this,fn,r,"f"),pr(this,gr,[],"f")}get currentChatCompletionSnapshot(){return ve(this,In,"f")}static fromReadableStream(r){const n=new Ar(null);return n._run(()=>n._fromReadableStream(r)),n}static createChatCompletion(r,n,s){const u=new Ar(n);return u._run(()=>u._runChatCompletion(r,b(p({},n),{stream:!0}),b(p({},s),{headers:b(p({},s==null?void 0:s.headers),{"X-Stainless-Helper-Method":"stream"})}))),u}_createChatCompletion(r,n,s){return F(this,null,function*(){var I;Qc(Ar.prototype,this,"_createChatCompletion");const u=s==null?void 0:s.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort())),ve(this,De,"m",mo).call(this);const c=yield r.chat.completions.create(b(p({},n),{stream:!0}),b(p({},s),{signal:this.controller.signal}));this._connected();try{for(var g=Ke(c),w,A,E;w=!(A=yield g.next()).done;w=!1){const x=A.value;ve(this,De,"m",wo).call(this,x)}}catch(A){E=[A]}finally{try{w&&(A=g.return)&&(yield A.call(g))}finally{if(E)throw E[0]}}if((I=c.controller.signal)!=null&&I.aborted)throw new Ft;return this._addChatCompletion(ve(this,De,"m",hi).call(this))})}_fromReadableStream(r,n){return F(this,null,function*(){var I;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),ve(this,De,"m",mo).call(this),this._connected();const u=Qt.fromReadableStream(r,this.controller);let c;try{for(var g=Ke(u),w,A,E;w=!(A=yield g.next()).done;w=!1){const x=A.value;c&&c!==x.id&&this._addChatCompletion(ve(this,De,"m",hi).call(this)),ve(this,De,"m",wo).call(this,x),c=x.id}}catch(A){E=[A]}finally{try{w&&(A=g.return)&&(yield A.call(g))}finally{if(E)throw E[0]}}if((I=u.controller.signal)!=null&&I.aborted)throw new Ft;return this._addChatCompletion(ve(this,De,"m",hi).call(this))})}[(fn=new WeakMap,gr=new WeakMap,In=new WeakMap,De=new WeakSet,mo=function(){this.ended||pr(this,In,void 0,"f")},fi=function(n){let s=ve(this,gr,"f")[n.index];return s||(s={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},ve(this,gr,"f")[n.index]=s,s)},wo=function(n){var u,c,g,w,A,E,I,x,O,T,L,ce,j,B,W,Y,H,de,pe,ne;if(this.ended)return;const s=ve(this,De,"m",Ef).call(this,n);this._emit("chunk",n,s);for(const ee of n.choices){const Q=s.choices[ee.index];ee.delta.content!=null&&((u=Q.message)==null?void 0:u.role)==="assistant"&&((c=Q.message)!=null&&c.content)&&(this._emit("content",ee.delta.content,Q.message.content),this._emit("content.delta",{delta:ee.delta.content,snapshot:Q.message.content,parsed:Q.message.parsed})),ee.delta.refusal!=null&&((g=Q.message)==null?void 0:g.role)==="assistant"&&((w=Q.message)!=null&&w.refusal)&&this._emit("refusal.delta",{delta:ee.delta.refusal,snapshot:Q.message.refusal}),((A=ee.logprobs)==null?void 0:A.content)!=null&&((E=Q.message)==null?void 0:E.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(I=ee.logprobs)==null?void 0:I.content,snapshot:(O=(x=Q.logprobs)==null?void 0:x.content)!=null?O:[]}),((T=ee.logprobs)==null?void 0:T.refusal)!=null&&((L=Q.message)==null?void 0:L.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(ce=ee.logprobs)==null?void 0:ce.refusal,snapshot:(B=(j=Q.logprobs)==null?void 0:j.refusal)!=null?B:[]});const re=ve(this,De,"m",fi).call(this,Q);Q.finish_reason&&(ve(this,De,"m",yo).call(this,Q),re.current_tool_call_index!=null&&ve(this,De,"m",vo).call(this,Q,re.current_tool_call_index));for(const ge of(W=ee.delta.tool_calls)!=null?W:[])re.current_tool_call_index!==ge.index&&(ve(this,De,"m",yo).call(this,Q),re.current_tool_call_index!=null&&ve(this,De,"m",vo).call(this,Q,re.current_tool_call_index)),re.current_tool_call_index=ge.index;for(const ge of(Y=ee.delta.tool_calls)!=null?Y:[]){const D=(H=Q.message.tool_calls)==null?void 0:H[ge.index];D!=null&&D.type&&((D==null?void 0:D.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(de=D.function)==null?void 0:de.name,index:ge.index,arguments:D.function.arguments,parsed_arguments:D.function.parsed_arguments,arguments_delta:(ne=(pe=ge.function)==null?void 0:pe.arguments)!=null?ne:""}):(D==null||D.type,void 0))}}},vo=function(n,s){var g,w,A;if(ve(this,De,"m",fi).call(this,n).done_tool_calls.has(s))return;const c=(g=n.message.tool_calls)==null?void 0:g[s];if(!c)throw new Error("no tool call snapshot");if(!c.type)throw new Error("tool call snapshot missing `type`");if(c.type==="function"){const E=(A=(w=ve(this,fn,"f"))==null?void 0:w.tools)==null?void 0:A.find(I=>I.type==="function"&&I.function.name===c.function.name);this._emit("tool_calls.function.arguments.done",{name:c.function.name,index:s,arguments:c.function.arguments,parsed_arguments:us(E)?E.$parseRaw(c.function.arguments):E!=null&&E.function.strict?JSON.parse(c.function.arguments):null})}else c.type},yo=function(n){var u,c;const s=ve(this,De,"m",fi).call(this,n);if(n.message.content&&!s.content_done){s.content_done=!0;const g=ve(this,De,"m",bo).call(this);this._emit("content.done",{content:n.message.content,parsed:g?g.$parseRaw(n.message.content):null})}n.message.refusal&&!s.refusal_done&&(s.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(u=n.logprobs)!=null&&u.content&&!s.logprobs_content_done&&(s.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(c=n.logprobs)!=null&&c.refusal&&!s.logprobs_refusal_done&&(s.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},hi=function(){if(this.ended)throw new X("stream has ended, this shouldn't happen");const n=ve(this,In,"f");if(!n)throw new X("request ended without sending any chunks");return pr(this,In,void 0,"f"),pr(this,gr,[],"f"),gb(n,ve(this,fn,"f"))},bo=function(){var s;const n=(s=ve(this,fn,"f"))==null?void 0:s.response_format;return Ho(n)?n:null},Ef=function(n){var O,T,ce,j,B,W;var s,u,c,g;let w=ve(this,In,"f");const I=n,{choices:A}=I,E=ze(I,["choices"]);w?Object.assign(w,E):w=pr(this,In,b(p({},E),{choices:[]}),"f");for(const de of n.choices){const pe=de,{delta:ne,finish_reason:ee,index:Q,logprobs:re=null}=pe,ge=ze(pe,["delta","finish_reason","index","logprobs"]);let D=w.choices[Q];if(D||(D=w.choices[Q]=p({finish_reason:ee,index:Q,message:{},logprobs:re},ge)),re)if(!D.logprobs)D.logprobs=Object.assign({},re);else{const x=re,{content:N,refusal:we}=x,Ae=ze(x,["content","refusal"]);Object.assign(D.logprobs,Ae),N&&((O=(s=D.logprobs).content)!=null||(s.content=[]),D.logprobs.content.push(...N)),we&&((T=(u=D.logprobs).refusal)!=null||(u.refusal=[]),D.logprobs.refusal.push(...we))}if(ee&&(D.finish_reason=ee,ve(this,fn,"f")&&bh(ve(this,fn,"f")))){if(ee==="length")throw new nh;if(ee==="content_filter")throw new rh}if(Object.assign(D,ge),!ne)continue;const L=ne,{content:Ge,refusal:xt,function_call:tt,role:Ht,tool_calls:Qe}=L,fe=ze(L,["content","refusal","function_call","role","tool_calls"]);if(Object.assign(D.message,fe),xt&&(D.message.refusal=(D.message.refusal||"")+xt),Ht&&(D.message.role=Ht),tt&&(D.message.function_call?(tt.name&&(D.message.function_call.name=tt.name),tt.arguments&&((ce=(c=D.message.function_call).arguments)!=null||(c.arguments=""),D.message.function_call.arguments+=tt.arguments)):D.message.function_call=tt),Ge&&(D.message.content=(D.message.content||"")+Ge,!D.message.refusal&&ve(this,De,"m",bo).call(this)&&(D.message.parsed=Rf(D.message.content))),Qe){D.message.tool_calls||(D.message.tool_calls=[]);for(const Y of Qe){const H=Y,{index:N,id:we,type:Ae,function:Le}=H,Zt=ze(H,["index","id","type","function"]);const We=(j=(g=D.message.tool_calls)[N])!=null?j:g[N]={};Object.assign(We,Zt),we&&(We.id=we),Ae&&(We.type=Ae),Le&&((W=We.function)!=null||(We.function={name:(B=Le.name)!=null?B:"",arguments:""})),Le!=null&&Le.name&&(We.function.name=Le.name),Le!=null&&Le.arguments&&(We.function.arguments+=Le.arguments,ub(ve(this,fn,"f"),We)&&(We.function.parsed_arguments=Rf(We.function.arguments)))}}}return w},Symbol.asyncIterator)](){const r=[],n=[];let s=!1;return this.on("chunk",u=>{const c=n.shift();c?c.resolve(u):r.push(u)}),this.on("end",()=>{s=!0;for(const u of n)u.resolve(void 0);n.length=0}),this.on("abort",u=>{s=!0;for(const c of n)c.reject(u);n.length=0}),this.on("error",u=>{s=!0;for(const c of n)c.reject(u);n.length=0}),{next:()=>F(this,null,function*(){return r.length?{value:r.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((c,g)=>n.push({resolve:c,reject:g})).then(c=>c?{value:c,done:!1}:{value:void 0,done:!0})}),return:()=>F(this,null,function*(){return this.abort(),{value:void 0,done:!0}})}}toReadableStream(){return new Qt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function gb(a,r){const E=a,{id:n,choices:s,created:u,model:c,system_fingerprint:g}=E,w=ze(E,["id","choices","created","model","system_fingerprint"]),A=p(b(p({},w),{id:n,choices:s.map(ce=>{var j=ce,{message:I,finish_reason:x,index:O,logprobs:T}=j,L=ze(j,["message","finish_reason","index","logprobs"]);var ne,ee,Q;if(!x)throw new X(`missing finish_reason for choice ${O}`);const pe=I,{content:B=null,function_call:W,tool_calls:Y}=pe,H=ze(pe,["content","function_call","tool_calls"]),de=I.role;if(!de)throw new X(`missing role for choice ${O}`);if(W){const{arguments:re,name:ge}=W;if(re==null)throw new X(`missing function_call.arguments for choice ${O}`);if(!ge)throw new X(`missing function_call.name for choice ${O}`);return b(p({},L),{message:{content:B,function_call:{arguments:re,name:ge},role:de,refusal:(ne=I.refusal)!=null?ne:null},finish_reason:x,index:O,logprobs:T})}return Y?b(p({},L),{index:O,finish_reason:x,logprobs:T,message:b(p({},H),{role:de,content:B,refusal:(ee=I.refusal)!=null?ee:null,tool_calls:Y.map((re,ge)=>{const N=re,{function:D,type:Ge,id:xt}=N,tt=ze(N,["function","type","id"]),we=D||{},{arguments:Ht,name:Qe}=we,fe=ze(we,["arguments","name"]);if(xt==null)throw new X(`missing choices[${O}].tool_calls[${ge}].id
${di(a)}`);if(Ge==null)throw new X(`missing choices[${O}].tool_calls[${ge}].type
${di(a)}`);if(Qe==null)throw new X(`missing choices[${O}].tool_calls[${ge}].function.name
${di(a)}`);if(Ht==null)throw new X(`missing choices[${O}].tool_calls[${ge}].function.arguments
${di(a)}`);return b(p({},tt),{id:xt,type:Ge,function:b(p({},fe),{name:Qe,arguments:Ht})})})})}):b(p({},L),{message:b(p({},H),{content:B,role:de,refusal:(Q=I.refusal)!=null?Q:null}),finish_reason:x,index:O,logprobs:T})}),created:u,model:c,object:"chat.completion"}),g?{system_fingerprint:g}:{});return ib(A,r)}function di(a){return JSON.stringify(a)}class Cr extends Ar{static fromReadableStream(r){const n=new Cr(null);return n._run(()=>n._fromReadableStream(r)),n}static runFunctions(r,n,s){const u=new Cr(null),c=b(p({},s),{headers:b(p({},s==null?void 0:s.headers),{"X-Stainless-Helper-Method":"runFunctions"})});return u._run(()=>u._runFunctions(r,n,c)),u}static runTools(r,n,s){const u=new Cr(n),c=b(p({},s),{headers:b(p({},s==null?void 0:s.headers),{"X-Stainless-Helper-Method":"runTools"})});return u._run(()=>u._runTools(r,n,c)),u}}let Dh=class extends z{parse(r,n){return lb(r.tools),this._client.chat.completions.create(r,b(p({},n),{headers:b(p({},n==null?void 0:n.headers),{"X-Stainless-Helper-Method":"beta.chat.completions.parse"})}))._thenUnwrap(s=>qo(s,r))}runFunctions(r,n){return r.stream?Cr.runFunctions(this._client,r,n):ss.runFunctions(this._client,r,n)}runTools(r,n){return r.stream?Cr.runTools(this._client,r,n):ss.runTools(this._client,r,n)}stream(r,n){return Ar.createChatCompletion(this._client,r,n)}};class Mo extends z{constructor(){super(...arguments),this.completions=new Dh(this._client)}}(function(a){a.Completions=Dh})(Mo||(Mo={}));class kh extends z{create(r,n){return this._client.post("/realtime/sessions",b(p({body:r},n),{headers:p({"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers)}))}}class Nh extends z{create(r,n){return this._client.post("/realtime/transcription_sessions",b(p({body:r},n),{headers:p({"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers)}))}}class Mi extends z{constructor(){super(...arguments),this.sessions=new kh(this._client),this.transcriptionSessions=new Nh(this._client)}}Mi.Sessions=kh;Mi.TranscriptionSessions=Nh;class Go extends z{create(r,n,s){return this._client.post(`/threads/${r}/messages`,b(p({body:n},s),{headers:p({"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers)}))}retrieve(r,n,s){return this._client.get(`/threads/${r}/messages/${n}`,b(p({},s),{headers:p({"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers)}))}update(r,n,s,u){return this._client.post(`/threads/${r}/messages/${n}`,b(p({body:s},u),{headers:p({"OpenAI-Beta":"assistants=v2"},u==null?void 0:u.headers)}))}list(r,n={},s){return Ie(n)?this.list(r,{},n):this._client.getAPIList(`/threads/${r}/messages`,Jo,b(p({query:n},s),{headers:p({"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers)}))}del(r,n,s){return this._client.delete(`/threads/${r}/messages/${n}`,b(p({},s),{headers:p({"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers)}))}}class Jo extends Ne{}Go.MessagesPage=Jo;class Xo extends z{retrieve(r,n,s,u={},c){return Ie(u)?this.retrieve(r,n,s,{},u):this._client.get(`/threads/${r}/runs/${n}/steps/${s}`,b(p({query:u},c),{headers:p({"OpenAI-Beta":"assistants=v2"},c==null?void 0:c.headers)}))}list(r,n,s={},u){return Ie(s)?this.list(r,n,{},s):this._client.getAPIList(`/threads/${r}/runs/${n}/steps`,zo,b(p({query:s},u),{headers:p({"OpenAI-Beta":"assistants=v2"},u==null?void 0:u.headers)}))}}class zo extends Ne{}Xo.RunStepsPage=zo;let ls=class extends z{constructor(){super(...arguments),this.steps=new Xo(this._client)}create(r,n,s){var w;const g=n,{include:u}=g,c=ze(g,["include"]);return this._client.post(`/threads/${r}/runs`,b(p({query:{include:u},body:c},s),{headers:p({"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers),stream:(w=n.stream)!=null?w:!1}))}retrieve(r,n,s){return this._client.get(`/threads/${r}/runs/${n}`,b(p({},s),{headers:p({"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers)}))}update(r,n,s,u){return this._client.post(`/threads/${r}/runs/${n}`,b(p({body:s},u),{headers:p({"OpenAI-Beta":"assistants=v2"},u==null?void 0:u.headers)}))}list(r,n={},s){return Ie(n)?this.list(r,{},n):this._client.getAPIList(`/threads/${r}/runs`,Ko,b(p({query:n},s),{headers:p({"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers)}))}cancel(r,n,s){return this._client.post(`/threads/${r}/runs/${n}/cancel`,b(p({},s),{headers:p({"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers)}))}createAndPoll(r,n,s){return F(this,null,function*(){const u=yield this.create(r,n,s);return yield this.poll(r,u.id,s)})}createAndStream(r,n,s){return Ut.createAssistantStream(r,this._client.beta.threads.runs,n,s)}poll(r,n,s){return F(this,null,function*(){const u=b(p({},s==null?void 0:s.headers),{"X-Stainless-Poll-Helper":"true"});for(s!=null&&s.pollIntervalMs&&(u["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:c,response:g}=yield this.retrieve(r,n,b(p({},s),{headers:p(p({},s==null?void 0:s.headers),u)})).withResponse();switch(c.status){case"queued":case"in_progress":case"cancelling":let w=5e3;if(s!=null&&s.pollIntervalMs)w=s.pollIntervalMs;else{const A=g.headers.get("openai-poll-after-ms");if(A){const E=parseInt(A);isNaN(E)||(w=E)}}yield as(w);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return c}}})}stream(r,n,s){return Ut.createAssistantStream(r,this._client.beta.threads.runs,n,s)}submitToolOutputs(r,n,s,u){var c;return this._client.post(`/threads/${r}/runs/${n}/submit_tool_outputs`,b(p({body:s},u),{headers:p({"OpenAI-Beta":"assistants=v2"},u==null?void 0:u.headers),stream:(c=s.stream)!=null?c:!1}))}submitToolOutputsAndPoll(r,n,s,u){return F(this,null,function*(){const c=yield this.submitToolOutputs(r,n,s,u);return yield this.poll(r,c.id,u)})}submitToolOutputsStream(r,n,s,u){return Ut.createToolAssistantStream(r,n,this._client.beta.threads.runs,s,u)}};class Ko extends Ne{}ls.RunsPage=Ko;ls.Steps=Xo;ls.RunStepsPage=zo;class Rr extends z{constructor(){super(...arguments),this.runs=new ls(this._client),this.messages=new Go(this._client)}create(r={},n){return Ie(r)?this.create({},r):this._client.post("/threads",b(p({body:r},n),{headers:p({"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers)}))}retrieve(r,n){return this._client.get(`/threads/${r}`,b(p({},n),{headers:p({"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers)}))}update(r,n,s){return this._client.post(`/threads/${r}`,b(p({body:n},s),{headers:p({"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers)}))}del(r,n){return this._client.delete(`/threads/${r}`,b(p({},n),{headers:p({"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers)}))}createAndRun(r,n){var s;return this._client.post("/threads/runs",b(p({body:r},n),{headers:p({"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers),stream:(s=r.stream)!=null?s:!1}))}createAndRunPoll(r,n){return F(this,null,function*(){const s=yield this.createAndRun(r,n);return yield this.runs.poll(s.thread_id,s.id,n)})}createAndRunStream(r,n){return Ut.createThreadAssistantStream(r,this._client.beta.threads,n)}}Rr.Runs=ls;Rr.RunsPage=Ko;Rr.Messages=Go;Rr.MessagesPage=Jo;class Er extends z{constructor(){super(...arguments),this.realtime=new Mi(this._client),this.chat=new Mo(this._client),this.assistants=new Wo(this._client),this.threads=new Rr(this._client)}}Er.Realtime=Mi;Er.Assistants=Wo;Er.AssistantsPage=Uo;Er.Threads=Rr;class Wh extends z{create(r,n){var s;return this._client.post("/completions",b(p({body:r},n),{stream:(s=r.stream)!=null?s:!1}))}}class Uh extends z{retrieve(r,n,s){return this._client.get(`/containers/${r}/files/${n}/content`,b(p({},s),{headers:p({Accept:"application/binary"},s==null?void 0:s.headers),__binaryResponse:!0}))}}let Bi=class extends z{constructor(){super(...arguments),this.content=new Uh(this._client)}create(r,n,s){return this._client.post(`/containers/${r}/files`,Vn(p({body:n},s)))}retrieve(r,n,s){return this._client.get(`/containers/${r}/files/${n}`,s)}list(r,n={},s){return Ie(n)?this.list(r,{},n):this._client.getAPIList(`/containers/${r}/files`,Yo,p({query:n},s))}del(r,n,s){return this._client.delete(`/containers/${r}/files/${n}`,b(p({},s),{headers:p({Accept:"*/*"},s==null?void 0:s.headers)}))}};class Yo extends Ne{}Bi.FileListResponsesPage=Yo;Bi.Content=Uh;class cs extends z{constructor(){super(...arguments),this.files=new Bi(this._client)}create(r,n){return this._client.post("/containers",p({body:r},n))}retrieve(r,n){return this._client.get(`/containers/${r}`,n)}list(r={},n){return Ie(r)?this.list({},r):this._client.getAPIList("/containers",Vo,p({query:r},n))}del(r,n){return this._client.delete(`/containers/${r}`,b(p({},n),{headers:p({Accept:"*/*"},n==null?void 0:n.headers)}))}}class Vo extends Ne{}cs.ContainerListResponsesPage=Vo;cs.Files=Bi;cs.FileListResponsesPage=Yo;class Hh extends z{create(r,n){const s=!!r.encoding_format;let u=s?r.encoding_format:"base64";s&&$n("Request","User defined encoding_format:",r.encoding_format);const c=this._client.post("/embeddings",p({body:b(p({},r),{encoding_format:u})},n));return s?c:($n("response","Decoding base64 embeddings to float32 array"),c._thenUnwrap(g=>(g&&g.data&&g.data.forEach(w=>{const A=w.embedding;w.embedding=rb(A)}),g)))}}class Qo extends z{retrieve(r,n,s,u){return this._client.get(`/evals/${r}/runs/${n}/output_items/${s}`,u)}list(r,n,s={},u){return Ie(s)?this.list(r,n,{},s):this._client.getAPIList(`/evals/${r}/runs/${n}/output_items`,Zo,p({query:s},u))}}class Zo extends Ne{}Qo.OutputItemListResponsesPage=Zo;class fs extends z{constructor(){super(...arguments),this.outputItems=new Qo(this._client)}create(r,n,s){return this._client.post(`/evals/${r}/runs`,p({body:n},s))}retrieve(r,n,s){return this._client.get(`/evals/${r}/runs/${n}`,s)}list(r,n={},s){return Ie(n)?this.list(r,{},n):this._client.getAPIList(`/evals/${r}/runs`,jo,p({query:n},s))}del(r,n,s){return this._client.delete(`/evals/${r}/runs/${n}`,s)}cancel(r,n,s){return this._client.post(`/evals/${r}/runs/${n}`,s)}}class jo extends Ne{}fs.RunListResponsesPage=jo;fs.OutputItems=Qo;fs.OutputItemListResponsesPage=Zo;class hs extends z{constructor(){super(...arguments),this.runs=new fs(this._client)}create(r,n){return this._client.post("/evals",p({body:r},n))}retrieve(r,n){return this._client.get(`/evals/${r}`,n)}update(r,n,s){return this._client.post(`/evals/${r}`,p({body:n},s))}list(r={},n){return Ie(r)?this.list({},r):this._client.getAPIList("/evals",eu,p({query:r},n))}del(r,n){return this._client.delete(`/evals/${r}`,n)}}class eu extends Ne{}hs.EvalListResponsesPage=eu;hs.Runs=fs;hs.RunListResponsesPage=jo;let tu=class extends z{create(r,n){return this._client.post("/files",Vn(p({body:r},n)))}retrieve(r,n){return this._client.get(`/files/${r}`,n)}list(r={},n){return Ie(r)?this.list({},r):this._client.getAPIList("/files",nu,p({query:r},n))}del(r,n){return this._client.delete(`/files/${r}`,n)}content(r,n){return this._client.get(`/files/${r}/content`,b(p({},n),{headers:p({Accept:"application/binary"},n==null?void 0:n.headers),__binaryResponse:!0}))}retrieveContent(r,n){return this._client.get(`/files/${r}/content`,n)}waitForProcessing(u){return F(this,arguments,function*(r,{pollInterval:n=5e3,maxWait:s=30*60*1e3}={}){const c=new Set(["processed","error","deleted"]),g=Date.now();let w=yield this.retrieve(r);for(;!w.status||!c.has(w.status);)if(yield as(n),w=yield this.retrieve(r),Date.now()-g>s)throw new Bo({message:`Giving up on waiting for file ${r} to finish processing after ${s} milliseconds.`});return w})}};class nu extends Ne{}tu.FileObjectsPage=nu;class qh extends z{}let Gh=class extends z{run(r,n){return this._client.post("/fine_tuning/alpha/graders/run",p({body:r},n))}validate(r,n){return this._client.post("/fine_tuning/alpha/graders/validate",p({body:r},n))}};class ru extends z{constructor(){super(...arguments),this.graders=new Gh(this._client)}}ru.Graders=Gh;class su extends z{create(r,n,s){return this._client.getAPIList(`/fine_tuning/checkpoints/${r}/permissions`,iu,p({body:n,method:"post"},s))}retrieve(r,n={},s){return Ie(n)?this.retrieve(r,{},n):this._client.get(`/fine_tuning/checkpoints/${r}/permissions`,p({query:n},s))}del(r,n,s){return this._client.delete(`/fine_tuning/checkpoints/${r}/permissions/${n}`,s)}}class iu extends Ti{}su.PermissionCreateResponsesPage=iu;let Di=class extends z{constructor(){super(...arguments),this.permissions=new su(this._client)}};Di.Permissions=su;Di.PermissionCreateResponsesPage=iu;class au extends z{list(r,n={},s){return Ie(n)?this.list(r,{},n):this._client.getAPIList(`/fine_tuning/jobs/${r}/checkpoints`,ou,p({query:n},s))}}class ou extends Ne{}au.FineTuningJobCheckpointsPage=ou;class Ir extends z{constructor(){super(...arguments),this.checkpoints=new au(this._client)}create(r,n){return this._client.post("/fine_tuning/jobs",p({body:r},n))}retrieve(r,n){return this._client.get(`/fine_tuning/jobs/${r}`,n)}list(r={},n){return Ie(r)?this.list({},r):this._client.getAPIList("/fine_tuning/jobs",uu,p({query:r},n))}cancel(r,n){return this._client.post(`/fine_tuning/jobs/${r}/cancel`,n)}listEvents(r,n={},s){return Ie(n)?this.listEvents(r,{},n):this._client.getAPIList(`/fine_tuning/jobs/${r}/events`,lu,p({query:n},s))}pause(r,n){return this._client.post(`/fine_tuning/jobs/${r}/pause`,n)}resume(r,n){return this._client.post(`/fine_tuning/jobs/${r}/resume`,n)}}class uu extends Ne{}class lu extends Ne{}Ir.FineTuningJobsPage=uu;Ir.FineTuningJobEventsPage=lu;Ir.Checkpoints=au;Ir.FineTuningJobCheckpointsPage=ou;class Fn extends z{constructor(){super(...arguments),this.methods=new qh(this._client),this.jobs=new Ir(this._client),this.checkpoints=new Di(this._client),this.alpha=new ru(this._client)}}Fn.Methods=qh;Fn.Jobs=Ir;Fn.FineTuningJobsPage=uu;Fn.FineTuningJobEventsPage=lu;Fn.Checkpoints=Di;Fn.Alpha=ru;class Jh extends z{}class cu extends z{constructor(){super(...arguments),this.graderModels=new Jh(this._client)}}cu.GraderModels=Jh;class Xh extends z{createVariation(r,n){return this._client.post("/images/variations",Vn(p({body:r},n)))}edit(r,n){return this._client.post("/images/edits",Vn(p({body:r},n)))}generate(r,n){return this._client.post("/images/generations",p({body:r},n))}}class fu extends z{retrieve(r,n){return this._client.get(`/models/${r}`,n)}list(r){return this._client.getAPIList("/models",hu,r)}del(r,n){return this._client.delete(`/models/${r}`,n)}}class hu extends Ti{}fu.ModelsPage=hu;class zh extends z{create(r,n){return this._client.post("/moderations",p({body:r},n))}}function _b(a,r){return!r||!wb(r)?b(p({},a),{output_parsed:null,output:a.output.map(n=>n.type==="function_call"?b(p({},n),{parsed_arguments:null}):n.type==="message"?b(p({},n),{content:n.content.map(s=>b(p({},s),{parsed:null}))}):n)}):Kh(a,r)}function Kh(a,r){const n=a.output.map(u=>{if(u.type==="function_call")return b(p({},u),{parsed_arguments:bb(r,u)});if(u.type==="message"){const c=u.content.map(g=>g.type==="output_text"?b(p({},g),{parsed:mb(r,g.text)}):g);return b(p({},u),{content:c})}return u}),s=Object.assign({},a,{output:n});return Object.getOwnPropertyDescriptor(a,"output_text")||Yh(s),Object.defineProperty(s,"output_parsed",{enumerable:!0,get(){for(const u of s.output)if(u.type==="message"){for(const c of u.content)if(c.type==="output_text"&&c.parsed!==null)return c.parsed}return null}}),s}function mb(a,r){var n,s,u,c;return((s=(n=a.text)==null?void 0:n.format)==null?void 0:s.type)!=="json_schema"?null:"$parseRaw"in((u=a.text)==null?void 0:u.format)?((c=a.text)==null?void 0:c.format).$parseRaw(r):JSON.parse(r)}function wb(a){var r;return!!Ho((r=a.text)==null?void 0:r.format)}function vb(a){return(a==null?void 0:a.$brand)==="auto-parseable-tool"}function yb(a,r){return a.find(n=>n.type==="function"&&n.name===r)}function bb(a,r){var s;const n=yb((s=a.tools)!=null?s:[],r.name);return b(p(p({},r),r),{parsed_arguments:vb(n)?n.$parseRaw(r.arguments):n!=null&&n.strict?JSON.parse(r.arguments):null})}function Yh(a){const r=[];for(const n of a.output)if(n.type==="message")for(const s of n.content)s.type==="output_text"&&r.push(s.text);a.output_text=r.join("")}class Vh extends z{list(r,n={},s){return Ie(n)?this.list(r,{},n):this._client.getAPIList(`/responses/${r}/input_items`,Ab,p({query:n},s))}}var _r=function(a,r,n,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?a!==r||!u:!r.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(a,n):u?u.value=n:r.set(a,n),n},Pn=function(a,r,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?a!==r||!s:!r.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(a):s?s.value:r.get(a)},mr,pi,On,gi,If,Pf,Of,Tf;class du extends No{constructor(r){super(),mr.add(this),pi.set(this,void 0),On.set(this,void 0),gi.set(this,void 0),_r(this,pi,r,"f")}static createResponse(r,n,s){const u=new du(n);return u._run(()=>u._createOrRetrieveResponse(r,n,b(p({},s),{headers:b(p({},s==null?void 0:s.headers),{"X-Stainless-Helper-Method":"stream"})}))),u}_createOrRetrieveResponse(r,n,s){return F(this,null,function*(){var w,O;const u=s==null?void 0:s.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort())),Pn(this,mr,"m",If).call(this);let c,g=null;"response_id"in n?(c=yield r.responses.retrieve(n.response_id,{stream:!0},b(p({},s),{signal:this.controller.signal,stream:!0})),g=(w=n.starting_after)!=null?w:null):c=yield r.responses.create(b(p({},n),{stream:!0}),b(p({},s),{signal:this.controller.signal})),this._connected();try{for(var A=Ke(c),E,I,x;E=!(I=yield A.next()).done;E=!1){const T=I.value;Pn(this,mr,"m",Pf).call(this,T,g)}}catch(I){x=[I]}finally{try{E&&(I=A.return)&&(yield I.call(A))}finally{if(x)throw x[0]}}if((O=c.controller.signal)!=null&&O.aborted)throw new Ft;return Pn(this,mr,"m",Of).call(this)})}[(pi=new WeakMap,On=new WeakMap,gi=new WeakMap,mr=new WeakSet,If=function(){this.ended||_r(this,On,void 0,"f")},Pf=function(n,s){if(this.ended)return;const u=(g,w)=>{(s==null||w.sequence_number>s)&&this._emit(g,w)},c=Pn(this,mr,"m",Tf).call(this,n);switch(u("event",n),n.type){case"response.output_text.delta":{const g=c.output[n.output_index];if(!g)throw new X(`missing output at index ${n.output_index}`);if(g.type==="message"){const w=g.content[n.content_index];if(!w)throw new X(`missing content at index ${n.content_index}`);if(w.type!=="output_text")throw new X(`expected content to be 'output_text', got ${w.type}`);u("response.output_text.delta",b(p({},n),{snapshot:w.text}))}break}case"response.function_call_arguments.delta":{const g=c.output[n.output_index];if(!g)throw new X(`missing output at index ${n.output_index}`);g.type==="function_call"&&u("response.function_call_arguments.delta",b(p({},n),{snapshot:g.arguments}));break}default:u(n.type,n);break}},Of=function(){if(this.ended)throw new X("stream has ended, this shouldn't happen");const n=Pn(this,On,"f");if(!n)throw new X("request ended without sending any events");_r(this,On,void 0,"f");const s=xb(n,Pn(this,pi,"f"));return _r(this,gi,s,"f"),s},Tf=function(n){let s=Pn(this,On,"f");if(!s){if(n.type!=="response.created")throw new X(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return s=_r(this,On,n.response,"f"),s}switch(n.type){case"response.output_item.added":{s.output.push(n.item);break}case"response.content_part.added":{const u=s.output[n.output_index];if(!u)throw new X(`missing output at index ${n.output_index}`);u.type==="message"&&u.content.push(n.part);break}case"response.output_text.delta":{const u=s.output[n.output_index];if(!u)throw new X(`missing output at index ${n.output_index}`);if(u.type==="message"){const c=u.content[n.content_index];if(!c)throw new X(`missing content at index ${n.content_index}`);if(c.type!=="output_text")throw new X(`expected content to be 'output_text', got ${c.type}`);c.text+=n.delta}break}case"response.function_call_arguments.delta":{const u=s.output[n.output_index];if(!u)throw new X(`missing output at index ${n.output_index}`);u.type==="function_call"&&(u.arguments+=n.delta);break}case"response.completed":{_r(this,On,n.response,"f");break}}return s},Symbol.asyncIterator)](){const r=[],n=[];let s=!1;return this.on("event",u=>{const c=n.shift();c?c.resolve(u):r.push(u)}),this.on("end",()=>{s=!0;for(const u of n)u.resolve(void 0);n.length=0}),this.on("abort",u=>{s=!0;for(const c of n)c.reject(u);n.length=0}),this.on("error",u=>{s=!0;for(const c of n)c.reject(u);n.length=0}),{next:()=>F(this,null,function*(){return r.length?{value:r.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((c,g)=>n.push({resolve:c,reject:g})).then(c=>c?{value:c,done:!1}:{value:void 0,done:!0})}),return:()=>F(this,null,function*(){return this.abort(),{value:void 0,done:!0}})}}finalResponse(){return F(this,null,function*(){yield this.done();const r=Pn(this,gi,"f");if(!r)throw new X("stream ended without producing a ChatCompletion");return r})}}function xb(a,r){return _b(a,r)}class pu extends z{constructor(){super(...arguments),this.inputItems=new Vh(this._client)}create(r,n){var s;return this._client.post("/responses",b(p({body:r},n),{stream:(s=r.stream)!=null?s:!1}))._thenUnwrap(u=>("object"in u&&u.object==="response"&&Yh(u),u))}retrieve(r,n={},s){var u;return this._client.get(`/responses/${r}`,b(p({query:n},s),{stream:(u=n==null?void 0:n.stream)!=null?u:!1}))}del(r,n){return this._client.delete(`/responses/${r}`,b(p({},n),{headers:p({Accept:"*/*"},n==null?void 0:n.headers)}))}parse(r,n){return this._client.responses.create(r,n)._thenUnwrap(s=>Kh(s,r))}stream(r,n){return du.createResponse(this._client,r,n)}cancel(r,n){return this._client.post(`/responses/${r}/cancel`,b(p({},n),{headers:p({Accept:"*/*"},n==null?void 0:n.headers)}))}}class Ab extends Ne{}pu.InputItems=Vh;class Qh extends z{create(r,n,s){return this._client.post(`/uploads/${r}/parts`,Vn(p({body:n},s)))}}class gu extends z{constructor(){super(...arguments),this.parts=new Qh(this._client)}create(r,n){return this._client.post("/uploads",p({body:r},n))}cancel(r,n){return this._client.post(`/uploads/${r}/cancel`,n)}complete(r,n,s){return this._client.post(`/uploads/${r}/complete`,p({body:n},s))}}gu.Parts=Qh;const Cb=a=>F(void 0,null,function*(){const r=yield Promise.allSettled(a),n=r.filter(u=>u.status==="rejected");if(n.length){for(const u of n);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const s=[];for(const u of r)u.status==="fulfilled"&&s.push(u.value);return s});class ki extends z{create(r,n,s){return this._client.post(`/vector_stores/${r}/files`,b(p({body:n},s),{headers:p({"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers)}))}retrieve(r,n,s){return this._client.get(`/vector_stores/${r}/files/${n}`,b(p({},s),{headers:p({"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers)}))}update(r,n,s,u){return this._client.post(`/vector_stores/${r}/files/${n}`,b(p({body:s},u),{headers:p({"OpenAI-Beta":"assistants=v2"},u==null?void 0:u.headers)}))}list(r,n={},s){return Ie(n)?this.list(r,{},n):this._client.getAPIList(`/vector_stores/${r}/files`,Ni,b(p({query:n},s),{headers:p({"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers)}))}del(r,n,s){return this._client.delete(`/vector_stores/${r}/files/${n}`,b(p({},s),{headers:p({"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers)}))}createAndPoll(r,n,s){return F(this,null,function*(){const u=yield this.create(r,n,s);return yield this.poll(r,u.id,s)})}poll(r,n,s){return F(this,null,function*(){const u=b(p({},s==null?void 0:s.headers),{"X-Stainless-Poll-Helper":"true"});for(s!=null&&s.pollIntervalMs&&(u["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const c=yield this.retrieve(r,n,b(p({},s),{headers:u})).withResponse(),g=c.data;switch(g.status){case"in_progress":let w=5e3;if(s!=null&&s.pollIntervalMs)w=s.pollIntervalMs;else{const A=c.response.headers.get("openai-poll-after-ms");if(A){const E=parseInt(A);isNaN(E)||(w=E)}}yield as(w);break;case"failed":case"completed":return g}}})}upload(r,n,s){return F(this,null,function*(){const u=yield this._client.files.create({file:n,purpose:"assistants"},s);return this.create(r,{file_id:u.id},s)})}uploadAndPoll(r,n,s){return F(this,null,function*(){const u=yield this.upload(r,n,s);return yield this.poll(r,u.id,s)})}content(r,n,s){return this._client.getAPIList(`/vector_stores/${r}/files/${n}/content`,_u,b(p({},s),{headers:p({"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers)}))}}class Ni extends Ne{}class _u extends Ti{}ki.VectorStoreFilesPage=Ni;ki.FileContentResponsesPage=_u;class Zh extends z{create(r,n,s){return this._client.post(`/vector_stores/${r}/file_batches`,b(p({body:n},s),{headers:p({"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers)}))}retrieve(r,n,s){return this._client.get(`/vector_stores/${r}/file_batches/${n}`,b(p({},s),{headers:p({"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers)}))}cancel(r,n,s){return this._client.post(`/vector_stores/${r}/file_batches/${n}/cancel`,b(p({},s),{headers:p({"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers)}))}createAndPoll(r,n,s){return F(this,null,function*(){const u=yield this.create(r,n);return yield this.poll(r,u.id,s)})}listFiles(r,n,s={},u){return Ie(s)?this.listFiles(r,n,{},s):this._client.getAPIList(`/vector_stores/${r}/file_batches/${n}/files`,Ni,b(p({query:s},u),{headers:p({"OpenAI-Beta":"assistants=v2"},u==null?void 0:u.headers)}))}poll(r,n,s){return F(this,null,function*(){const u=b(p({},s==null?void 0:s.headers),{"X-Stainless-Poll-Helper":"true"});for(s!=null&&s.pollIntervalMs&&(u["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:c,response:g}=yield this.retrieve(r,n,b(p({},s),{headers:u})).withResponse();switch(c.status){case"in_progress":let w=5e3;if(s!=null&&s.pollIntervalMs)w=s.pollIntervalMs;else{const A=g.headers.get("openai-poll-after-ms");if(A){const E=parseInt(A);isNaN(E)||(w=E)}}yield as(w);break;case"failed":case"cancelled":case"completed":return c}}})}uploadAndPoll(c,g,w){return F(this,arguments,function*(r,{files:n,fileIds:s=[]},u){var ce;if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const A=(ce=u==null?void 0:u.maxConcurrency)!=null?ce:5,E=Math.min(A,n.length),I=this._client,x=n.values(),O=[...s];function T(j){return F(this,null,function*(){for(let B of j){const W=yield I.files.create({file:B,purpose:"assistants"},u);O.push(W.id)}})}const L=Array(E).fill(x).map(T);return yield Cb(L),yield this.createAndPoll(r,{file_ids:O})})}}class Ln extends z{constructor(){super(...arguments),this.files=new ki(this._client),this.fileBatches=new Zh(this._client)}create(r,n){return this._client.post("/vector_stores",b(p({body:r},n),{headers:p({"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers)}))}retrieve(r,n){return this._client.get(`/vector_stores/${r}`,b(p({},n),{headers:p({"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers)}))}update(r,n,s){return this._client.post(`/vector_stores/${r}`,b(p({body:n},s),{headers:p({"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers)}))}list(r={},n){return Ie(r)?this.list({},r):this._client.getAPIList("/vector_stores",mu,b(p({query:r},n),{headers:p({"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers)}))}del(r,n){return this._client.delete(`/vector_stores/${r}`,b(p({},n),{headers:p({"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers)}))}search(r,n,s){return this._client.getAPIList(`/vector_stores/${r}/search`,wu,b(p({body:n,method:"post"},s),{headers:p({"OpenAI-Beta":"assistants=v2"},s==null?void 0:s.headers)}))}}class mu extends Ne{}class wu extends Ti{}Ln.VectorStoresPage=mu;Ln.VectorStoreSearchResponsesPage=wu;Ln.Files=ki;Ln.VectorStoreFilesPage=Ni;Ln.FileContentResponsesPage=_u;Ln.FileBatches=Zh;var jh;class K extends Jy{constructor(A={}){var E=A,{baseURL:r=li("OPENAI_BASE_URL"),apiKey:n=li("OPENAI_API_KEY"),organization:s=(g=>(g=li("OPENAI_ORG_ID"))!=null?g:null)(),project:u=(w=>(w=li("OPENAI_PROJECT_ID"))!=null?w:null)()}=E,c=ze(E,["baseURL","apiKey","organization","project"]);var x;if(n===void 0)throw new X("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const I=b(p({apiKey:n,organization:s,project:u},c),{baseURL:r||"https://api.openai.com/v1"});if(!I.dangerouslyAllowBrowser&&tb())throw new X(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:I.baseURL,timeout:(x=I.timeout)!=null?x:6e5,httpAgent:I.httpAgent,maxRetries:I.maxRetries,fetch:I.fetch}),this.completions=new Wh(this),this.chat=new Li(this),this.embeddings=new Hh(this),this.files=new tu(this),this.images=new Xh(this),this.audio=new os(this),this.moderations=new zh(this),this.models=new fu(this),this.fineTuning=new Fn(this),this.graders=new cu(this),this.vectorStores=new Ln(this),this.beta=new Er(this),this.batches=new Do(this),this.uploads=new gu(this),this.responses=new pu(this),this.evals=new hs(this),this.containers=new cs(this),this._options=I,this.apiKey=n,this.organization=s,this.project=u}defaultQuery(){return this._options.defaultQuery}defaultHeaders(r){return p(b(p({},super.defaultHeaders(r)),{"OpenAI-Organization":this.organization,"OpenAI-Project":this.project}),this._options.defaultHeaders)}authHeaders(r){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(r){return Ey(r,{arrayFormat:"brackets"})}}jh=K;K.OpenAI=jh;K.DEFAULT_TIMEOUT=6e5;K.OpenAIError=X;K.APIError=Ve;K.APIConnectionError=Ei;K.APIConnectionTimeoutError=Bo;K.APIUserAbortError=Ft;K.NotFoundError=Qf;K.ConflictError=Zf;K.RateLimitError=eh;K.BadRequestError=Kf;K.AuthenticationError=Yf;K.InternalServerError=th;K.PermissionDeniedError=Vf;K.UnprocessableEntityError=jf;K.toFile=oh;K.fileFromPath=Jf;K.Completions=Wh;K.Chat=Li;K.ChatCompletionsPage=Fi;K.Embeddings=Hh;K.Files=tu;K.FileObjectsPage=nu;K.Images=Xh;K.Audio=os;K.Moderations=zh;K.Models=fu;K.ModelsPage=hu;K.FineTuning=Fn;K.Graders=cu;K.VectorStores=Ln;K.VectorStoresPage=mu;K.VectorStoreSearchResponsesPage=wu;K.Beta=Er;K.Batches=Do;K.BatchesPage=ko;K.Uploads=gu;K.Responses=pu;K.Evals=hs;K.EvalListResponsesPage=eu;K.Containers=cs;K.ContainerListResponsesPage=Vo;const Sb={class:"operations"},Rb={class:"shortcut",style:{display:"flex","align-items":"center",gap:"8px"}},Eb={class:"input-foot-wrapper"},Ib={class:"input-foot-left"},Pb={class:"input-foot-maxlength"},Ob={class:"input-foot-right"},Tb=Sr({__name:"test22",setup(a){const r=Fe("light"),n=Fe(null),s=Fe("深度思考内容"),u=Fe("icon-chevron-up-2"),c=Fe(!1),g=Fe("qwen3-max-preview"),w=[{value:"deepseek-chat",label:"DeepSeek-chat"},{value:"deepseek-reasoner",label:"DeepSeek-reasoner"},{value:"qwen3-max-preview",label:"通义千问3-Max-Preview"}],A=()=>{c.value=!c.value,u.value=c.value?"icon-chevron-down-2":"icon-chevron-up-2"},E=[{deepseek:"https://api.deepseek.com/v1",key:"sk-4bf67fef6d4b463ebf8599a14cd25cbd"},{qwen3:"https://dashscope.aliyuncs.com/compatible-mode/v1",key:"sk-a42ce4a4168a4aaf80143e0b0bb4a42e"}],I=Fe(E[1].qwen3),x=Fe(E[1].key),O=Fe();O.value=new K({apiKey:x.value,baseURL:I.value,dangerouslyAllowBrowser:!0});const T=fe=>{g.value=fe;const N=E.find(we=>Object.keys(we).some(Ae=>fe.includes(Ae)));I.value=N[Object.keys(N)[0]],x.value=N[Object.keys(N)[1]],O.value=new K({apiKey:x.value,baseURL:I.value,dangerouslyAllowBrowser:!0})};Fe(`
    # 快速排序（Quick Sort）

    ### 介绍
    **快速排序（Quick Sort）**：是一种高效的排序算法，它采用分治法（Divide and Conquer）的思想。它的基本思路是：

    1. 选择一个基准值（pivot）
    2. 将数组分成两部分：小于基准值的部分和大于等于基准值的部分
    3. 递归地对这两部分进行排序

    ### 代码实现

    1. 以下是快速排序的实现方法
    \`\`\`ts
    function quickSort(arr) {
      function quickSort(arr) {
      if (arr.length < 2) {
        return arr;
      }

      const pivot = arr[0];
      const left = [];
      const right = [];

      for (let i = 1; i < arr.length; i++) {
        if (arr[i] < pivot) {
          left.push(arr[i]);
        } else {
          right.push(arr[i]);
        }
      }

      return [...quickSort(left), pivot, ...quickSort(right)];
    }

    // 使用示例
    const arr = [3, 6, 8, 10, 1, 2, 1];
    console.log(quickSort(arr)); // 输出排序后的数组
    }
    \`\`\`
    `);const L=["如果您有任何问题，请随时向我提问。"],ce=[{value:"quickSort",label:"驼人集团在哪里？",iconConfig:{name:"icon-info-o",color:"#5e7ce0"}},{value:"helpMd",label:"你可以帮我做些什么？",iconConfig:{name:"icon-star",color:"rgb(255, 215, 0)"}}],j=[{value:"quickSort",label:"医疗器械都有哪些？",iconConfig:{name:"icon-info-o",color:"#5e7ce0"}},{value:"helpMd",label:"医疗器械注册流程是怎样的？",iconConfig:{name:"icon-star",color:"rgb(255, 215, 0)"}},{value:"helpMd",label:"中国医疗耗材之都是哪里？",iconConfig:{name:"icon-star",color:"rgb(255, 215, 0)"}}],B=[{value:"quickSort",iconConfig:{name:"icon-info-o",color:"#5e7ce0"},label:"帮我写一个快速排序"},{value:"helpMd",iconConfig:{name:"icon-star",color:"rgb(255, 215, 0)"},label:"你可以帮我做些什么？"}],W=Fe(!0),Y=Fe("");Fe([[{role:"user",content:"你好！很高兴见到你！",avatarConfig:{name:"user"}},{role:"assistant",content:`好的，驼人集团的总部位于中国河南省**新乡市长垣市**。

这是一个非常具体的位置，以下是详细信息：

**1. 总部详细地址：**
* **地址：** 河南省新乡市长垣市驼人健康产业园区
* **邮编：** 453400

**2. 关于所在地——长垣市：**
* 长垣市是河南省的一个县级市，由新乡市代管。
* 它被称为“中国医疗耗材之都”，医疗器械产业是其支柱产业。驼人集团正是从这里发展起来，并成为该领域的龙头企业。

**3. 主要生产基地和园区：**
* 驼人集团的核心生产和运营都集中在**长垣市**。
* 集团建设了规模庞大的“**驼人健康产业园区**”，集生产、研发、交易、物流、医疗、教育等功能于一体。

**4. 其他地点：**
* 除了长垣总部，驼人集团在全国主要省市（如北京、上海、广州等）以及海外（如美国、印度、德国等）设有**子公司、办事处或研发中心**，用于市场销售、技术支持和研发合作。
* 但其**主要制造基地和集团总部**始终在河南长垣。

**总结一下：**

如果您需要联系集团总部、参观工厂或进行商务合作，您的目的地就是：

**河南省新乡市长垣市**。

**如何前往：**
* **最近的机场：** 新郑国际机场（CGO，位于郑州），然后可乘坐高铁或汽车前往长垣。
* **高铁：** 可乘坐高铁至“**长垣站**”，出站后打车即可到达驼人集团园区。
* **自驾：** 导航至“驼人健康产业园区”即可。

如果您需要具体的联系方式，可以访问他们的官方网站（通常搜索“驼人集团官网”即可找到）获取最新的电话和邮箱。`,avatarConfig:{name:"model"},id:"0568ab1e-9985-4f34-9b8b-1c71de1f2270",loading:!1}],[{role:"user",content:"你好！很高兴见到你！",avatarConfig:{name:"user"}},{role:"assistant",content:`好的，驼人集团的总部位于中国河南省**新乡市长垣市**。

这是一个非常具体的位置，以下是详细信息：

**1. 总部详细地址：**
* **地址：** 河南省新乡市长垣市驼人健康产业园区
* **邮编：** 453400

**2. 关于所在地——长垣市：**
* 长垣市是河南省的一个县级市，由新乡市代管。
* 它被称为“中国医疗耗材之都”，医疗器械产业是其支柱产业。驼人集团正是从这里发展起来，并成为该领域的龙头企业。

**3. 主要生产基地和园区：**
* 驼人集团的核心生产和运营都集中在**长垣市**。
* 集团建设了规模庞大的“**驼人健康产业园区**”，集生产、研发、交易、物流、医疗、教育等功能于一体。

**4. 其他地点：**
* 除了长垣总部，驼人集团在全国主要省市（如北京、上海、广州等）以及海外（如美国、印度、德国等）设有**子公司、办事处或研发中心**，用于市场销售、技术支持和研发合作。
* 但其**主要制造基地和集团总部**始终在河南长垣。

**总结一下：**

如果您需要联系集团总部、参观工厂或进行商务合作，您的目的地就是：

**河南省新乡市长垣市**。

**如何前往：**
* **最近的机场：** 新郑国际机场（CGO，位于郑州），然后可乘坐高铁或汽车前往长垣。
* **高铁：** 可乘坐高铁至“**长垣站**”，出站后打车即可到达驼人集团园区。
* **自驾：** 导航至“驼人健康产业园区”即可。

如果您需要具体的联系方式，可以访问他们的官方网站（通常搜索“驼人集团官网”即可找到）获取最新的电话和邮箱。`,avatarConfig:{name:"model"},id:"0568ab1e-9985-4f34-9b8b-1c71de1f2270",loading:!1}]]);const H=Fe([]),de=()=>{j0.success("开始新对话！"),W.value=!0,H.value=[]},pe=Fe(!1),ne=Fe(0),ee=()=>{var we;const fe=(we=n.value)==null?void 0:we.$el;if(!fe)return;const N=fe.scrollTop;N<ne.value?pe.value=!0:fe.scrollTop+fe.clientHeight>fe.scrollHeight-30&&N>ne.value&&(pe.value=!1),ne.value=N},Q=(fe=!0)=>F(this,null,function*(){var we;yield z0();const N=(we=n.value)==null?void 0:we.$el;if(N&&!pe.value){const Ae=N.scrollHeight-N.clientHeight;fe?N.scrollTo({top:Ae,behavior:"smooth"}):N.scrollTo(0,Ae)}});let re="";const ge=fe=>F(this,null,function*(){var Ae,Le,Zt,We,Lt,jt,Qn,qt,be,Zn,dn,Mn,Pr,it,pn,ds,At,Or,ps,gn,at,_n;if(c.value=!1,re="",!O.value)return;yield Q(!0);const N=Fe([]);H.value.length<=2?N.value=[{role:H.value[0].role,content:H.value[0].content}]:N.value=H.value.slice(0,H.value.length-1).map(Pe=>({role:Pe.role,content:Pe.content}));const we=yield O.value.chat.completions.create({model:g.value,messages:N.value,stream:!0});try{for(var gs=Ke(we),ed,Tr,td;ed=!(Tr=yield gs.next()).done;ed=!1){const Pe=Tr.value;const mn=Pe.id,$r=Pe.model;if(H.value[H.value.length-1].id=mn,H.value[H.value.length-1].model=$r,(((Le=(Ae=Pe.choices[0])==null?void 0:Ae.delta)==null?void 0:Le.content)!==null&&((We=(Zt=Pe.choices[0])==null?void 0:Zt.delta)==null?void 0:We.content)!==void 0||((jt=(Lt=Pe.choices[0])==null?void 0:Lt.delta)==null?void 0:jt.reasoning_content)!==""&&((qt=(Qn=Pe.choices[0])==null?void 0:Qn.delta)==null?void 0:qt.reasoning_content)!==null)&&(H.value[H.value.length-1].loading=!1),((Zn=(be=Pe.choices[0])==null?void 0:be.delta)==null?void 0:Zn.reasoning_content)!==""&&((Mn=(dn=Pe.choices[0])==null?void 0:dn.delta)==null?void 0:Mn.reasoning_content)!==null&&((it=(Pr=Pe.choices[0])==null?void 0:Pr.delta)==null?void 0:it.content)===null){let Bn=(ds=(pn=Pe.choices[0])==null?void 0:pn.delta)==null?void 0:ds.reasoning_content;re+=Bn,H.value[H.value.length-1].content=`<think>${re}
  </think>

  `}else if(((Or=(At=Pe.choices[0])==null?void 0:At.delta)==null?void 0:Or.content)!==null&&((gn=(ps=Pe.choices[0])==null?void 0:ps.delta)==null?void 0:gn.content)!==""){const Bn=(_n=(at=Pe.choices[0])==null?void 0:at.delta)==null?void 0:_n.content;H.value[H.value.length-1].content+=Bn}yield Q(!1)}}catch(Tr){td=[Tr]}finally{try{ed&&(Tr=gs.return)&&(yield Tr.call(gs))}finally{if(td)throw td[0]}}yield Q(!1),Qe()}),D=fe=>F(this,null,function*(){var N,we;pe.value=!1,Y.value="",W.value=!1,H.value.push({role:"user",content:fe,avatarConfig:{name:"user"}}),H.value.push({model:"",role:"assistant",content:"",avatarConfig:{name:"model"},id:null,loading:!0}),yield Q(!0),n.value.$el.addEventListener("scroll",ee),ne.value=(we=(N=n.value)==null?void 0:N.$el)==null?void 0:we.scrollTop,ge()}),Ge=()=>{window.open("https://www.tuoren.com","_blank")},xt=(fe,N=!1)=>{H.value=fe,W.value=N};let tt={method:"get",maxBodyLength:1/0,url:"https://api.deepseek.com/user/balance",headers:{Accept:"application/json",Authorization:"Bearer sk-4bf67fef6d4b463ebf8599a14cd25cbd"}};const Ht=Fe(0),Qe=()=>F(this,null,function*(){try{const fe=yield K0.request(tt);Ht.value=fe.data.balance_infos[0].total_balance}catch(fe){}});return q0(()=>{Qe(),n.value&&n.value.$el.addEventListener("scroll",ee)}),G0(()=>{n.value&&n.value.$el.removeEventListener("scroll",ee)}),(fe,N)=>{const we=Kt("McHeader"),Ae=Kt("McIntroduction"),Le=Kt("McPrompt"),Zt=Kt("McLayoutContent"),We=Kt("McBubble"),Lt=Kt("McMarkdownCard"),jt=Kt("McInput"),Qn=Kt("McLayoutSender"),qt=Kt("McLayout");return En(),dr(Xn(Z0),{style:{height:"98%","margin-top":"10px"}},{default:$t(()=>[ae(Xn(lo),{span:2}),ae(Xn(lo),{style:{height:"100%"},span:5},{default:$t(()=>[ae(V0,{currentMsg:H.value,onSelectMsg:xt},null,8,["currentMsg"])]),_:1}),ae(Xn(lo),{style:{height:"100%"},span:17},{default:$t(()=>[ae(qt,{class:"container"},{default:$t(()=>[ae(we,{title:"TUORen",logoImg:"src/assets/images/tuoren-logo.png",logoClickable:!0,onLogoClicked:Ge},{operationArea:$t(()=>[wt("div",Sb,[oo(" DS可用余额"+uo(Ht.value),1),N[7]||(N[7]=wt("i",{class:"icon-helping"},null,-1))])]),_:1}),W.value?(En(),dr(Zt,{key:0,style:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center",gap:"12px"}},{default:$t(()=>[ae(Ae,{logoImg:"src/assets/images/tuoren-icon.png",title:"TR",subTitle:"欢迎",description:L}),ae(Le,{list:ce,direction:"horizontal",class:"intro-prompt",onItemClick:N[0]||(N[0]=be=>D(be.label))}),ae(Le,{list:j,direction:"horizontal",class:"intro-prompt",onItemClick:N[1]||(N[1]=be=>D(be.label))})]),_:1})):(En(),dr(Zt,{key:1,ref_key:"talkContent",ref:n,class:"content-container"},{default:$t(()=>[(En(!0),jc(ef,null,J0(H.value,(be,Zn)=>(En(),jc(ef,{key:Zn},[be.role==="user"?(En(),dr(We,{key:0,content:be.content,align:"right",avatarPosition:"top",avatarConfig:{imgSrc:"https://matechat.gitcode.com/png/demo/userAvatar.svg",displayName:"My"}},null,8,["content"])):(En(),dr(We,{key:1,content:be.content,avatarConfig:{imgSrc:"https://matechat.gitcode.com/logo.svg",displayName:"TR"},loading:be.loading,avatarPosition:"top",class:tf(c.value?"think-block-shrink":"think-block-expand")},{default:$t(()=>[$f(wt("div",{class:"think-toggle-btn",onClick:N[2]||(N[2]=dn=>A())},[ae(nf,{icon:"noto:thinking-face",size:"30",color:"#00a2ff"}),wt("span",null,uo(s.value),1),wt("i",{class:tf(u.value)},null,2)],512),[[Ff,be.model=="deepseek-reasoner"]]),ae(Lt,{enableThink:!0,content:be.content,theme:r.value},null,8,["content","theme"])]),loadingTpl:$t(()=>[wt("div",null,[N[8]||(N[8]=oo("我正在思考中",-1)),ae(nf,{icon:"line-md:loading-alt-loop",size:"32",color:"#00a2ff"})])]),_:2},1032,["content","loading","class"]))],64))),128))]),_:1},512)),wt("div",Rb,[W.value?X0("",!0):(En(),dr(Le,{key:0,list:B,direction:"horizontal",style:{flex:"1"},onItemClick:N[3]||(N[3]=be=>D(be.label))})),ae(Xn(lf),{style:{"margin-left":"auto"},icon:"add",shape:"circle",title:"新建对话",size:"md",onClick:de})]),ae(Qn,null,{default:$t(()=>[ae(jt,{value:Y.value,maxLength:2e3,onChange:N[6]||(N[6]=be=>Y.value=be),onSubmit:D},{extra:$t(()=>[wt("div",Eb,[wt("div",Ib,[N[9]||(N[9]=oo(" 选择大模型: ",-1)),ae(Xn(Q0),{ref:"select",value:g.value,"onUpdate:value":N[4]||(N[4]=be=>g.value=be),placement:"topRight",style:{width:"200px"},options:w,onChange:T},null,8,["value"]),N[10]||(N[10]=wt("span",{class:"input-foot-dividing-line"},null,-1)),wt("span",Pb,uo(Y.value.length)+"/2000",1)]),wt("div",Ob,[ae(Xn(lf),{icon:"op-clearup",shape:"round",disabled:!Y.value,onClick:N[5]||(N[5]=be=>Y.value="")},{default:$t(()=>[...N[11]||(N[11]=[wt("span",{class:"demo-button-content"},"清空输入",-1)])]),_:1},8,["disabled"])])])]),_:1},8,["value"])]),_:1})]),_:1})]),_:1})]),_:1})}}}),Vb=Y0(Tb,[["__scopeId","data-v-a49e97a0"]]);export{Vb as default};
